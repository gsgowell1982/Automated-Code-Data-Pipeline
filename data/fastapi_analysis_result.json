{
  "project_name": "fastapi-realworld-example-app",
  "analysis_timestamp": "2026-01-28T06:03:39.935028",
  "analyzer_version": "1.0.0",
  "root_path": "/workspace/repos/fastapi-realworld-example-app",
  "modules": [
    {
      "file_path": "app/__init__.py",
      "module_name": "app.__init__",
      "package": "app",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 1,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 0,
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e"
    },
    {
      "file_path": "app/api/__init__.py",
      "module_name": "app.api.__init__",
      "package": "app.api",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 1,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 0,
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e"
    },
    {
      "file_path": "app/api/dependencies/__init__.py",
      "module_name": "app.api.dependencies.__init__",
      "package": "app.api.dependencies",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 1,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 0,
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e"
    },
    {
      "file_path": "app/api/dependencies/articles.py",
      "module_name": "app.api.dependencies.articles",
      "package": "app.api.dependencies",
      "docstring": null,
      "imports": [
        {
          "module": "typing",
          "names": [
            "Optional"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "fastapi",
          "names": [
            "Depends",
            "HTTPException",
            "Path",
            "Query"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "starlette",
          "names": [
            "status"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "app.api.dependencies.authentication",
          "names": [
            "get_current_user_authorizer"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        },
        {
          "module": "app.api.dependencies.database",
          "names": [
            "get_repository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        },
        {
          "module": "app.db.errors",
          "names": [
            "EntityDoesNotExist"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 8
        },
        {
          "module": "app.db.repositories.articles",
          "names": [
            "ArticlesRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 9
        },
        {
          "module": "app.models.domain.articles",
          "names": [
            "Article"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 10
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "User"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 11
        },
        {
          "module": "app.models.schemas.articles",
          "names": [
            "DEFAULT_ARTICLES_LIMIT",
            "DEFAULT_ARTICLES_OFFSET",
            "ArticlesFilters"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 12
        },
        {
          "module": "app.resources",
          "names": [
            "strings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 17
        },
        {
          "module": "app.services.articles",
          "names": [
            "check_user_can_modify_article"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 18
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "get_articles_filters",
          "qualified_name": "app.api.dependencies.articles.get_articles_filters",
          "parameters": [
            {
              "name": "tag",
              "type_annotation": "Optional[str]",
              "default_value": "None",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "author",
              "type_annotation": "Optional[str]",
              "default_value": "None",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "favorited",
              "type_annotation": "Optional[str]",
              "default_value": "None",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "limit",
              "type_annotation": "int",
              "default_value": "Query(DEFAULT_ARTICLES_LIMIT)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "offset",
              "type_annotation": "int",
              "default_value": "Query(DEFAULT_ARTICLES_OFFSET)",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "ArticlesFilters",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 21,
          "line_end": 34,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "Query",
            "Query",
            "ArticlesFilters"
          ]
        },
        {
          "name": "get_article_by_slug_from_path",
          "qualified_name": "app.api.dependencies.articles.get_article_by_slug_from_path",
          "parameters": [
            {
              "name": "slug",
              "type_annotation": "str",
              "default_value": "Path(Ellipsis)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "Optional[User]",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "articles_repo",
              "type_annotation": "ArticlesRepository",
              "default_value": "Depends(get_repository(ArticlesRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "Article",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 37,
          "line_end": 48,
          "complexity": 2,
          "local_variables": [],
          "calls": [
            "Path",
            "Depends",
            "get_current_user_authorizer",
            "Depends",
            "get_repository",
            "articles_repo.get_article_by_slug",
            "HTTPException"
          ]
        },
        {
          "name": "check_article_modification_permissions",
          "qualified_name": "app.api.dependencies.articles.check_article_modification_permissions",
          "parameters": [
            {
              "name": "current_article",
              "type_annotation": "Article",
              "default_value": "Depends(get_article_by_slug_from_path)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "User",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 51,
          "line_end": 59,
          "complexity": 2,
          "local_variables": [],
          "calls": [
            "Depends",
            "Depends",
            "get_current_user_authorizer",
            "check_user_can_modify_article",
            "HTTPException"
          ]
        }
      ],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 60,
      "blank_lines": 9,
      "comment_lines": 0,
      "code_lines": 51,
      "file_hash": "f48c4aba8f3e1d8b604e1a4667eba056"
    },
    {
      "file_path": "app/api/dependencies/authentication.py",
      "module_name": "app.api.dependencies.authentication",
      "package": "app.api.dependencies",
      "docstring": null,
      "imports": [
        {
          "module": "typing",
          "names": [
            "Callable",
            "Optional"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        },
        {
          "module": "fastapi",
          "names": [
            "Depends",
            "HTTPException",
            "Security"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "fastapi.security",
          "names": [
            "APIKeyHeader"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        },
        {
          "module": "starlette",
          "names": [
            "requests",
            "status"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        },
        {
          "module": "starlette.exceptions",
          "names": [
            "HTTPException"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        },
        {
          "module": "app.api.dependencies.database",
          "names": [
            "get_repository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 9
        },
        {
          "module": "app.core.config",
          "names": [
            "get_app_settings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 10
        },
        {
          "module": "app.core.settings.app",
          "names": [
            "AppSettings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 11
        },
        {
          "module": "app.db.errors",
          "names": [
            "EntityDoesNotExist"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 12
        },
        {
          "module": "app.db.repositories.users",
          "names": [
            "UsersRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 13
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "User"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 14
        },
        {
          "module": "app.resources",
          "names": [
            "strings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 15
        },
        {
          "module": "app.services",
          "names": [
            "jwt"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 16
        }
      ],
      "classes": [
        {
          "name": "RWAPIKeyHeader",
          "qualified_name": "app.api.dependencies.authentication.RWAPIKeyHeader",
          "bases": [
            "APIKeyHeader"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [
            {
              "name": "__call__",
              "qualified_name": "app.api.dependencies.authentication.RWAPIKeyHeader.__call__",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "request",
                  "type_annotation": "requests.Request",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "Optional[str]",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 22,
              "line_end": 32,
              "complexity": 2,
              "local_variables": [],
              "calls": [
                "__call__",
                "super",
                "HTTPException"
              ]
            }
          ],
          "attributes": [],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 21,
          "line_end": 32
        }
      ],
      "functions": [
        {
          "name": "get_current_user_authorizer",
          "qualified_name": "app.api.dependencies.authentication.get_current_user_authorizer",
          "parameters": [
            {
              "name": "required",
              "type_annotation": "bool",
              "default_value": "True",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "Callable",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 35,
          "line_end": 36,
          "complexity": 2,
          "local_variables": [],
          "calls": []
        },
        {
          "name": "_get_authorization_header_retriever",
          "qualified_name": "app.api.dependencies.authentication._get_authorization_header_retriever",
          "parameters": [
            {
              "name": "required",
              "type_annotation": "bool",
              "default_value": "True",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "Callable",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 39,
          "line_end": 43,
          "complexity": 2,
          "local_variables": [],
          "calls": []
        },
        {
          "name": "_get_authorization_header",
          "qualified_name": "app.api.dependencies.authentication._get_authorization_header",
          "parameters": [
            {
              "name": "api_key",
              "type_annotation": "str",
              "default_value": "Security(RWAPIKeyHeader())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "settings",
              "type_annotation": "AppSettings",
              "default_value": "Depends(get_app_settings)",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "str",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 46,
          "line_end": 63,
          "complexity": 3,
          "local_variables": [],
          "calls": [
            "Security",
            "RWAPIKeyHeader",
            "Depends",
            "api_key.split",
            "HTTPException",
            "HTTPException"
          ]
        },
        {
          "name": "_get_authorization_header_optional",
          "qualified_name": "app.api.dependencies.authentication._get_authorization_header_optional",
          "parameters": [
            {
              "name": "authorization",
              "type_annotation": "Optional[str]",
              "default_value": "Security(RWAPIKeyHeader())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "settings",
              "type_annotation": "AppSettings",
              "default_value": "Depends(get_app_settings)",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "str",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 66,
          "line_end": 75,
          "complexity": 2,
          "local_variables": [],
          "calls": [
            "Security",
            "RWAPIKeyHeader",
            "Depends",
            "_get_authorization_header"
          ]
        },
        {
          "name": "_get_current_user",
          "qualified_name": "app.api.dependencies.authentication._get_current_user",
          "parameters": [
            {
              "name": "users_repo",
              "type_annotation": "UsersRepository",
              "default_value": "Depends(get_repository(UsersRepository))",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "token",
              "type_annotation": "str",
              "default_value": "Depends(_get_authorization_header_retriever())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "settings",
              "type_annotation": "AppSettings",
              "default_value": "Depends(get_app_settings)",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "User",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 78,
          "line_end": 100,
          "complexity": 3,
          "local_variables": [
            "username"
          ],
          "calls": [
            "Depends",
            "get_repository",
            "Depends",
            "_get_authorization_header_retriever",
            "Depends",
            "jwt.get_username_from_token",
            "str",
            "settings.secret_key.get_secret_value",
            "HTTPException",
            "users_repo.get_user_by_username",
            "HTTPException"
          ]
        },
        {
          "name": "_get_current_user_optional",
          "qualified_name": "app.api.dependencies.authentication._get_current_user_optional",
          "parameters": [
            {
              "name": "repo",
              "type_annotation": "UsersRepository",
              "default_value": "Depends(get_repository(UsersRepository))",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "token",
              "type_annotation": "str",
              "default_value": "Depends(_get_authorization_header_retriever())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "settings",
              "type_annotation": "AppSettings",
              "default_value": "Depends(get_app_settings)",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "Optional[User]",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 103,
          "line_end": 111,
          "complexity": 2,
          "local_variables": [],
          "calls": [
            "Depends",
            "get_repository",
            "Depends",
            "_get_authorization_header_retriever",
            "Depends",
            "_get_current_user"
          ]
        }
      ],
      "global_variables": [
        {
          "name": "HEADER_KEY",
          "type_annotation": null,
          "default_value": "Authorization",
          "is_class_var": false,
          "line_number": 18
        }
      ],
      "routers": [],
      "endpoints": [],
      "line_count": 112,
      "blank_lines": 22,
      "comment_lines": 1,
      "code_lines": 89,
      "file_hash": "0f5e9096d545a84702aaeffa01673942"
    },
    {
      "file_path": "app/api/dependencies/comments.py",
      "module_name": "app.api.dependencies.comments",
      "package": "app.api.dependencies",
      "docstring": null,
      "imports": [
        {
          "module": "typing",
          "names": [
            "Optional"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "fastapi",
          "names": [
            "Depends",
            "HTTPException",
            "Path"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "starlette",
          "names": [
            "status"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "app.api.dependencies",
          "names": [
            "articles",
            "authentication",
            "database"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        },
        {
          "module": "app.db.errors",
          "names": [
            "EntityDoesNotExist"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        },
        {
          "module": "app.db.repositories.comments",
          "names": [
            "CommentsRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 8
        },
        {
          "module": "app.models.domain.articles",
          "names": [
            "Article"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 9
        },
        {
          "module": "app.models.domain.comments",
          "names": [
            "Comment"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 10
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "User"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 11
        },
        {
          "module": "app.resources",
          "names": [
            "strings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 12
        },
        {
          "module": "app.services.comments",
          "names": [
            "check_user_can_modify_comment"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 13
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "get_comment_by_id_from_path",
          "qualified_name": "app.api.dependencies.comments.get_comment_by_id_from_path",
          "parameters": [
            {
              "name": "comment_id",
              "type_annotation": "int",
              "default_value": "Path(Ellipsis)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "article",
              "type_annotation": "Article",
              "default_value": "Depends(articles.get_article_by_slug_from_path)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "Optional[User]",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "comments_repo",
              "type_annotation": "CommentsRepository",
              "default_value": "Depends(get_repository(CommentsRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "Comment",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 16,
          "line_end": 36,
          "complexity": 2,
          "local_variables": [],
          "calls": [
            "Path",
            "Depends",
            "Depends",
            "authentication.get_current_user_authorizer",
            "Depends",
            "database.get_repository",
            "comments_repo.get_comment_by_id",
            "HTTPException"
          ]
        },
        {
          "name": "check_comment_modification_permissions",
          "qualified_name": "app.api.dependencies.comments.check_comment_modification_permissions",
          "parameters": [
            {
              "name": "comment",
              "type_annotation": "Comment",
              "default_value": "Depends(get_comment_by_id_from_path)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "User",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 39,
          "line_end": 47,
          "complexity": 2,
          "local_variables": [],
          "calls": [
            "Depends",
            "Depends",
            "authentication.get_current_user_authorizer",
            "check_user_can_modify_comment",
            "HTTPException"
          ]
        }
      ],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 48,
      "blank_lines": 7,
      "comment_lines": 0,
      "code_lines": 41,
      "file_hash": "159391c618d02fd59eea7e2a76574158"
    },
    {
      "file_path": "app/api/dependencies/database.py",
      "module_name": "app.api.dependencies.database",
      "package": "app.api.dependencies",
      "docstring": null,
      "imports": [
        {
          "module": "typing",
          "names": [
            "AsyncGenerator",
            "Callable",
            "Type"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "asyncpg.connection",
          "names": [
            "Connection"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "asyncpg.pool",
          "names": [
            "Pool"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "fastapi",
          "names": [
            "Depends"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        },
        {
          "module": "starlette.requests",
          "names": [
            "Request"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        },
        {
          "module": "app.db.repositories.base",
          "names": [
            "BaseRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 8
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "_get_db_pool",
          "qualified_name": "app.api.dependencies.database._get_db_pool",
          "parameters": [
            {
              "name": "request",
              "type_annotation": "Request",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "Pool",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 11,
          "line_end": 12,
          "complexity": 1,
          "local_variables": [],
          "calls": []
        },
        {
          "name": "_get_connection_from_pool",
          "qualified_name": "app.api.dependencies.database._get_connection_from_pool",
          "parameters": [
            {
              "name": "pool",
              "type_annotation": "Pool",
              "default_value": "Depends(_get_db_pool)",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "AsyncGenerator[Connection, None]",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 15,
          "line_end": 19,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "Depends",
            "pool.acquire"
          ]
        },
        {
          "name": "get_repository",
          "qualified_name": "app.api.dependencies.database.get_repository",
          "parameters": [
            {
              "name": "repo_type",
              "type_annotation": "Type[BaseRepository]",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "Callable[[Connection], BaseRepository]",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 22,
          "line_end": 30,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "Depends",
            "repo_type"
          ]
        }
      ],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 31,
      "blank_lines": 10,
      "comment_lines": 0,
      "code_lines": 21,
      "file_hash": "1fb926b91a1670cdc860ae2c62c6d7c7"
    },
    {
      "file_path": "app/api/dependencies/profiles.py",
      "module_name": "app.api.dependencies.profiles",
      "package": "app.api.dependencies",
      "docstring": null,
      "imports": [
        {
          "module": "typing",
          "names": [
            "Optional"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "fastapi",
          "names": [
            "Depends",
            "HTTPException",
            "Path"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "starlette.status",
          "names": [
            "HTTP_404_NOT_FOUND"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "app.api.dependencies.authentication",
          "names": [
            "get_current_user_authorizer"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        },
        {
          "module": "app.api.dependencies.database",
          "names": [
            "get_repository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        },
        {
          "module": "app.db.errors",
          "names": [
            "EntityDoesNotExist"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 8
        },
        {
          "module": "app.db.repositories.profiles",
          "names": [
            "ProfilesRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 9
        },
        {
          "module": "app.models.domain.profiles",
          "names": [
            "Profile"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 10
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "User"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 11
        },
        {
          "module": "app.resources",
          "names": [
            "strings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 12
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "get_profile_by_username_from_path",
          "qualified_name": "app.api.dependencies.profiles.get_profile_by_username_from_path",
          "parameters": [
            {
              "name": "username",
              "type_annotation": "str",
              "default_value": "Path(Ellipsis)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "Optional[User]",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "profiles_repo",
              "type_annotation": "ProfilesRepository",
              "default_value": "Depends(get_repository(ProfilesRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "Profile",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 15,
          "line_end": 29,
          "complexity": 2,
          "local_variables": [],
          "calls": [
            "Path",
            "Depends",
            "get_current_user_authorizer",
            "Depends",
            "get_repository",
            "profiles_repo.get_profile_by_username",
            "HTTPException"
          ]
        }
      ],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 30,
      "blank_lines": 5,
      "comment_lines": 0,
      "code_lines": 25,
      "file_hash": "ec5fe0e93f440d72e8a919056f25dc23"
    },
    {
      "file_path": "app/api/errors/__init__.py",
      "module_name": "app.api.errors.__init__",
      "package": "app.api.errors",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 1,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 0,
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e"
    },
    {
      "file_path": "app/api/errors/http_error.py",
      "module_name": "app.api.errors.http_error",
      "package": "app.api.errors",
      "docstring": null,
      "imports": [
        {
          "module": "fastapi",
          "names": [
            "HTTPException"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "starlette.requests",
          "names": [
            "Request"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        },
        {
          "module": "starlette.responses",
          "names": [
            "JSONResponse"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "http_error_handler",
          "qualified_name": "app.api.errors.http_error.http_error_handler",
          "parameters": [
            {
              "name": "_",
              "type_annotation": "Request",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "exc",
              "type_annotation": "HTTPException",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "JSONResponse",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 6,
          "line_end": 7,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "JSONResponse"
          ]
        }
      ],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 8,
      "blank_lines": 3,
      "comment_lines": 0,
      "code_lines": 5,
      "file_hash": "090293542ac05884a1cf9b279434d255"
    },
    {
      "file_path": "app/api/errors/validation_error.py",
      "module_name": "app.api.errors.validation_error",
      "package": "app.api.errors",
      "docstring": null,
      "imports": [
        {
          "module": "typing",
          "names": [
            "Union"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "fastapi.exceptions",
          "names": [
            "RequestValidationError"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "fastapi.openapi.constants",
          "names": [
            "REF_PREFIX"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "fastapi.openapi.utils",
          "names": [
            "validation_error_response_definition"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        },
        {
          "module": "pydantic",
          "names": [
            "ValidationError"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        },
        {
          "module": "starlette.requests",
          "names": [
            "Request"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        },
        {
          "module": "starlette.responses",
          "names": [
            "JSONResponse"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 8
        },
        {
          "module": "starlette.status",
          "names": [
            "HTTP_422_UNPROCESSABLE_ENTITY"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 9
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "http422_error_handler",
          "qualified_name": "app.api.errors.validation_error.http422_error_handler",
          "parameters": [
            {
              "name": "_",
              "type_annotation": "Request",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "exc",
              "type_annotation": "Union[RequestValidationError, ValidationError]",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "JSONResponse",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 12,
          "line_end": 19,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "JSONResponse",
            "exc.errors"
          ]
        }
      ],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 29,
      "blank_lines": 6,
      "comment_lines": 0,
      "code_lines": 23,
      "file_hash": "b71075cf6fa4982eb34bba1ad328896d"
    },
    {
      "file_path": "app/api/routes/__init__.py",
      "module_name": "app.api.routes.__init__",
      "package": "app.api.routes",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 1,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 0,
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e"
    },
    {
      "file_path": "app/api/routes/api.py",
      "module_name": "app.api.routes.api",
      "package": "app.api.routes",
      "docstring": null,
      "imports": [
        {
          "module": "fastapi",
          "names": [
            "APIRouter"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "app.api.routes",
          "names": [
            "authentication",
            "comments",
            "profiles",
            "tags",
            "users"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "app.api.routes.articles",
          "names": [
            "api"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        }
      ],
      "classes": [],
      "functions": [],
      "global_variables": [
        {
          "name": "router",
          "type_annotation": null,
          "default_value": "APIRouter()",
          "is_class_var": false,
          "line_number": 6
        }
      ],
      "routers": [
        {
          "variable_name": "router",
          "prefix": null,
          "tags": [],
          "included_routers": [
            {
              "router": "authentication.router",
              "prefix": "/users",
              "tags": [
                "authentication"
              ]
            },
            {
              "router": "users.router",
              "prefix": "/user",
              "tags": [
                "users"
              ]
            },
            {
              "router": "profiles.router",
              "prefix": "/profiles",
              "tags": [
                "profiles"
              ]
            },
            {
              "router": "articles.router",
              "prefix": null,
              "tags": [
                "articles"
              ]
            },
            {
              "router": "comments.router",
              "prefix": "/articles/{slug}/comments",
              "tags": [
                "comments"
              ]
            },
            {
              "router": "tags.router",
              "prefix": "/tags",
              "tags": [
                "tags"
              ]
            }
          ],
          "endpoints": []
        }
      ],
      "endpoints": [],
      "line_count": 17,
      "blank_lines": 3,
      "comment_lines": 0,
      "code_lines": 14,
      "file_hash": "064c9899cf67b9e760f0a40eef1e7158"
    },
    {
      "file_path": "app/api/routes/articles/__init__.py",
      "module_name": "app.api.routes.articles.__init__",
      "package": "app.api.routes.articles",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 1,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 0,
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e"
    },
    {
      "file_path": "app/api/routes/articles/api.py",
      "module_name": "app.api.routes.articles.api",
      "package": "app.api.routes.articles",
      "docstring": null,
      "imports": [
        {
          "module": "fastapi",
          "names": [
            "APIRouter"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "app.api.routes.articles",
          "names": [
            "articles_common",
            "articles_resource"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        }
      ],
      "classes": [],
      "functions": [],
      "global_variables": [
        {
          "name": "router",
          "type_annotation": null,
          "default_value": "APIRouter()",
          "is_class_var": false,
          "line_number": 5
        }
      ],
      "routers": [
        {
          "variable_name": "router",
          "prefix": null,
          "tags": [],
          "included_routers": [
            {
              "router": "articles_common.router",
              "prefix": "/articles",
              "tags": []
            },
            {
              "router": "articles_resource.router",
              "prefix": "/articles",
              "tags": []
            }
          ],
          "endpoints": []
        }
      ],
      "endpoints": [],
      "line_count": 9,
      "blank_lines": 4,
      "comment_lines": 0,
      "code_lines": 5,
      "file_hash": "1cdd64541ab1a098f2fd62a56b6a5c9b"
    },
    {
      "file_path": "app/api/routes/articles/articles_common.py",
      "module_name": "app.api.routes.articles.articles_common",
      "package": "app.api.routes.articles",
      "docstring": null,
      "imports": [
        {
          "module": "fastapi",
          "names": [
            "APIRouter",
            "Depends",
            "HTTPException",
            "Query"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "starlette",
          "names": [
            "status"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        },
        {
          "module": "app.api.dependencies.articles",
          "names": [
            "get_article_by_slug_from_path"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "app.api.dependencies.authentication",
          "names": [
            "get_current_user_authorizer"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        },
        {
          "module": "app.api.dependencies.database",
          "names": [
            "get_repository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        },
        {
          "module": "app.db.repositories.articles",
          "names": [
            "ArticlesRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        },
        {
          "module": "app.models.domain.articles",
          "names": [
            "Article"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 8
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "User"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 9
        },
        {
          "module": "app.models.schemas.articles",
          "names": [
            "DEFAULT_ARTICLES_LIMIT",
            "DEFAULT_ARTICLES_OFFSET",
            "ArticleForResponse",
            "ArticleInResponse",
            "ListOfArticlesInResponse"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 10
        },
        {
          "module": "app.resources",
          "names": [
            "strings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 17
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "get_articles_for_user_feed",
          "qualified_name": "app.api.routes.articles.articles_common.get_articles_for_user_feed",
          "parameters": [
            {
              "name": "limit",
              "type_annotation": "int",
              "default_value": "Query(DEFAULT_ARTICLES_LIMIT)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "offset",
              "type_annotation": "int",
              "default_value": "Query(DEFAULT_ARTICLES_OFFSET)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "User",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "articles_repo",
              "type_annotation": "ArticlesRepository",
              "default_value": "Depends(get_repository(ArticlesRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "ListOfArticlesInResponse",
          "decorators": [
            {
              "name": "router.get",
              "arguments": [
                "/feed"
              ],
              "keyword_arguments": {
                "response_model": "ListOfArticlesInResponse",
                "name": "articles:get-user-feed-articles"
              },
              "line_number": 22
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 27,
          "line_end": 44,
          "complexity": 2,
          "local_variables": [
            "articles",
            "articles_for_response"
          ],
          "calls": [
            "Query",
            "Query",
            "Depends",
            "get_current_user_authorizer",
            "Depends",
            "get_repository",
            "articles_repo.get_articles_for_user_feed",
            "ArticleForResponse",
            "article.dict",
            "ListOfArticlesInResponse",
            "len",
            "router.get"
          ]
        },
        {
          "name": "mark_article_as_favorite",
          "qualified_name": "app.api.routes.articles.articles_common.mark_article_as_favorite",
          "parameters": [
            {
              "name": "article",
              "type_annotation": "Article",
              "default_value": "Depends(get_article_by_slug_from_path)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "User",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "articles_repo",
              "type_annotation": "ArticlesRepository",
              "default_value": "Depends(get_repository(ArticlesRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "ArticleInResponse",
          "decorators": [
            {
              "name": "router.post",
              "arguments": [
                "/{slug}/favorite"
              ],
              "keyword_arguments": {
                "response_model": "ArticleInResponse",
                "name": "articles:mark-article-favorite"
              },
              "line_number": 47
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 52,
          "line_end": 74,
          "complexity": 2,
          "local_variables": [],
          "calls": [
            "Depends",
            "Depends",
            "get_current_user_authorizer",
            "Depends",
            "get_repository",
            "articles_repo.add_article_into_favorites",
            "ArticleInResponse",
            "ArticleForResponse.from_orm",
            "article.copy",
            "HTTPException",
            "router.post"
          ]
        },
        {
          "name": "remove_article_from_favorites",
          "qualified_name": "app.api.routes.articles.articles_common.remove_article_from_favorites",
          "parameters": [
            {
              "name": "article",
              "type_annotation": "Article",
              "default_value": "Depends(get_article_by_slug_from_path)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "User",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "articles_repo",
              "type_annotation": "ArticlesRepository",
              "default_value": "Depends(get_repository(ArticlesRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "ArticleInResponse",
          "decorators": [
            {
              "name": "router.delete",
              "arguments": [
                "/{slug}/favorite"
              ],
              "keyword_arguments": {
                "response_model": "ArticleInResponse",
                "name": "articles:unmark-article-favorite"
              },
              "line_number": 77
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 82,
          "line_end": 104,
          "complexity": 2,
          "local_variables": [],
          "calls": [
            "Depends",
            "Depends",
            "get_current_user_authorizer",
            "Depends",
            "get_repository",
            "articles_repo.remove_article_from_favorites",
            "ArticleInResponse",
            "ArticleForResponse.from_orm",
            "article.copy",
            "HTTPException",
            "router.delete"
          ]
        }
      ],
      "global_variables": [
        {
          "name": "router",
          "type_annotation": null,
          "default_value": "APIRouter()",
          "is_class_var": false,
          "line_number": 19
        }
      ],
      "routers": [
        {
          "variable_name": "router",
          "prefix": null,
          "tags": [],
          "included_routers": [],
          "endpoints": [
            {
              "path": "/feed",
              "http_method": "GET",
              "function_name": "get_articles_for_user_feed",
              "response_model": "ListOfArticlesInResponse",
              "status_code": null,
              "tags": [],
              "dependencies": [],
              "parameters": [
                {
                  "name": "limit",
                  "type_annotation": "int",
                  "default_value": "Query(DEFAULT_ARTICLES_LIMIT)",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "offset",
                  "type_annotation": "int",
                  "default_value": "Query(DEFAULT_ARTICLES_OFFSET)",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "user",
                  "type_annotation": "User",
                  "default_value": "Depends(get_current_user_authorizer())",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "articles_repo",
                  "type_annotation": "ArticlesRepository",
                  "default_value": "Depends(get_repository(ArticlesRepository))",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "docstring": null,
              "line_number": 27,
              "name": "articles:get-user-feed-articles"
            },
            {
              "path": "/{slug}/favorite",
              "http_method": "POST",
              "function_name": "mark_article_as_favorite",
              "response_model": "ArticleInResponse",
              "status_code": null,
              "tags": [],
              "dependencies": [],
              "parameters": [
                {
                  "name": "article",
                  "type_annotation": "Article",
                  "default_value": "Depends(get_article_by_slug_from_path)",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "user",
                  "type_annotation": "User",
                  "default_value": "Depends(get_current_user_authorizer())",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "articles_repo",
                  "type_annotation": "ArticlesRepository",
                  "default_value": "Depends(get_repository(ArticlesRepository))",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "docstring": null,
              "line_number": 52,
              "name": "articles:mark-article-favorite"
            },
            {
              "path": "/{slug}/favorite",
              "http_method": "DELETE",
              "function_name": "remove_article_from_favorites",
              "response_model": "ArticleInResponse",
              "status_code": null,
              "tags": [],
              "dependencies": [],
              "parameters": [
                {
                  "name": "article",
                  "type_annotation": "Article",
                  "default_value": "Depends(get_article_by_slug_from_path)",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "user",
                  "type_annotation": "User",
                  "default_value": "Depends(get_current_user_authorizer())",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "articles_repo",
                  "type_annotation": "ArticlesRepository",
                  "default_value": "Depends(get_repository(ArticlesRepository))",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "docstring": null,
              "line_number": 82,
              "name": "articles:unmark-article-favorite"
            }
          ]
        }
      ],
      "endpoints": [
        {
          "path": "/feed",
          "http_method": "GET",
          "function_name": "get_articles_for_user_feed",
          "response_model": "ListOfArticlesInResponse",
          "status_code": null,
          "tags": [],
          "dependencies": [],
          "parameters": [
            {
              "name": "limit",
              "type_annotation": "int",
              "default_value": "Query(DEFAULT_ARTICLES_LIMIT)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "offset",
              "type_annotation": "int",
              "default_value": "Query(DEFAULT_ARTICLES_OFFSET)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "User",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "articles_repo",
              "type_annotation": "ArticlesRepository",
              "default_value": "Depends(get_repository(ArticlesRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "docstring": null,
          "line_number": 27,
          "name": "articles:get-user-feed-articles"
        },
        {
          "path": "/{slug}/favorite",
          "http_method": "POST",
          "function_name": "mark_article_as_favorite",
          "response_model": "ArticleInResponse",
          "status_code": null,
          "tags": [],
          "dependencies": [],
          "parameters": [
            {
              "name": "article",
              "type_annotation": "Article",
              "default_value": "Depends(get_article_by_slug_from_path)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "User",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "articles_repo",
              "type_annotation": "ArticlesRepository",
              "default_value": "Depends(get_repository(ArticlesRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "docstring": null,
          "line_number": 52,
          "name": "articles:mark-article-favorite"
        },
        {
          "path": "/{slug}/favorite",
          "http_method": "DELETE",
          "function_name": "remove_article_from_favorites",
          "response_model": "ArticleInResponse",
          "status_code": null,
          "tags": [],
          "dependencies": [],
          "parameters": [
            {
              "name": "article",
              "type_annotation": "Article",
              "default_value": "Depends(get_article_by_slug_from_path)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "User",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "articles_repo",
              "type_annotation": "ArticlesRepository",
              "default_value": "Depends(get_repository(ArticlesRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "docstring": null,
          "line_number": 82,
          "name": "articles:unmark-article-favorite"
        }
      ],
      "line_count": 105,
      "blank_lines": 13,
      "comment_lines": 0,
      "code_lines": 92,
      "file_hash": "38ca7bfb95c84b484a2264d40e473d27"
    },
    {
      "file_path": "app/api/routes/articles/articles_resource.py",
      "module_name": "app.api.routes.articles.articles_resource",
      "package": "app.api.routes.articles",
      "docstring": null,
      "imports": [
        {
          "module": "typing",
          "names": [
            "Optional"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "fastapi",
          "names": [
            "APIRouter",
            "Body",
            "Depends",
            "HTTPException",
            "Response"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "starlette",
          "names": [
            "status"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "app.api.dependencies.articles",
          "names": [
            "check_article_modification_permissions",
            "get_article_by_slug_from_path",
            "get_articles_filters"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        },
        {
          "module": "app.api.dependencies.authentication",
          "names": [
            "get_current_user_authorizer"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 11
        },
        {
          "module": "app.api.dependencies.database",
          "names": [
            "get_repository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 12
        },
        {
          "module": "app.db.repositories.articles",
          "names": [
            "ArticlesRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 13
        },
        {
          "module": "app.models.domain.articles",
          "names": [
            "Article"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 14
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "User"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 15
        },
        {
          "module": "app.models.schemas.articles",
          "names": [
            "ArticleForResponse",
            "ArticleInCreate",
            "ArticleInResponse",
            "ArticleInUpdate",
            "ArticlesFilters",
            "ListOfArticlesInResponse"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 16
        },
        {
          "module": "app.resources",
          "names": [
            "strings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 24
        },
        {
          "module": "app.services.articles",
          "names": [
            "check_article_exists",
            "get_slug_for_article"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 25
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "list_articles",
          "qualified_name": "app.api.routes.articles.articles_resource.list_articles",
          "parameters": [
            {
              "name": "articles_filters",
              "type_annotation": "ArticlesFilters",
              "default_value": "Depends(get_articles_filters)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "Optional[User]",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "articles_repo",
              "type_annotation": "ArticlesRepository",
              "default_value": "Depends(get_repository(ArticlesRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "ListOfArticlesInResponse",
          "decorators": [
            {
              "name": "router.get",
              "arguments": [
                ""
              ],
              "keyword_arguments": {
                "response_model": "ListOfArticlesInResponse",
                "name": "articles:list-articles"
              },
              "line_number": 30
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 31,
          "line_end": 50,
          "complexity": 2,
          "local_variables": [
            "articles",
            "articles_for_response"
          ],
          "calls": [
            "Depends",
            "Depends",
            "get_current_user_authorizer",
            "Depends",
            "get_repository",
            "articles_repo.filter_articles",
            "ArticleForResponse.from_orm",
            "ListOfArticlesInResponse",
            "len",
            "router.get"
          ]
        },
        {
          "name": "create_new_article",
          "qualified_name": "app.api.routes.articles.articles_resource.create_new_article",
          "parameters": [
            {
              "name": "article_create",
              "type_annotation": "ArticleInCreate",
              "default_value": "Body(Ellipsis)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "User",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "articles_repo",
              "type_annotation": "ArticlesRepository",
              "default_value": "Depends(get_repository(ArticlesRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "ArticleInResponse",
          "decorators": [
            {
              "name": "router.post",
              "arguments": [
                ""
              ],
              "keyword_arguments": {
                "status_code": "status.HTTP_201_CREATED",
                "response_model": "ArticleInResponse",
                "name": "articles:create-article"
              },
              "line_number": 53
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 59,
          "line_end": 79,
          "complexity": 2,
          "local_variables": [
            "article",
            "slug"
          ],
          "calls": [
            "Body",
            "Depends",
            "get_current_user_authorizer",
            "Depends",
            "get_repository",
            "get_slug_for_article",
            "check_article_exists",
            "HTTPException",
            "articles_repo.create_article",
            "ArticleInResponse",
            "ArticleForResponse.from_orm",
            "router.post"
          ]
        },
        {
          "name": "retrieve_article_by_slug",
          "qualified_name": "app.api.routes.articles.articles_resource.retrieve_article_by_slug",
          "parameters": [
            {
              "name": "article",
              "type_annotation": "Article",
              "default_value": "Depends(get_article_by_slug_from_path)",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "ArticleInResponse",
          "decorators": [
            {
              "name": "router.get",
              "arguments": [
                "/{slug}"
              ],
              "keyword_arguments": {
                "response_model": "ArticleInResponse",
                "name": "articles:get-article"
              },
              "line_number": 82
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 83,
          "line_end": 86,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "Depends",
            "ArticleInResponse",
            "ArticleForResponse.from_orm",
            "router.get"
          ]
        },
        {
          "name": "update_article_by_slug",
          "qualified_name": "app.api.routes.articles.articles_resource.update_article_by_slug",
          "parameters": [
            {
              "name": "article_update",
              "type_annotation": "ArticleInUpdate",
              "default_value": "Body(Ellipsis)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "current_article",
              "type_annotation": "Article",
              "default_value": "Depends(get_article_by_slug_from_path)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "articles_repo",
              "type_annotation": "ArticlesRepository",
              "default_value": "Depends(get_repository(ArticlesRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "ArticleInResponse",
          "decorators": [
            {
              "name": "router.put",
              "arguments": [
                "/{slug}"
              ],
              "keyword_arguments": {
                "response_model": "ArticleInResponse",
                "name": "articles:update-article",
                "dependencies": "[Depends(check_article_modification_permissions)]"
              },
              "line_number": 89
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 95,
          "line_end": 106,
          "complexity": 2,
          "local_variables": [
            "article",
            "slug"
          ],
          "calls": [
            "Body",
            "Depends",
            "Depends",
            "get_repository",
            "get_slug_for_article",
            "articles_repo.update_article",
            "article_update.dict",
            "ArticleInResponse",
            "ArticleForResponse.from_orm",
            "router.put",
            "Depends"
          ]
        },
        {
          "name": "delete_article_by_slug",
          "qualified_name": "app.api.routes.articles.articles_resource.delete_article_by_slug",
          "parameters": [
            {
              "name": "article",
              "type_annotation": "Article",
              "default_value": "Depends(get_article_by_slug_from_path)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "articles_repo",
              "type_annotation": "ArticlesRepository",
              "default_value": "Depends(get_repository(ArticlesRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [
            {
              "name": "router.delete",
              "arguments": [
                "/{slug}"
              ],
              "keyword_arguments": {
                "status_code": "status.HTTP_204_NO_CONTENT",
                "name": "articles:delete-article",
                "dependencies": "[Depends(check_article_modification_permissions)]",
                "response_class": "Response"
              },
              "line_number": 109
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 116,
          "line_end": 120,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "Depends",
            "Depends",
            "get_repository",
            "articles_repo.delete_article",
            "router.delete",
            "Depends"
          ]
        }
      ],
      "global_variables": [
        {
          "name": "router",
          "type_annotation": null,
          "default_value": "APIRouter()",
          "is_class_var": false,
          "line_number": 27
        }
      ],
      "routers": [
        {
          "variable_name": "router",
          "prefix": null,
          "tags": [],
          "included_routers": [],
          "endpoints": [
            {
              "path": "",
              "http_method": "GET",
              "function_name": "list_articles",
              "response_model": "ListOfArticlesInResponse",
              "status_code": null,
              "tags": [],
              "dependencies": [],
              "parameters": [
                {
                  "name": "articles_filters",
                  "type_annotation": "ArticlesFilters",
                  "default_value": "Depends(get_articles_filters)",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "user",
                  "type_annotation": "Optional[User]",
                  "default_value": "Depends(get_current_user_authorizer())",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "articles_repo",
                  "type_annotation": "ArticlesRepository",
                  "default_value": "Depends(get_repository(ArticlesRepository))",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "docstring": null,
              "line_number": 31,
              "name": "articles:list-articles"
            },
            {
              "path": "",
              "http_method": "POST",
              "function_name": "create_new_article",
              "response_model": "ArticleInResponse",
              "status_code": null,
              "tags": [],
              "dependencies": [],
              "parameters": [
                {
                  "name": "article_create",
                  "type_annotation": "ArticleInCreate",
                  "default_value": "Body(Ellipsis)",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "user",
                  "type_annotation": "User",
                  "default_value": "Depends(get_current_user_authorizer())",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "articles_repo",
                  "type_annotation": "ArticlesRepository",
                  "default_value": "Depends(get_repository(ArticlesRepository))",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "docstring": null,
              "line_number": 59,
              "name": "articles:create-article"
            },
            {
              "path": "/{slug}",
              "http_method": "GET",
              "function_name": "retrieve_article_by_slug",
              "response_model": "ArticleInResponse",
              "status_code": null,
              "tags": [],
              "dependencies": [],
              "parameters": [
                {
                  "name": "article",
                  "type_annotation": "Article",
                  "default_value": "Depends(get_article_by_slug_from_path)",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "docstring": null,
              "line_number": 83,
              "name": "articles:get-article"
            },
            {
              "path": "/{slug}",
              "http_method": "PUT",
              "function_name": "update_article_by_slug",
              "response_model": "ArticleInResponse",
              "status_code": null,
              "tags": [],
              "dependencies": [
                "Depends(check_article_modification_permissions)"
              ],
              "parameters": [
                {
                  "name": "article_update",
                  "type_annotation": "ArticleInUpdate",
                  "default_value": "Body(Ellipsis)",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "current_article",
                  "type_annotation": "Article",
                  "default_value": "Depends(get_article_by_slug_from_path)",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "articles_repo",
                  "type_annotation": "ArticlesRepository",
                  "default_value": "Depends(get_repository(ArticlesRepository))",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "docstring": null,
              "line_number": 95,
              "name": "articles:update-article"
            },
            {
              "path": "/{slug}",
              "http_method": "DELETE",
              "function_name": "delete_article_by_slug",
              "response_model": null,
              "status_code": null,
              "tags": [],
              "dependencies": [
                "Depends(check_article_modification_permissions)"
              ],
              "parameters": [
                {
                  "name": "article",
                  "type_annotation": "Article",
                  "default_value": "Depends(get_article_by_slug_from_path)",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "articles_repo",
                  "type_annotation": "ArticlesRepository",
                  "default_value": "Depends(get_repository(ArticlesRepository))",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "docstring": null,
              "line_number": 116,
              "name": "articles:delete-article"
            }
          ]
        }
      ],
      "endpoints": [
        {
          "path": "",
          "http_method": "GET",
          "function_name": "list_articles",
          "response_model": "ListOfArticlesInResponse",
          "status_code": null,
          "tags": [],
          "dependencies": [],
          "parameters": [
            {
              "name": "articles_filters",
              "type_annotation": "ArticlesFilters",
              "default_value": "Depends(get_articles_filters)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "Optional[User]",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "articles_repo",
              "type_annotation": "ArticlesRepository",
              "default_value": "Depends(get_repository(ArticlesRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "docstring": null,
          "line_number": 31,
          "name": "articles:list-articles"
        },
        {
          "path": "",
          "http_method": "POST",
          "function_name": "create_new_article",
          "response_model": "ArticleInResponse",
          "status_code": null,
          "tags": [],
          "dependencies": [],
          "parameters": [
            {
              "name": "article_create",
              "type_annotation": "ArticleInCreate",
              "default_value": "Body(Ellipsis)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "User",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "articles_repo",
              "type_annotation": "ArticlesRepository",
              "default_value": "Depends(get_repository(ArticlesRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "docstring": null,
          "line_number": 59,
          "name": "articles:create-article"
        },
        {
          "path": "/{slug}",
          "http_method": "GET",
          "function_name": "retrieve_article_by_slug",
          "response_model": "ArticleInResponse",
          "status_code": null,
          "tags": [],
          "dependencies": [],
          "parameters": [
            {
              "name": "article",
              "type_annotation": "Article",
              "default_value": "Depends(get_article_by_slug_from_path)",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "docstring": null,
          "line_number": 83,
          "name": "articles:get-article"
        },
        {
          "path": "/{slug}",
          "http_method": "PUT",
          "function_name": "update_article_by_slug",
          "response_model": "ArticleInResponse",
          "status_code": null,
          "tags": [],
          "dependencies": [
            "Depends(check_article_modification_permissions)"
          ],
          "parameters": [
            {
              "name": "article_update",
              "type_annotation": "ArticleInUpdate",
              "default_value": "Body(Ellipsis)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "current_article",
              "type_annotation": "Article",
              "default_value": "Depends(get_article_by_slug_from_path)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "articles_repo",
              "type_annotation": "ArticlesRepository",
              "default_value": "Depends(get_repository(ArticlesRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "docstring": null,
          "line_number": 95,
          "name": "articles:update-article"
        },
        {
          "path": "/{slug}",
          "http_method": "DELETE",
          "function_name": "delete_article_by_slug",
          "response_model": null,
          "status_code": null,
          "tags": [],
          "dependencies": [
            "Depends(check_article_modification_permissions)"
          ],
          "parameters": [
            {
              "name": "article",
              "type_annotation": "Article",
              "default_value": "Depends(get_article_by_slug_from_path)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "articles_repo",
              "type_annotation": "ArticlesRepository",
              "default_value": "Depends(get_repository(ArticlesRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "docstring": null,
          "line_number": 116,
          "name": "articles:delete-article"
        }
      ],
      "line_count": 121,
      "blank_lines": 15,
      "comment_lines": 0,
      "code_lines": 106,
      "file_hash": "fd77066b3c18fd9af7c3e26a45410bc9"
    },
    {
      "file_path": "app/api/routes/authentication.py",
      "module_name": "app.api.routes.authentication",
      "package": "app.api.routes",
      "docstring": null,
      "imports": [
        {
          "module": "fastapi",
          "names": [
            "APIRouter",
            "Body",
            "Depends",
            "HTTPException"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "starlette.status",
          "names": [
            "HTTP_201_CREATED",
            "HTTP_400_BAD_REQUEST"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        },
        {
          "module": "app.api.dependencies.database",
          "names": [
            "get_repository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "app.core.config",
          "names": [
            "get_app_settings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        },
        {
          "module": "app.core.settings.app",
          "names": [
            "AppSettings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        },
        {
          "module": "app.db.errors",
          "names": [
            "EntityDoesNotExist"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        },
        {
          "module": "app.db.repositories.users",
          "names": [
            "UsersRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 8
        },
        {
          "module": "app.models.schemas.users",
          "names": [
            "UserInCreate",
            "UserInLogin",
            "UserInResponse",
            "UserWithToken"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 9
        },
        {
          "module": "app.resources",
          "names": [
            "strings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 15
        },
        {
          "module": "app.services",
          "names": [
            "jwt"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 16
        },
        {
          "module": "app.services.authentication",
          "names": [
            "check_email_is_taken",
            "check_username_is_taken"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 17
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "login",
          "qualified_name": "app.api.routes.authentication.login",
          "parameters": [
            {
              "name": "user_login",
              "type_annotation": "UserInLogin",
              "default_value": "Body(Ellipsis)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "users_repo",
              "type_annotation": "UsersRepository",
              "default_value": "Depends(get_repository(UsersRepository))",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "settings",
              "type_annotation": "AppSettings",
              "default_value": "Depends(get_app_settings)",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "UserInResponse",
          "decorators": [
            {
              "name": "router.post",
              "arguments": [
                "/login"
              ],
              "keyword_arguments": {
                "response_model": "UserInResponse",
                "name": "auth:login"
              },
              "line_number": 22
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 23,
          "line_end": 53,
          "complexity": 3,
          "local_variables": [
            "token",
            "wrong_login_error",
            "user"
          ],
          "calls": [
            "Body",
            "Depends",
            "get_repository",
            "Depends",
            "HTTPException",
            "users_repo.get_user_by_email",
            "user.check_password",
            "jwt.create_access_token_for_user",
            "str",
            "settings.secret_key.get_secret_value",
            "UserInResponse",
            "UserWithToken",
            "router.post"
          ]
        },
        {
          "name": "register",
          "qualified_name": "app.api.routes.authentication.register",
          "parameters": [
            {
              "name": "user_create",
              "type_annotation": "UserInCreate",
              "default_value": "Body(Ellipsis)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "users_repo",
              "type_annotation": "UsersRepository",
              "default_value": "Depends(get_repository(UsersRepository))",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "settings",
              "type_annotation": "AppSettings",
              "default_value": "Depends(get_app_settings)",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "UserInResponse",
          "decorators": [
            {
              "name": "router.post",
              "arguments": [
                ""
              ],
              "keyword_arguments": {
                "status_code": "HTTP_201_CREATED",
                "response_model": "UserInResponse",
                "name": "auth:register"
              },
              "line_number": 56
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 62,
          "line_end": 93,
          "complexity": 3,
          "local_variables": [
            "token",
            "user"
          ],
          "calls": [
            "Body",
            "Depends",
            "get_repository",
            "Depends",
            "check_username_is_taken",
            "HTTPException",
            "check_email_is_taken",
            "HTTPException",
            "users_repo.create_user",
            "user_create.dict",
            "jwt.create_access_token_for_user",
            "str",
            "settings.secret_key.get_secret_value",
            "UserInResponse",
            "UserWithToken",
            "router.post"
          ]
        }
      ],
      "global_variables": [
        {
          "name": "router",
          "type_annotation": null,
          "default_value": "APIRouter()",
          "is_class_var": false,
          "line_number": 19
        }
      ],
      "routers": [
        {
          "variable_name": "router",
          "prefix": null,
          "tags": [],
          "included_routers": [],
          "endpoints": [
            {
              "path": "/login",
              "http_method": "POST",
              "function_name": "login",
              "response_model": "UserInResponse",
              "status_code": null,
              "tags": [],
              "dependencies": [],
              "parameters": [
                {
                  "name": "user_login",
                  "type_annotation": "UserInLogin",
                  "default_value": "Body(Ellipsis)",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "users_repo",
                  "type_annotation": "UsersRepository",
                  "default_value": "Depends(get_repository(UsersRepository))",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "settings",
                  "type_annotation": "AppSettings",
                  "default_value": "Depends(get_app_settings)",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "docstring": null,
              "line_number": 23,
              "name": "auth:login"
            },
            {
              "path": "",
              "http_method": "POST",
              "function_name": "register",
              "response_model": "UserInResponse",
              "status_code": null,
              "tags": [],
              "dependencies": [],
              "parameters": [
                {
                  "name": "user_create",
                  "type_annotation": "UserInCreate",
                  "default_value": "Body(Ellipsis)",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "users_repo",
                  "type_annotation": "UsersRepository",
                  "default_value": "Depends(get_repository(UsersRepository))",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "settings",
                  "type_annotation": "AppSettings",
                  "default_value": "Depends(get_app_settings)",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "docstring": null,
              "line_number": 62,
              "name": "auth:register"
            }
          ]
        }
      ],
      "endpoints": [
        {
          "path": "/login",
          "http_method": "POST",
          "function_name": "login",
          "response_model": "UserInResponse",
          "status_code": null,
          "tags": [],
          "dependencies": [],
          "parameters": [
            {
              "name": "user_login",
              "type_annotation": "UserInLogin",
              "default_value": "Body(Ellipsis)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "users_repo",
              "type_annotation": "UsersRepository",
              "default_value": "Depends(get_repository(UsersRepository))",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "settings",
              "type_annotation": "AppSettings",
              "default_value": "Depends(get_app_settings)",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "docstring": null,
          "line_number": 23,
          "name": "auth:login"
        },
        {
          "path": "",
          "http_method": "POST",
          "function_name": "register",
          "response_model": "UserInResponse",
          "status_code": null,
          "tags": [],
          "dependencies": [],
          "parameters": [
            {
              "name": "user_create",
              "type_annotation": "UserInCreate",
              "default_value": "Body(Ellipsis)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "users_repo",
              "type_annotation": "UsersRepository",
              "default_value": "Depends(get_repository(UsersRepository))",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "settings",
              "type_annotation": "AppSettings",
              "default_value": "Depends(get_app_settings)",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "docstring": null,
          "line_number": 62,
          "name": "auth:register"
        }
      ],
      "line_count": 94,
      "blank_lines": 13,
      "comment_lines": 0,
      "code_lines": 81,
      "file_hash": "0a98c64d3ad7b7d5fd8a34d8b6492d6c"
    },
    {
      "file_path": "app/api/routes/comments.py",
      "module_name": "app.api.routes.comments",
      "package": "app.api.routes",
      "docstring": null,
      "imports": [
        {
          "module": "typing",
          "names": [
            "Optional"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "fastapi",
          "names": [
            "APIRouter",
            "Body",
            "Depends",
            "Response"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "starlette",
          "names": [
            "status"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "app.api.dependencies.articles",
          "names": [
            "get_article_by_slug_from_path"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        },
        {
          "module": "app.api.dependencies.authentication",
          "names": [
            "get_current_user_authorizer"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        },
        {
          "module": "app.api.dependencies.comments",
          "names": [
            "check_comment_modification_permissions",
            "get_comment_by_id_from_path"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 8
        },
        {
          "module": "app.api.dependencies.database",
          "names": [
            "get_repository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 12
        },
        {
          "module": "app.db.repositories.comments",
          "names": [
            "CommentsRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 13
        },
        {
          "module": "app.models.domain.articles",
          "names": [
            "Article"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 14
        },
        {
          "module": "app.models.domain.comments",
          "names": [
            "Comment"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 15
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "User"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 16
        },
        {
          "module": "app.models.schemas.comments",
          "names": [
            "CommentInCreate",
            "CommentInResponse",
            "ListOfCommentsInResponse"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 17
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "list_comments_for_article",
          "qualified_name": "app.api.routes.comments.list_comments_for_article",
          "parameters": [
            {
              "name": "article",
              "type_annotation": "Article",
              "default_value": "Depends(get_article_by_slug_from_path)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "Optional[User]",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "comments_repo",
              "type_annotation": "CommentsRepository",
              "default_value": "Depends(get_repository(CommentsRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "ListOfCommentsInResponse",
          "decorators": [
            {
              "name": "router.get",
              "arguments": [
                ""
              ],
              "keyword_arguments": {
                "response_model": "ListOfCommentsInResponse",
                "name": "comments:get-comments-for-article"
              },
              "line_number": 26
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 31,
          "line_end": 37,
          "complexity": 1,
          "local_variables": [
            "comments"
          ],
          "calls": [
            "Depends",
            "Depends",
            "get_current_user_authorizer",
            "Depends",
            "get_repository",
            "comments_repo.get_comments_for_article",
            "ListOfCommentsInResponse",
            "router.get"
          ]
        },
        {
          "name": "create_comment_for_article",
          "qualified_name": "app.api.routes.comments.create_comment_for_article",
          "parameters": [
            {
              "name": "comment_create",
              "type_annotation": "CommentInCreate",
              "default_value": "Body(Ellipsis)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "article",
              "type_annotation": "Article",
              "default_value": "Depends(get_article_by_slug_from_path)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "User",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "comments_repo",
              "type_annotation": "CommentsRepository",
              "default_value": "Depends(get_repository(CommentsRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "CommentInResponse",
          "decorators": [
            {
              "name": "router.post",
              "arguments": [
                ""
              ],
              "keyword_arguments": {
                "status_code": "status.HTTP_201_CREATED",
                "response_model": "CommentInResponse",
                "name": "comments:create-comment-for-article"
              },
              "line_number": 40
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 46,
          "line_end": 57,
          "complexity": 1,
          "local_variables": [
            "comment"
          ],
          "calls": [
            "Body",
            "Depends",
            "Depends",
            "get_current_user_authorizer",
            "Depends",
            "get_repository",
            "comments_repo.create_comment_for_article",
            "CommentInResponse",
            "router.post"
          ]
        },
        {
          "name": "delete_comment_from_article",
          "qualified_name": "app.api.routes.comments.delete_comment_from_article",
          "parameters": [
            {
              "name": "comment",
              "type_annotation": "Comment",
              "default_value": "Depends(get_comment_by_id_from_path)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "comments_repo",
              "type_annotation": "CommentsRepository",
              "default_value": "Depends(get_repository(CommentsRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [
            {
              "name": "router.delete",
              "arguments": [
                "/{comment_id}"
              ],
              "keyword_arguments": {
                "status_code": "status.HTTP_204_NO_CONTENT",
                "name": "comments:delete-comment-from-article",
                "dependencies": "[Depends(check_comment_modification_permissions)]",
                "response_class": "Response"
              },
              "line_number": 60
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 67,
          "line_end": 71,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "Depends",
            "Depends",
            "get_repository",
            "comments_repo.delete_comment",
            "router.delete",
            "Depends"
          ]
        }
      ],
      "global_variables": [
        {
          "name": "router",
          "type_annotation": null,
          "default_value": "APIRouter()",
          "is_class_var": false,
          "line_number": 23
        }
      ],
      "routers": [
        {
          "variable_name": "router",
          "prefix": null,
          "tags": [],
          "included_routers": [],
          "endpoints": [
            {
              "path": "",
              "http_method": "GET",
              "function_name": "list_comments_for_article",
              "response_model": "ListOfCommentsInResponse",
              "status_code": null,
              "tags": [],
              "dependencies": [],
              "parameters": [
                {
                  "name": "article",
                  "type_annotation": "Article",
                  "default_value": "Depends(get_article_by_slug_from_path)",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "user",
                  "type_annotation": "Optional[User]",
                  "default_value": "Depends(get_current_user_authorizer())",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "comments_repo",
                  "type_annotation": "CommentsRepository",
                  "default_value": "Depends(get_repository(CommentsRepository))",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "docstring": null,
              "line_number": 31,
              "name": "comments:get-comments-for-article"
            },
            {
              "path": "",
              "http_method": "POST",
              "function_name": "create_comment_for_article",
              "response_model": "CommentInResponse",
              "status_code": null,
              "tags": [],
              "dependencies": [],
              "parameters": [
                {
                  "name": "comment_create",
                  "type_annotation": "CommentInCreate",
                  "default_value": "Body(Ellipsis)",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "article",
                  "type_annotation": "Article",
                  "default_value": "Depends(get_article_by_slug_from_path)",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "user",
                  "type_annotation": "User",
                  "default_value": "Depends(get_current_user_authorizer())",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "comments_repo",
                  "type_annotation": "CommentsRepository",
                  "default_value": "Depends(get_repository(CommentsRepository))",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "docstring": null,
              "line_number": 46,
              "name": "comments:create-comment-for-article"
            },
            {
              "path": "/{comment_id}",
              "http_method": "DELETE",
              "function_name": "delete_comment_from_article",
              "response_model": null,
              "status_code": null,
              "tags": [],
              "dependencies": [
                "Depends(check_comment_modification_permissions)"
              ],
              "parameters": [
                {
                  "name": "comment",
                  "type_annotation": "Comment",
                  "default_value": "Depends(get_comment_by_id_from_path)",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "comments_repo",
                  "type_annotation": "CommentsRepository",
                  "default_value": "Depends(get_repository(CommentsRepository))",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "docstring": null,
              "line_number": 67,
              "name": "comments:delete-comment-from-article"
            }
          ]
        }
      ],
      "endpoints": [
        {
          "path": "",
          "http_method": "GET",
          "function_name": "list_comments_for_article",
          "response_model": "ListOfCommentsInResponse",
          "status_code": null,
          "tags": [],
          "dependencies": [],
          "parameters": [
            {
              "name": "article",
              "type_annotation": "Article",
              "default_value": "Depends(get_article_by_slug_from_path)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "Optional[User]",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "comments_repo",
              "type_annotation": "CommentsRepository",
              "default_value": "Depends(get_repository(CommentsRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "docstring": null,
          "line_number": 31,
          "name": "comments:get-comments-for-article"
        },
        {
          "path": "",
          "http_method": "POST",
          "function_name": "create_comment_for_article",
          "response_model": "CommentInResponse",
          "status_code": null,
          "tags": [],
          "dependencies": [],
          "parameters": [
            {
              "name": "comment_create",
              "type_annotation": "CommentInCreate",
              "default_value": "Body(Ellipsis)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "article",
              "type_annotation": "Article",
              "default_value": "Depends(get_article_by_slug_from_path)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "User",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "comments_repo",
              "type_annotation": "CommentsRepository",
              "default_value": "Depends(get_repository(CommentsRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "docstring": null,
          "line_number": 46,
          "name": "comments:create-comment-for-article"
        },
        {
          "path": "/{comment_id}",
          "http_method": "DELETE",
          "function_name": "delete_comment_from_article",
          "response_model": null,
          "status_code": null,
          "tags": [],
          "dependencies": [
            "Depends(check_comment_modification_permissions)"
          ],
          "parameters": [
            {
              "name": "comment",
              "type_annotation": "Comment",
              "default_value": "Depends(get_comment_by_id_from_path)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "comments_repo",
              "type_annotation": "CommentsRepository",
              "default_value": "Depends(get_repository(CommentsRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "docstring": null,
          "line_number": 67,
          "name": "comments:delete-comment-from-article"
        }
      ],
      "line_count": 72,
      "blank_lines": 10,
      "comment_lines": 0,
      "code_lines": 62,
      "file_hash": "f6305a05ff223e2cc6a3771ff8b9876c"
    },
    {
      "file_path": "app/api/routes/profiles.py",
      "module_name": "app.api.routes.profiles",
      "package": "app.api.routes",
      "docstring": null,
      "imports": [
        {
          "module": "fastapi",
          "names": [
            "APIRouter",
            "Depends",
            "HTTPException"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "starlette.status",
          "names": [
            "HTTP_400_BAD_REQUEST"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        },
        {
          "module": "app.api.dependencies.authentication",
          "names": [
            "get_current_user_authorizer"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "app.api.dependencies.database",
          "names": [
            "get_repository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        },
        {
          "module": "app.api.dependencies.profiles",
          "names": [
            "get_profile_by_username_from_path"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        },
        {
          "module": "app.db.repositories.profiles",
          "names": [
            "ProfilesRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        },
        {
          "module": "app.models.domain.profiles",
          "names": [
            "Profile"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 8
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "User"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 9
        },
        {
          "module": "app.models.schemas.profiles",
          "names": [
            "ProfileInResponse"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 10
        },
        {
          "module": "app.resources",
          "names": [
            "strings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 11
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "retrieve_profile_by_username",
          "qualified_name": "app.api.routes.profiles.retrieve_profile_by_username",
          "parameters": [
            {
              "name": "profile",
              "type_annotation": "Profile",
              "default_value": "Depends(get_profile_by_username_from_path)",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "ProfileInResponse",
          "decorators": [
            {
              "name": "router.get",
              "arguments": [
                "/{username}"
              ],
              "keyword_arguments": {
                "response_model": "ProfileInResponse",
                "name": "profiles:get-profile"
              },
              "line_number": 16
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 21,
          "line_end": 24,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "Depends",
            "ProfileInResponse",
            "router.get"
          ]
        },
        {
          "name": "follow_for_user",
          "qualified_name": "app.api.routes.profiles.follow_for_user",
          "parameters": [
            {
              "name": "profile",
              "type_annotation": "Profile",
              "default_value": "Depends(get_profile_by_username_from_path)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "User",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "profiles_repo",
              "type_annotation": "ProfilesRepository",
              "default_value": "Depends(get_repository(ProfilesRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "ProfileInResponse",
          "decorators": [
            {
              "name": "router.post",
              "arguments": [
                "/{username}/follow"
              ],
              "keyword_arguments": {
                "response_model": "ProfileInResponse",
                "name": "profiles:follow-user"
              },
              "line_number": 27
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 32,
          "line_end": 54,
          "complexity": 3,
          "local_variables": [],
          "calls": [
            "Depends",
            "Depends",
            "get_current_user_authorizer",
            "Depends",
            "get_repository",
            "HTTPException",
            "HTTPException",
            "profiles_repo.add_user_into_followers",
            "ProfileInResponse",
            "profile.copy",
            "router.post"
          ]
        },
        {
          "name": "unsubscribe_from_user",
          "qualified_name": "app.api.routes.profiles.unsubscribe_from_user",
          "parameters": [
            {
              "name": "profile",
              "type_annotation": "Profile",
              "default_value": "Depends(get_profile_by_username_from_path)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "User",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "profiles_repo",
              "type_annotation": "ProfilesRepository",
              "default_value": "Depends(get_repository(ProfilesRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "ProfileInResponse",
          "decorators": [
            {
              "name": "router.delete",
              "arguments": [
                "/{username}/follow"
              ],
              "keyword_arguments": {
                "response_model": "ProfileInResponse",
                "name": "profiles:unsubscribe-from-user"
              },
              "line_number": 57
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 62,
          "line_end": 84,
          "complexity": 3,
          "local_variables": [],
          "calls": [
            "Depends",
            "Depends",
            "get_current_user_authorizer",
            "Depends",
            "get_repository",
            "HTTPException",
            "HTTPException",
            "profiles_repo.remove_user_from_followers",
            "ProfileInResponse",
            "profile.copy",
            "router.delete"
          ]
        }
      ],
      "global_variables": [
        {
          "name": "router",
          "type_annotation": null,
          "default_value": "APIRouter()",
          "is_class_var": false,
          "line_number": 13
        }
      ],
      "routers": [
        {
          "variable_name": "router",
          "prefix": null,
          "tags": [],
          "included_routers": [],
          "endpoints": [
            {
              "path": "/{username}",
              "http_method": "GET",
              "function_name": "retrieve_profile_by_username",
              "response_model": "ProfileInResponse",
              "status_code": null,
              "tags": [],
              "dependencies": [],
              "parameters": [
                {
                  "name": "profile",
                  "type_annotation": "Profile",
                  "default_value": "Depends(get_profile_by_username_from_path)",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "docstring": null,
              "line_number": 21,
              "name": "profiles:get-profile"
            },
            {
              "path": "/{username}/follow",
              "http_method": "POST",
              "function_name": "follow_for_user",
              "response_model": "ProfileInResponse",
              "status_code": null,
              "tags": [],
              "dependencies": [],
              "parameters": [
                {
                  "name": "profile",
                  "type_annotation": "Profile",
                  "default_value": "Depends(get_profile_by_username_from_path)",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "user",
                  "type_annotation": "User",
                  "default_value": "Depends(get_current_user_authorizer())",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "profiles_repo",
                  "type_annotation": "ProfilesRepository",
                  "default_value": "Depends(get_repository(ProfilesRepository))",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "docstring": null,
              "line_number": 32,
              "name": "profiles:follow-user"
            },
            {
              "path": "/{username}/follow",
              "http_method": "DELETE",
              "function_name": "unsubscribe_from_user",
              "response_model": "ProfileInResponse",
              "status_code": null,
              "tags": [],
              "dependencies": [],
              "parameters": [
                {
                  "name": "profile",
                  "type_annotation": "Profile",
                  "default_value": "Depends(get_profile_by_username_from_path)",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "user",
                  "type_annotation": "User",
                  "default_value": "Depends(get_current_user_authorizer())",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "profiles_repo",
                  "type_annotation": "ProfilesRepository",
                  "default_value": "Depends(get_repository(ProfilesRepository))",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "docstring": null,
              "line_number": 62,
              "name": "profiles:unsubscribe-from-user"
            }
          ]
        }
      ],
      "endpoints": [
        {
          "path": "/{username}",
          "http_method": "GET",
          "function_name": "retrieve_profile_by_username",
          "response_model": "ProfileInResponse",
          "status_code": null,
          "tags": [],
          "dependencies": [],
          "parameters": [
            {
              "name": "profile",
              "type_annotation": "Profile",
              "default_value": "Depends(get_profile_by_username_from_path)",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "docstring": null,
          "line_number": 21,
          "name": "profiles:get-profile"
        },
        {
          "path": "/{username}/follow",
          "http_method": "POST",
          "function_name": "follow_for_user",
          "response_model": "ProfileInResponse",
          "status_code": null,
          "tags": [],
          "dependencies": [],
          "parameters": [
            {
              "name": "profile",
              "type_annotation": "Profile",
              "default_value": "Depends(get_profile_by_username_from_path)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "User",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "profiles_repo",
              "type_annotation": "ProfilesRepository",
              "default_value": "Depends(get_repository(ProfilesRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "docstring": null,
          "line_number": 32,
          "name": "profiles:follow-user"
        },
        {
          "path": "/{username}/follow",
          "http_method": "DELETE",
          "function_name": "unsubscribe_from_user",
          "response_model": "ProfileInResponse",
          "status_code": null,
          "tags": [],
          "dependencies": [],
          "parameters": [
            {
              "name": "profile",
              "type_annotation": "Profile",
              "default_value": "Depends(get_profile_by_username_from_path)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "User",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "profiles_repo",
              "type_annotation": "ProfilesRepository",
              "default_value": "Depends(get_repository(ProfilesRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "docstring": null,
          "line_number": 62,
          "name": "profiles:unsubscribe-from-user"
        }
      ],
      "line_count": 85,
      "blank_lines": 15,
      "comment_lines": 0,
      "code_lines": 70,
      "file_hash": "c51a4411f868f8374389b668b9e7f6f5"
    },
    {
      "file_path": "app/api/routes/tags.py",
      "module_name": "app.api.routes.tags",
      "package": "app.api.routes",
      "docstring": null,
      "imports": [
        {
          "module": "fastapi",
          "names": [
            "APIRouter",
            "Depends"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "app.api.dependencies.database",
          "names": [
            "get_repository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "app.db.repositories.tags",
          "names": [
            "TagsRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "app.models.schemas.tags",
          "names": [
            "TagsInList"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "get_all_tags",
          "qualified_name": "app.api.routes.tags.get_all_tags",
          "parameters": [
            {
              "name": "tags_repo",
              "type_annotation": "TagsRepository",
              "default_value": "Depends(get_repository(TagsRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "TagsInList",
          "decorators": [
            {
              "name": "router.get",
              "arguments": [
                ""
              ],
              "keyword_arguments": {
                "response_model": "TagsInList",
                "name": "tags:get-all"
              },
              "line_number": 10
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 11,
          "line_end": 15,
          "complexity": 1,
          "local_variables": [
            "tags"
          ],
          "calls": [
            "Depends",
            "get_repository",
            "tags_repo.get_all_tags",
            "TagsInList",
            "router.get"
          ]
        }
      ],
      "global_variables": [
        {
          "name": "router",
          "type_annotation": null,
          "default_value": "APIRouter()",
          "is_class_var": false,
          "line_number": 7
        }
      ],
      "routers": [
        {
          "variable_name": "router",
          "prefix": null,
          "tags": [],
          "included_routers": [],
          "endpoints": [
            {
              "path": "",
              "http_method": "GET",
              "function_name": "get_all_tags",
              "response_model": "TagsInList",
              "status_code": null,
              "tags": [],
              "dependencies": [],
              "parameters": [
                {
                  "name": "tags_repo",
                  "type_annotation": "TagsRepository",
                  "default_value": "Depends(get_repository(TagsRepository))",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "docstring": null,
              "line_number": 11,
              "name": "tags:get-all"
            }
          ]
        }
      ],
      "endpoints": [
        {
          "path": "",
          "http_method": "GET",
          "function_name": "get_all_tags",
          "response_model": "TagsInList",
          "status_code": null,
          "tags": [],
          "dependencies": [],
          "parameters": [
            {
              "name": "tags_repo",
              "type_annotation": "TagsRepository",
              "default_value": "Depends(get_repository(TagsRepository))",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "docstring": null,
          "line_number": 11,
          "name": "tags:get-all"
        }
      ],
      "line_count": 16,
      "blank_lines": 5,
      "comment_lines": 0,
      "code_lines": 11,
      "file_hash": "f7ff790cf2dcf6700652d6895c390725"
    },
    {
      "file_path": "app/api/routes/users.py",
      "module_name": "app.api.routes.users",
      "package": "app.api.routes",
      "docstring": null,
      "imports": [
        {
          "module": "fastapi",
          "names": [
            "APIRouter",
            "Body",
            "Depends",
            "HTTPException"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "starlette.status",
          "names": [
            "HTTP_400_BAD_REQUEST"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        },
        {
          "module": "app.api.dependencies.authentication",
          "names": [
            "get_current_user_authorizer"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "app.api.dependencies.database",
          "names": [
            "get_repository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        },
        {
          "module": "app.core.config",
          "names": [
            "get_app_settings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        },
        {
          "module": "app.core.settings.app",
          "names": [
            "AppSettings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        },
        {
          "module": "app.db.repositories.users",
          "names": [
            "UsersRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 8
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "User"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 9
        },
        {
          "module": "app.models.schemas.users",
          "names": [
            "UserInResponse",
            "UserInUpdate",
            "UserWithToken"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 10
        },
        {
          "module": "app.resources",
          "names": [
            "strings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 11
        },
        {
          "module": "app.services",
          "names": [
            "jwt"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 12
        },
        {
          "module": "app.services.authentication",
          "names": [
            "check_email_is_taken",
            "check_username_is_taken"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 13
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "retrieve_current_user",
          "qualified_name": "app.api.routes.users.retrieve_current_user",
          "parameters": [
            {
              "name": "user",
              "type_annotation": "User",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "settings",
              "type_annotation": "AppSettings",
              "default_value": "Depends(get_app_settings)",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "UserInResponse",
          "decorators": [
            {
              "name": "router.get",
              "arguments": [
                ""
              ],
              "keyword_arguments": {
                "response_model": "UserInResponse",
                "name": "users:get-current-user"
              },
              "line_number": 18
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 19,
          "line_end": 35,
          "complexity": 1,
          "local_variables": [
            "token"
          ],
          "calls": [
            "Depends",
            "get_current_user_authorizer",
            "Depends",
            "jwt.create_access_token_for_user",
            "str",
            "settings.secret_key.get_secret_value",
            "UserInResponse",
            "UserWithToken",
            "router.get"
          ]
        },
        {
          "name": "update_current_user",
          "qualified_name": "app.api.routes.users.update_current_user",
          "parameters": [
            {
              "name": "user_update",
              "type_annotation": "UserInUpdate",
              "default_value": "Body(Ellipsis)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "current_user",
              "type_annotation": "User",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "users_repo",
              "type_annotation": "UsersRepository",
              "default_value": "Depends(get_repository(UsersRepository))",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "settings",
              "type_annotation": "AppSettings",
              "default_value": "Depends(get_app_settings)",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "UserInResponse",
          "decorators": [
            {
              "name": "router.put",
              "arguments": [
                ""
              ],
              "keyword_arguments": {
                "response_model": "UserInResponse",
                "name": "users:update-current-user"
              },
              "line_number": 38
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 39,
          "line_end": 73,
          "complexity": 7,
          "local_variables": [
            "token",
            "user"
          ],
          "calls": [
            "Body",
            "Depends",
            "get_current_user_authorizer",
            "Depends",
            "get_repository",
            "Depends",
            "check_username_is_taken",
            "HTTPException",
            "check_email_is_taken",
            "HTTPException",
            "users_repo.update_user",
            "user_update.dict",
            "jwt.create_access_token_for_user",
            "str",
            "settings.secret_key.get_secret_value",
            "UserInResponse",
            "UserWithToken",
            "router.put"
          ]
        }
      ],
      "global_variables": [
        {
          "name": "router",
          "type_annotation": null,
          "default_value": "APIRouter()",
          "is_class_var": false,
          "line_number": 15
        }
      ],
      "routers": [
        {
          "variable_name": "router",
          "prefix": null,
          "tags": [],
          "included_routers": [],
          "endpoints": [
            {
              "path": "",
              "http_method": "GET",
              "function_name": "retrieve_current_user",
              "response_model": "UserInResponse",
              "status_code": null,
              "tags": [],
              "dependencies": [],
              "parameters": [
                {
                  "name": "user",
                  "type_annotation": "User",
                  "default_value": "Depends(get_current_user_authorizer())",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "settings",
                  "type_annotation": "AppSettings",
                  "default_value": "Depends(get_app_settings)",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "docstring": null,
              "line_number": 19,
              "name": "users:get-current-user"
            },
            {
              "path": "",
              "http_method": "PUT",
              "function_name": "update_current_user",
              "response_model": "UserInResponse",
              "status_code": null,
              "tags": [],
              "dependencies": [],
              "parameters": [
                {
                  "name": "user_update",
                  "type_annotation": "UserInUpdate",
                  "default_value": "Body(Ellipsis)",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "current_user",
                  "type_annotation": "User",
                  "default_value": "Depends(get_current_user_authorizer())",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "users_repo",
                  "type_annotation": "UsersRepository",
                  "default_value": "Depends(get_repository(UsersRepository))",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "settings",
                  "type_annotation": "AppSettings",
                  "default_value": "Depends(get_app_settings)",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "docstring": null,
              "line_number": 39,
              "name": "users:update-current-user"
            }
          ]
        }
      ],
      "endpoints": [
        {
          "path": "",
          "http_method": "GET",
          "function_name": "retrieve_current_user",
          "response_model": "UserInResponse",
          "status_code": null,
          "tags": [],
          "dependencies": [],
          "parameters": [
            {
              "name": "user",
              "type_annotation": "User",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "settings",
              "type_annotation": "AppSettings",
              "default_value": "Depends(get_app_settings)",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "docstring": null,
          "line_number": 19,
          "name": "users:get-current-user"
        },
        {
          "path": "",
          "http_method": "PUT",
          "function_name": "update_current_user",
          "response_model": "UserInResponse",
          "status_code": null,
          "tags": [],
          "dependencies": [],
          "parameters": [
            {
              "name": "user_update",
              "type_annotation": "UserInUpdate",
              "default_value": "Body(Ellipsis)",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "current_user",
              "type_annotation": "User",
              "default_value": "Depends(get_current_user_authorizer())",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "users_repo",
              "type_annotation": "UsersRepository",
              "default_value": "Depends(get_repository(UsersRepository))",
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "settings",
              "type_annotation": "AppSettings",
              "default_value": "Depends(get_app_settings)",
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "docstring": null,
          "line_number": 39,
          "name": "users:update-current-user"
        }
      ],
      "line_count": 74,
      "blank_lines": 10,
      "comment_lines": 0,
      "code_lines": 64,
      "file_hash": "d363afb4d3f5a0a2e767958ce21eed14"
    },
    {
      "file_path": "app/core/__init__.py",
      "module_name": "app.core.__init__",
      "package": "app.core",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 1,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 0,
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e"
    },
    {
      "file_path": "app/core/config.py",
      "module_name": "app.core.config",
      "package": "app.core",
      "docstring": null,
      "imports": [
        {
          "module": "functools",
          "names": [
            "lru_cache"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "typing",
          "names": [
            "Dict",
            "Type"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        },
        {
          "module": "app.core.settings.app",
          "names": [
            "AppSettings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "app.core.settings.base",
          "names": [
            "AppEnvTypes",
            "BaseAppSettings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        },
        {
          "module": "app.core.settings.development",
          "names": [
            "DevAppSettings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        },
        {
          "module": "app.core.settings.production",
          "names": [
            "ProdAppSettings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        },
        {
          "module": "app.core.settings.test",
          "names": [
            "TestAppSettings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 8
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "get_app_settings",
          "qualified_name": "app.core.config.get_app_settings",
          "parameters": [],
          "return_type": "AppSettings",
          "decorators": [
            {
              "name": "lru_cache",
              "arguments": [],
              "keyword_arguments": {},
              "line_number": 17
            }
          ],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 18,
          "line_end": 21,
          "complexity": 1,
          "local_variables": [
            "app_env",
            "config"
          ],
          "calls": [
            "BaseAppSettings",
            "config"
          ]
        }
      ],
      "global_variables": [
        {
          "name": "environments",
          "type_annotation": "Dict[AppEnvTypes, Type[AppSettings]]",
          "default_value": "{AppEnvTypes.dev: DevAppSettings, AppEnvTypes.prod: ProdAppSettings, AppEnvTypes.test: TestAppSettings}",
          "is_class_var": false,
          "line_number": 10
        }
      ],
      "routers": [],
      "endpoints": [],
      "line_count": 22,
      "blank_lines": 5,
      "comment_lines": 0,
      "code_lines": 17,
      "file_hash": "a67ba189065c49afd2facf5c02d3ba48"
    },
    {
      "file_path": "app/core/events.py",
      "module_name": "app.core.events",
      "package": "app.core",
      "docstring": null,
      "imports": [
        {
          "module": "typing",
          "names": [
            "Callable"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "fastapi",
          "names": [
            "FastAPI"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "loguru",
          "names": [
            "logger"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "app.core.settings.app",
          "names": [
            "AppSettings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        },
        {
          "module": "app.db.events",
          "names": [
            "close_db_connection",
            "connect_to_db"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "create_start_app_handler",
          "qualified_name": "app.core.events.create_start_app_handler",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "settings",
              "type_annotation": "AppSettings",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "Callable",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 10,
          "line_end": 17,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "connect_to_db"
          ]
        },
        {
          "name": "create_stop_app_handler",
          "qualified_name": "app.core.events.create_stop_app_handler",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "Callable",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 20,
          "line_end": 25,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "close_db_connection"
          ]
        }
      ],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 26,
      "blank_lines": 9,
      "comment_lines": 0,
      "code_lines": 17,
      "file_hash": "28851469f78baa8ddc87cab0274cccb9"
    },
    {
      "file_path": "app/core/logging.py",
      "module_name": "app.core.logging",
      "package": "app.core",
      "docstring": null,
      "imports": [
        {
          "module": "logging",
          "names": [
            "logging"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 1
        },
        {
          "module": "types",
          "names": [
            "FrameType"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        },
        {
          "module": "typing",
          "names": [
            "cast"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "loguru",
          "names": [
            "logger"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        }
      ],
      "classes": [
        {
          "name": "InterceptHandler",
          "qualified_name": "app.core.logging.InterceptHandler",
          "bases": [
            "logging.Handler"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [
            {
              "name": "emit",
              "qualified_name": "app.core.logging.InterceptHandler.emit",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "record",
                  "type_annotation": "logging.LogRecord",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "None",
              "decorators": [],
              "docstring": null,
              "is_async": false,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 9,
              "line_end": 25,
              "complexity": 3,
              "local_variables": [
                "frame",
                "level"
              ],
              "calls": [
                "logger.level",
                "str",
                "logging.currentframe",
                "cast",
                "log",
                "logger.opt",
                "record.getMessage"
              ]
            }
          ],
          "attributes": [],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 8,
          "line_end": 25
        }
      ],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 26,
      "blank_lines": 6,
      "comment_lines": 2,
      "code_lines": 18,
      "file_hash": "57479e5f7da24d8ab3ac6ee9e0811386"
    },
    {
      "file_path": "app/core/settings/__init__.py",
      "module_name": "app.core.settings.__init__",
      "package": "app.core.settings",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 1,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 0,
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e"
    },
    {
      "file_path": "app/core/settings/app.py",
      "module_name": "app.core.settings.app",
      "package": "app.core.settings",
      "docstring": null,
      "imports": [
        {
          "module": "logging",
          "names": [
            "logging"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 1
        },
        {
          "module": "sys",
          "names": [
            "sys"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 2
        },
        {
          "module": "typing",
          "names": [
            "Any",
            "Dict",
            "List",
            "Tuple"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "loguru",
          "names": [
            "logger"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        },
        {
          "module": "pydantic",
          "names": [
            "PostgresDsn",
            "SecretStr"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        },
        {
          "module": "app.core.logging",
          "names": [
            "InterceptHandler"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 8
        },
        {
          "module": "app.core.settings.base",
          "names": [
            "BaseAppSettings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 9
        }
      ],
      "classes": [
        {
          "name": "AppSettings",
          "qualified_name": "app.core.settings.app.AppSettings",
          "bases": [
            "BaseAppSettings"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [
            {
              "name": "fastapi_kwargs",
              "qualified_name": "app.core.settings.app.AppSettings.fastapi_kwargs",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "Dict[str, Any]",
              "decorators": [
                {
                  "name": "property",
                  "arguments": [],
                  "keyword_arguments": {},
                  "line_number": 39
                }
              ],
              "docstring": null,
              "is_async": false,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": true,
              "line_start": 40,
              "line_end": 49,
              "complexity": 1,
              "local_variables": [],
              "calls": []
            },
            {
              "name": "configure_logging",
              "qualified_name": "app.core.settings.app.AppSettings.configure_logging",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "None",
              "decorators": [],
              "docstring": null,
              "is_async": false,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 51,
              "line_end": 57,
              "complexity": 2,
              "local_variables": [
                "logging_logger"
              ],
              "calls": [
                "logging.getLogger",
                "InterceptHandler",
                "logging.getLogger",
                "InterceptHandler",
                "logger.configure"
              ]
            }
          ],
          "attributes": [
            {
              "name": "debug",
              "type_annotation": "bool",
              "default_value": "False",
              "is_class_var": false,
              "line_number": 13
            },
            {
              "name": "docs_url",
              "type_annotation": "str",
              "default_value": "/docs",
              "is_class_var": false,
              "line_number": 14
            },
            {
              "name": "openapi_prefix",
              "type_annotation": "str",
              "default_value": "",
              "is_class_var": false,
              "line_number": 15
            },
            {
              "name": "openapi_url",
              "type_annotation": "str",
              "default_value": "/openapi.json",
              "is_class_var": false,
              "line_number": 16
            },
            {
              "name": "redoc_url",
              "type_annotation": "str",
              "default_value": "/redoc",
              "is_class_var": false,
              "line_number": 17
            },
            {
              "name": "title",
              "type_annotation": "str",
              "default_value": "FastAPI example application",
              "is_class_var": false,
              "line_number": 18
            },
            {
              "name": "version",
              "type_annotation": "str",
              "default_value": "0.0.0",
              "is_class_var": false,
              "line_number": 19
            },
            {
              "name": "database_url",
              "type_annotation": "PostgresDsn",
              "default_value": null,
              "is_class_var": false,
              "line_number": 21
            },
            {
              "name": "max_connection_count",
              "type_annotation": "int",
              "default_value": "10",
              "is_class_var": false,
              "line_number": 22
            },
            {
              "name": "min_connection_count",
              "type_annotation": "int",
              "default_value": "10",
              "is_class_var": false,
              "line_number": 23
            },
            {
              "name": "secret_key",
              "type_annotation": "SecretStr",
              "default_value": null,
              "is_class_var": false,
              "line_number": 25
            },
            {
              "name": "api_prefix",
              "type_annotation": "str",
              "default_value": "/api",
              "is_class_var": false,
              "line_number": 27
            },
            {
              "name": "jwt_token_prefix",
              "type_annotation": "str",
              "default_value": "Token",
              "is_class_var": false,
              "line_number": 29
            },
            {
              "name": "allowed_hosts",
              "type_annotation": "List[str]",
              "default_value": "[*]",
              "is_class_var": false,
              "line_number": 31
            },
            {
              "name": "logging_level",
              "type_annotation": "int",
              "default_value": "logging.INFO",
              "is_class_var": false,
              "line_number": 33
            },
            {
              "name": "loggers",
              "type_annotation": "Tuple[str, str]",
              "default_value": "(uvicorn.asgi, uvicorn.access)",
              "is_class_var": false,
              "line_number": 34
            }
          ],
          "inner_classes": [
            {
              "name": "Config",
              "qualified_name": "app.core.settings.app.AppSettings.Config",
              "bases": [],
              "decorators": [],
              "docstring": null,
              "methods": [],
              "attributes": [
                {
                  "name": "validate_assignment",
                  "type_annotation": null,
                  "default_value": "True",
                  "is_class_var": false,
                  "line_number": 37
                }
              ],
              "inner_classes": [],
              "is_dataclass": false,
              "is_pydantic_model": false,
              "line_start": 36,
              "line_end": 37
            }
          ],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 12,
          "line_end": 57
        }
      ],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 58,
      "blank_lines": 15,
      "comment_lines": 0,
      "code_lines": 43,
      "file_hash": "333a82f7c15ad3d6021789037f876321"
    },
    {
      "file_path": "app/core/settings/base.py",
      "module_name": "app.core.settings.base",
      "package": "app.core.settings",
      "docstring": null,
      "imports": [
        {
          "module": "enum",
          "names": [
            "Enum"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "pydantic",
          "names": [
            "BaseSettings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        }
      ],
      "classes": [
        {
          "name": "AppEnvTypes",
          "qualified_name": "app.core.settings.base.AppEnvTypes",
          "bases": [
            "Enum"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "prod",
              "type_annotation": "str",
              "default_value": "prod",
              "is_class_var": false,
              "line_number": 7
            },
            {
              "name": "dev",
              "type_annotation": "str",
              "default_value": "dev",
              "is_class_var": false,
              "line_number": 8
            },
            {
              "name": "test",
              "type_annotation": "str",
              "default_value": "test",
              "is_class_var": false,
              "line_number": 9
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 6,
          "line_end": 9
        },
        {
          "name": "BaseAppSettings",
          "qualified_name": "app.core.settings.base.BaseAppSettings",
          "bases": [
            "BaseSettings"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "app_env",
              "type_annotation": "AppEnvTypes",
              "default_value": "AppEnvTypes.prod",
              "is_class_var": false,
              "line_number": 13
            }
          ],
          "inner_classes": [
            {
              "name": "Config",
              "qualified_name": "app.core.settings.base.BaseAppSettings.Config",
              "bases": [],
              "decorators": [],
              "docstring": null,
              "methods": [],
              "attributes": [
                {
                  "name": "env_file",
                  "type_annotation": null,
                  "default_value": ".env",
                  "is_class_var": false,
                  "line_number": 16
                }
              ],
              "inner_classes": [],
              "is_dataclass": false,
              "is_pydantic_model": false,
              "line_start": 15,
              "line_end": 16
            }
          ],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 12,
          "line_end": 16
        }
      ],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 17,
      "blank_lines": 7,
      "comment_lines": 0,
      "code_lines": 10,
      "file_hash": "f19d373e57c0da28301a8f007f2296c0"
    },
    {
      "file_path": "app/core/settings/development.py",
      "module_name": "app.core.settings.development",
      "package": "app.core.settings",
      "docstring": null,
      "imports": [
        {
          "module": "logging",
          "names": [
            "logging"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 1
        },
        {
          "module": "app.core.settings.app",
          "names": [
            "AppSettings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        }
      ],
      "classes": [
        {
          "name": "DevAppSettings",
          "qualified_name": "app.core.settings.development.DevAppSettings",
          "bases": [
            "AppSettings"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "debug",
              "type_annotation": "bool",
              "default_value": "True",
              "is_class_var": false,
              "line_number": 7
            },
            {
              "name": "title",
              "type_annotation": "str",
              "default_value": "Dev FastAPI example application",
              "is_class_var": false,
              "line_number": 9
            },
            {
              "name": "logging_level",
              "type_annotation": "int",
              "default_value": "logging.DEBUG",
              "is_class_var": false,
              "line_number": 11
            }
          ],
          "inner_classes": [
            {
              "name": "Config",
              "qualified_name": "app.core.settings.development.DevAppSettings.Config",
              "bases": [
                "AppSettings.Config"
              ],
              "decorators": [],
              "docstring": null,
              "methods": [],
              "attributes": [
                {
                  "name": "env_file",
                  "type_annotation": null,
                  "default_value": ".env",
                  "is_class_var": false,
                  "line_number": 14
                }
              ],
              "inner_classes": [],
              "is_dataclass": false,
              "is_pydantic_model": false,
              "line_start": 13,
              "line_end": 14
            }
          ],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 6,
          "line_end": 14
        }
      ],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 15,
      "blank_lines": 7,
      "comment_lines": 0,
      "code_lines": 8,
      "file_hash": "c7f3e0a7df0906627fc06bc9acd63868"
    },
    {
      "file_path": "app/core/settings/production.py",
      "module_name": "app.core.settings.production",
      "package": "app.core.settings",
      "docstring": null,
      "imports": [
        {
          "module": "app.core.settings.app",
          "names": [
            "AppSettings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        }
      ],
      "classes": [
        {
          "name": "ProdAppSettings",
          "qualified_name": "app.core.settings.production.ProdAppSettings",
          "bases": [
            "AppSettings"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [],
          "inner_classes": [
            {
              "name": "Config",
              "qualified_name": "app.core.settings.production.ProdAppSettings.Config",
              "bases": [
                "AppSettings.Config"
              ],
              "decorators": [],
              "docstring": null,
              "methods": [],
              "attributes": [
                {
                  "name": "env_file",
                  "type_annotation": null,
                  "default_value": "prod.env",
                  "is_class_var": false,
                  "line_number": 6
                }
              ],
              "inner_classes": [],
              "is_dataclass": false,
              "is_pydantic_model": false,
              "line_start": 5,
              "line_end": 6
            }
          ],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 4,
          "line_end": 6
        }
      ],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 7,
      "blank_lines": 3,
      "comment_lines": 0,
      "code_lines": 4,
      "file_hash": "507141120aa2f2283d1683314fefee06"
    },
    {
      "file_path": "app/core/settings/test.py",
      "module_name": "app.core.settings.test",
      "package": "app.core.settings",
      "docstring": null,
      "imports": [
        {
          "module": "logging",
          "names": [
            "logging"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 1
        },
        {
          "module": "pydantic",
          "names": [
            "PostgresDsn",
            "SecretStr"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "app.core.settings.app",
          "names": [
            "AppSettings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        }
      ],
      "classes": [
        {
          "name": "TestAppSettings",
          "qualified_name": "app.core.settings.test.TestAppSettings",
          "bases": [
            "AppSettings"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "debug",
              "type_annotation": "bool",
              "default_value": "True",
              "is_class_var": false,
              "line_number": 9
            },
            {
              "name": "title",
              "type_annotation": "str",
              "default_value": "Test FastAPI example application",
              "is_class_var": false,
              "line_number": 11
            },
            {
              "name": "secret_key",
              "type_annotation": "SecretStr",
              "default_value": "SecretStr(test_secret)",
              "is_class_var": false,
              "line_number": 13
            },
            {
              "name": "database_url",
              "type_annotation": "PostgresDsn",
              "default_value": null,
              "is_class_var": false,
              "line_number": 15
            },
            {
              "name": "max_connection_count",
              "type_annotation": "int",
              "default_value": "5",
              "is_class_var": false,
              "line_number": 16
            },
            {
              "name": "min_connection_count",
              "type_annotation": "int",
              "default_value": "5",
              "is_class_var": false,
              "line_number": 17
            },
            {
              "name": "logging_level",
              "type_annotation": "int",
              "default_value": "logging.DEBUG",
              "is_class_var": false,
              "line_number": 19
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 8,
          "line_end": 19
        }
      ],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 20,
      "blank_lines": 9,
      "comment_lines": 0,
      "code_lines": 11,
      "file_hash": "a1365ae257d13c5cd5c3e802d1436e6e"
    },
    {
      "file_path": "app/db/__init__.py",
      "module_name": "app.db.__init__",
      "package": "app.db",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 1,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 0,
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e"
    },
    {
      "file_path": "app/db/errors.py",
      "module_name": "app.db.errors",
      "package": "app.db",
      "docstring": null,
      "imports": [],
      "classes": [
        {
          "name": "EntityDoesNotExist",
          "qualified_name": "app.db.errors.EntityDoesNotExist",
          "bases": [
            "Exception"
          ],
          "decorators": [],
          "docstring": "Raised when entity was not found in database.",
          "methods": [],
          "attributes": [],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 1,
          "line_end": 2
        }
      ],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 3,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 2,
      "file_hash": "1d09b15241a5d1f2c24f8672f1b45f90"
    },
    {
      "file_path": "app/db/events.py",
      "module_name": "app.db.events",
      "package": "app.db",
      "docstring": null,
      "imports": [
        {
          "module": "asyncpg",
          "names": [
            "asyncpg"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 1
        },
        {
          "module": "fastapi",
          "names": [
            "FastAPI"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        },
        {
          "module": "loguru",
          "names": [
            "logger"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "app.core.settings.app",
          "names": [
            "AppSettings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "connect_to_db",
          "qualified_name": "app.db.events.connect_to_db",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "settings",
              "type_annotation": "AppSettings",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 8,
          "line_end": 17,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "logger.info",
            "asyncpg.create_pool",
            "str",
            "logger.info"
          ]
        },
        {
          "name": "close_db_connection",
          "qualified_name": "app.db.events.close_db_connection",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 20,
          "line_end": 25,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "logger.info",
            "app.state.pool.close",
            "logger.info"
          ]
        }
      ],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 26,
      "blank_lines": 10,
      "comment_lines": 0,
      "code_lines": 16,
      "file_hash": "da4e543f8ea19626fb0d8f466b673b76"
    },
    {
      "file_path": "app/db/migrations/env.py",
      "module_name": "app.db.migrations.env",
      "package": "app.db.migrations",
      "docstring": null,
      "imports": [
        {
          "module": "pathlib",
          "names": [
            "pathlib"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 1
        },
        {
          "module": "sys",
          "names": [
            "sys"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 2
        },
        {
          "module": "logging.config",
          "names": [
            "fileConfig"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "alembic",
          "names": [
            "context"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        },
        {
          "module": "sqlalchemy",
          "names": [
            "engine_from_config",
            "pool"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        },
        {
          "module": "app.core.config",
          "names": [
            "get_app_settings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 10
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "run_migrations_online",
          "qualified_name": "app.db.migrations.env.run_migrations_online",
          "parameters": [],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 24,
          "line_end": 35,
          "complexity": 3,
          "local_variables": [
            "connectable"
          ],
          "calls": [
            "engine_from_config",
            "config.get_section",
            "connectable.connect",
            "context.configure",
            "context.begin_transaction",
            "context.run_migrations"
          ]
        }
      ],
      "global_variables": [
        {
          "name": "SETTINGS",
          "type_annotation": null,
          "default_value": "get_app_settings()",
          "is_class_var": false,
          "line_number": 12
        },
        {
          "name": "DATABASE_URL",
          "type_annotation": null,
          "default_value": "SETTINGS.database_url",
          "is_class_var": false,
          "line_number": 13
        },
        {
          "name": "config",
          "type_annotation": null,
          "default_value": "context.config",
          "is_class_var": false,
          "line_number": 15
        },
        {
          "name": "target_metadata",
          "type_annotation": null,
          "default_value": "None",
          "is_class_var": false,
          "line_number": 19
        }
      ],
      "routers": [],
      "endpoints": [],
      "line_count": 39,
      "blank_lines": 15,
      "comment_lines": 0,
      "code_lines": 24,
      "file_hash": "3b7b6cdc1a44354ae2af9eb749be4dc8"
    },
    {
      "file_path": "app/db/migrations/versions/fdf8821871d7_main_tables.py",
      "module_name": "app.db.migrations.versions.fdf8821871d7_main_tables",
      "package": "app.db.migrations.versions",
      "docstring": "main tables\n\nRevision ID: fdf8821871d7\nRevises:\nCreate Date: 2019-09-22 01:36:44.791880",
      "imports": [
        {
          "module": "typing",
          "names": [
            "Tuple"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 8
        },
        {
          "module": "sqlalchemy",
          "names": [
            "sqlalchemy"
          ],
          "alias": "sa",
          "is_from_import": false,
          "line_number": 10
        },
        {
          "module": "alembic",
          "names": [
            "op"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 11
        },
        {
          "module": "sqlalchemy",
          "names": [
            "func"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 12
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "create_updated_at_trigger",
          "qualified_name": "app.db.migrations.versions.fdf8821871d7_main_tables.create_updated_at_trigger",
          "parameters": [],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 20,
          "line_end": 32,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "op.execute"
          ]
        },
        {
          "name": "timestamps",
          "qualified_name": "app.db.migrations.versions.fdf8821871d7_main_tables.timestamps",
          "parameters": [],
          "return_type": "Tuple[sa.Column, sa.Column]",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 35,
          "line_end": 50,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "sa.Column",
            "sa.TIMESTAMP",
            "func.now",
            "sa.Column",
            "sa.TIMESTAMP",
            "func.now",
            "func.current_timestamp"
          ]
        },
        {
          "name": "create_users_table",
          "qualified_name": "app.db.migrations.versions.fdf8821871d7_main_tables.create_users_table",
          "parameters": [],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 53,
          "line_end": 73,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "op.create_table",
            "sa.Column",
            "sa.Column",
            "sa.Column",
            "sa.Column",
            "sa.Column",
            "sa.Column",
            "sa.Column",
            "timestamps",
            "op.execute"
          ]
        },
        {
          "name": "create_followers_to_followings_table",
          "qualified_name": "app.db.migrations.versions.fdf8821871d7_main_tables.create_followers_to_followings_table",
          "parameters": [],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 76,
          "line_end": 96,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "op.create_table",
            "sa.Column",
            "sa.ForeignKey",
            "sa.Column",
            "sa.ForeignKey",
            "op.create_primary_key"
          ]
        },
        {
          "name": "create_articles_table",
          "qualified_name": "app.db.migrations.versions.fdf8821871d7_main_tables.create_articles_table",
          "parameters": [],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 99,
          "line_end": 120,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "op.create_table",
            "sa.Column",
            "sa.Column",
            "sa.Column",
            "sa.Column",
            "sa.Column",
            "sa.Column",
            "sa.ForeignKey",
            "timestamps",
            "op.execute"
          ]
        },
        {
          "name": "create_tags_table",
          "qualified_name": "app.db.migrations.versions.fdf8821871d7_main_tables.create_tags_table",
          "parameters": [],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 123,
          "line_end": 124,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "op.create_table",
            "sa.Column"
          ]
        },
        {
          "name": "create_articles_to_tags_table",
          "qualified_name": "app.db.migrations.versions.fdf8821871d7_main_tables.create_articles_to_tags_table",
          "parameters": [],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 127,
          "line_end": 145,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "op.create_table",
            "sa.Column",
            "sa.ForeignKey",
            "sa.Column",
            "sa.ForeignKey",
            "op.create_primary_key"
          ]
        },
        {
          "name": "create_favorites_table",
          "qualified_name": "app.db.migrations.versions.fdf8821871d7_main_tables.create_favorites_table",
          "parameters": [],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 148,
          "line_end": 164,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "op.create_table",
            "sa.Column",
            "sa.ForeignKey",
            "sa.Column",
            "sa.ForeignKey",
            "op.create_primary_key"
          ]
        },
        {
          "name": "create_commentaries_table",
          "qualified_name": "app.db.migrations.versions.fdf8821871d7_main_tables.create_commentaries_table",
          "parameters": [],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 167,
          "line_end": 194,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "op.create_table",
            "sa.Column",
            "sa.Column",
            "sa.Column",
            "sa.ForeignKey",
            "sa.Column",
            "sa.ForeignKey",
            "timestamps",
            "op.execute"
          ]
        },
        {
          "name": "upgrade",
          "qualified_name": "app.db.migrations.versions.fdf8821871d7_main_tables.upgrade",
          "parameters": [],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 197,
          "line_end": 205,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "create_updated_at_trigger",
            "create_users_table",
            "create_followers_to_followings_table",
            "create_articles_table",
            "create_tags_table",
            "create_articles_to_tags_table",
            "create_favorites_table",
            "create_commentaries_table"
          ]
        },
        {
          "name": "downgrade",
          "qualified_name": "app.db.migrations.versions.fdf8821871d7_main_tables.downgrade",
          "parameters": [],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 208,
          "line_end": 216,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "op.drop_table",
            "op.drop_table",
            "op.drop_table",
            "op.drop_table",
            "op.drop_table",
            "op.drop_table",
            "op.drop_table",
            "op.execute"
          ]
        }
      ],
      "global_variables": [
        {
          "name": "revision",
          "type_annotation": null,
          "default_value": "fdf8821871d7",
          "is_class_var": false,
          "line_number": 14
        },
        {
          "name": "down_revision",
          "type_annotation": null,
          "default_value": "None",
          "is_class_var": false,
          "line_number": 15
        },
        {
          "name": "branch_labels",
          "type_annotation": null,
          "default_value": "None",
          "is_class_var": false,
          "line_number": 16
        },
        {
          "name": "depends_on",
          "type_annotation": null,
          "default_value": "None",
          "is_class_var": false,
          "line_number": 17
        }
      ],
      "routers": [],
      "endpoints": [],
      "line_count": 217,
      "blank_lines": 27,
      "comment_lines": 0,
      "code_lines": 190,
      "file_hash": "8b51f2966a7ea93d0639cf3197576f39"
    },
    {
      "file_path": "app/db/queries/__init__.py",
      "module_name": "app.db.queries.__init__",
      "package": "app.db.queries",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 1,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 0,
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e"
    },
    {
      "file_path": "app/db/queries/queries.py",
      "module_name": "app.db.queries.queries",
      "package": "app.db.queries",
      "docstring": null,
      "imports": [
        {
          "module": "pathlib",
          "names": [
            "pathlib"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 1
        },
        {
          "module": "aiosql",
          "names": [
            "aiosql"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 3
        }
      ],
      "classes": [],
      "functions": [],
      "global_variables": [
        {
          "name": "queries",
          "type_annotation": null,
          "default_value": "from_path(pathlib.Path(__file__).parent / 'sql', asyncpg)",
          "is_class_var": false,
          "line_number": 5
        }
      ],
      "routers": [],
      "endpoints": [],
      "line_count": 6,
      "blank_lines": 3,
      "comment_lines": 0,
      "code_lines": 3,
      "file_hash": "372379a5d062364b82d5c0e1e0457241"
    },
    {
      "file_path": "app/db/queries/tables.py",
      "module_name": "app.db.queries.tables",
      "package": "app.db.queries",
      "docstring": null,
      "imports": [
        {
          "module": "datetime",
          "names": [
            "datetime"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "typing",
          "names": [
            "Optional"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        },
        {
          "module": "pypika",
          "names": [
            "Parameter",
            "Query",
            "Table"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        }
      ],
      "classes": [
        {
          "name": "Parameter",
          "qualified_name": "app.db.queries.tables.Parameter",
          "bases": [
            "CommonParameter"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [
            {
              "name": "__init__",
              "qualified_name": "app.db.queries.tables.Parameter.__init__",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "count",
                  "type_annotation": "int",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "None",
              "decorators": [],
              "docstring": null,
              "is_async": false,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 8,
              "line_end": 9,
              "complexity": 1,
              "local_variables": [],
              "calls": [
                "__init__",
                "super",
                "format"
              ]
            }
          ],
          "attributes": [],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 7,
          "line_end": 9
        },
        {
          "name": "TypedTable",
          "qualified_name": "app.db.queries.tables.TypedTable",
          "bases": [
            "Table"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [
            {
              "name": "__init__",
              "qualified_name": "app.db.queries.tables.TypedTable.__init__",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "name",
                  "type_annotation": "Optional[str]",
                  "default_value": "None",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "schema",
                  "type_annotation": "Optional[str]",
                  "default_value": "None",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "alias",
                  "type_annotation": "Optional[str]",
                  "default_value": "None",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "query_cls",
                  "type_annotation": "Optional[Query]",
                  "default_value": "None",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "None",
              "decorators": [],
              "docstring": null,
              "is_async": false,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 15,
              "line_end": 28,
              "complexity": 3,
              "local_variables": [
                "name"
              ],
              "calls": [
                "__init__",
                "super"
              ]
            }
          ],
          "attributes": [
            {
              "name": "__table__",
              "type_annotation": null,
              "default_value": "",
              "is_class_var": false,
              "line_number": 13
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 12,
          "line_end": 28
        },
        {
          "name": "Users",
          "qualified_name": "app.db.queries.tables.Users",
          "bases": [
            "TypedTable"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "__table__",
              "type_annotation": null,
              "default_value": "users",
              "is_class_var": false,
              "line_number": 32
            },
            {
              "name": "id",
              "type_annotation": "int",
              "default_value": null,
              "is_class_var": false,
              "line_number": 34
            },
            {
              "name": "username",
              "type_annotation": "str",
              "default_value": null,
              "is_class_var": false,
              "line_number": 35
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 31,
          "line_end": 35
        },
        {
          "name": "Articles",
          "qualified_name": "app.db.queries.tables.Articles",
          "bases": [
            "TypedTable"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "__table__",
              "type_annotation": null,
              "default_value": "articles",
              "is_class_var": false,
              "line_number": 39
            },
            {
              "name": "id",
              "type_annotation": "int",
              "default_value": null,
              "is_class_var": false,
              "line_number": 41
            },
            {
              "name": "slug",
              "type_annotation": "str",
              "default_value": null,
              "is_class_var": false,
              "line_number": 42
            },
            {
              "name": "title",
              "type_annotation": "str",
              "default_value": null,
              "is_class_var": false,
              "line_number": 43
            },
            {
              "name": "description",
              "type_annotation": "str",
              "default_value": null,
              "is_class_var": false,
              "line_number": 44
            },
            {
              "name": "body",
              "type_annotation": "str",
              "default_value": null,
              "is_class_var": false,
              "line_number": 45
            },
            {
              "name": "author_id",
              "type_annotation": "int",
              "default_value": null,
              "is_class_var": false,
              "line_number": 46
            },
            {
              "name": "created_at",
              "type_annotation": "datetime",
              "default_value": null,
              "is_class_var": false,
              "line_number": 47
            },
            {
              "name": "updated_at",
              "type_annotation": "datetime",
              "default_value": null,
              "is_class_var": false,
              "line_number": 48
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 38,
          "line_end": 48
        },
        {
          "name": "Tags",
          "qualified_name": "app.db.queries.tables.Tags",
          "bases": [
            "TypedTable"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "__table__",
              "type_annotation": null,
              "default_value": "tags",
              "is_class_var": false,
              "line_number": 52
            },
            {
              "name": "tag",
              "type_annotation": "str",
              "default_value": null,
              "is_class_var": false,
              "line_number": 54
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 51,
          "line_end": 54
        },
        {
          "name": "ArticlesToTags",
          "qualified_name": "app.db.queries.tables.ArticlesToTags",
          "bases": [
            "TypedTable"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "__table__",
              "type_annotation": null,
              "default_value": "articles_to_tags",
              "is_class_var": false,
              "line_number": 58
            },
            {
              "name": "article_id",
              "type_annotation": "int",
              "default_value": null,
              "is_class_var": false,
              "line_number": 60
            },
            {
              "name": "tag",
              "type_annotation": "str",
              "default_value": null,
              "is_class_var": false,
              "line_number": 61
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 57,
          "line_end": 61
        },
        {
          "name": "Favorites",
          "qualified_name": "app.db.queries.tables.Favorites",
          "bases": [
            "TypedTable"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "__table__",
              "type_annotation": null,
              "default_value": "favorites",
              "is_class_var": false,
              "line_number": 65
            },
            {
              "name": "article_id",
              "type_annotation": "int",
              "default_value": null,
              "is_class_var": false,
              "line_number": 67
            },
            {
              "name": "user_id",
              "type_annotation": "int",
              "default_value": null,
              "is_class_var": false,
              "line_number": 68
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 64,
          "line_end": 68
        }
      ],
      "functions": [],
      "global_variables": [
        {
          "name": "users",
          "type_annotation": null,
          "default_value": "Users()",
          "is_class_var": false,
          "line_number": 71
        },
        {
          "name": "articles",
          "type_annotation": null,
          "default_value": "Articles()",
          "is_class_var": false,
          "line_number": 72
        },
        {
          "name": "tags",
          "type_annotation": null,
          "default_value": "Tags()",
          "is_class_var": false,
          "line_number": 73
        },
        {
          "name": "articles_to_tags",
          "type_annotation": null,
          "default_value": "ArticlesToTags()",
          "is_class_var": false,
          "line_number": 74
        },
        {
          "name": "favorites",
          "type_annotation": null,
          "default_value": "Favorites()",
          "is_class_var": false,
          "line_number": 75
        }
      ],
      "routers": [],
      "endpoints": [],
      "line_count": 76,
      "blank_lines": 25,
      "comment_lines": 0,
      "code_lines": 51,
      "file_hash": "620bdf759f1d53f95462afa7052c57cf"
    },
    {
      "file_path": "app/db/repositories/__init__.py",
      "module_name": "app.db.repositories.__init__",
      "package": "app.db.repositories",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 1,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 0,
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e"
    },
    {
      "file_path": "app/db/repositories/articles.py",
      "module_name": "app.db.repositories.articles",
      "package": "app.db.repositories",
      "docstring": null,
      "imports": [
        {
          "module": "typing",
          "names": [
            "List",
            "Optional",
            "Sequence",
            "Union"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "asyncpg",
          "names": [
            "Connection",
            "Record"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "pypika",
          "names": [
            "Query"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "app.db.errors",
          "names": [
            "EntityDoesNotExist"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        },
        {
          "module": "app.db.queries.queries",
          "names": [
            "queries"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        },
        {
          "module": "app.db.queries.tables",
          "names": [
            "Parameter",
            "articles",
            "articles_to_tags",
            "favorites",
            "tags",
            "users"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 8
        },
        {
          "module": "app.db.repositories.base",
          "names": [
            "BaseRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 16
        },
        {
          "module": "app.db.repositories.profiles",
          "names": [
            "ProfilesRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 17
        },
        {
          "module": "app.db.repositories.tags",
          "names": [
            "TagsRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 18
        },
        {
          "module": "app.models.domain.articles",
          "names": [
            "Article"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 19
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "User"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 20
        }
      ],
      "classes": [
        {
          "name": "ArticlesRepository",
          "qualified_name": "app.db.repositories.articles.ArticlesRepository",
          "bases": [
            "BaseRepository"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [
            {
              "name": "__init__",
              "qualified_name": "app.db.repositories.articles.ArticlesRepository.__init__",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "conn",
                  "type_annotation": "Connection",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "None",
              "decorators": [],
              "docstring": null,
              "is_async": false,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 29,
              "line_end": 32,
              "complexity": 1,
              "local_variables": [],
              "calls": [
                "__init__",
                "super",
                "ProfilesRepository",
                "TagsRepository"
              ]
            },
            {
              "name": "create_article",
              "qualified_name": "app.db.repositories.articles.ArticlesRepository.create_article",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "slug",
                  "type_annotation": "str",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "title",
                  "type_annotation": "str",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "description",
                  "type_annotation": "str",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "body",
                  "type_annotation": "str",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "author",
                  "type_annotation": "User",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "tags",
                  "type_annotation": "Optional[Sequence[str]]",
                  "default_value": "None",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "Article",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 34,
              "line_end": 63,
              "complexity": 2,
              "local_variables": [
                "article_row"
              ],
              "calls": [
                "self.connection.transaction",
                "queries.create_new_article",
                "self._tags_repo.create_tags_that_dont_exist",
                "self._link_article_with_tags",
                "self._get_article_from_db_record"
              ]
            },
            {
              "name": "update_article",
              "qualified_name": "app.db.repositories.articles.ArticlesRepository.update_article",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "article",
                  "type_annotation": "Article",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "slug",
                  "type_annotation": "Optional[str]",
                  "default_value": "None",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "title",
                  "type_annotation": "Optional[str]",
                  "default_value": "None",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "body",
                  "type_annotation": "Optional[str]",
                  "default_value": "None",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "description",
                  "type_annotation": "Optional[str]",
                  "default_value": "None",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "Article",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 65,
              "line_end": 91,
              "complexity": 5,
              "local_variables": [
                "updated_article"
              ],
              "calls": [
                "article.copy",
                "self.connection.transaction",
                "queries.update_article"
              ]
            },
            {
              "name": "delete_article",
              "qualified_name": "app.db.repositories.articles.ArticlesRepository.delete_article",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "article",
                  "type_annotation": "Article",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "None",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 93,
              "line_end": 99,
              "complexity": 1,
              "local_variables": [],
              "calls": [
                "self.connection.transaction",
                "queries.delete_article"
              ]
            },
            {
              "name": "filter_articles",
              "qualified_name": "app.db.repositories.articles.ArticlesRepository.filter_articles",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "tag",
                  "type_annotation": "Optional[str]",
                  "default_value": "None",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "author",
                  "type_annotation": "Optional[str]",
                  "default_value": "None",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "favorited",
                  "type_annotation": "Optional[str]",
                  "default_value": "None",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "limit",
                  "type_annotation": "int",
                  "default_value": "20",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "offset",
                  "type_annotation": "int",
                  "default_value": "0",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "requested_user",
                  "type_annotation": "Optional[User]",
                  "default_value": "None",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "List[Article]",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 101,
              "line_end": 212,
              "complexity": 5,
              "local_variables": [
                "query_params_count",
                "query_params",
                "articles_rows",
                "query"
              ],
              "calls": [
                "select",
                "Query.from_",
                "as_",
                "select",
                "where",
                "Query.from_",
                "query_params.append",
                "on",
                "query.join",
                "select",
                "where",
                "Query.from_",
                "Parameter",
                "query_params.append",
                "on",
                "query.join",
                "select",
                "where",
                "Query.from_",
                "Parameter",
                "query_params.append",
                "on",
                "query.join",
                "select",
                "where",
                "Query.from_",
                "Parameter",
                "offset",
                "query.limit",
                "Parameter",
                "Parameter",
                "query_params.extend",
                "self.connection.fetch",
                "query.get_sql",
                "self._get_article_from_db_record"
              ]
            },
            {
              "name": "get_articles_for_user_feed",
              "qualified_name": "app.db.repositories.articles.ArticlesRepository.get_articles_for_user_feed",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "user",
                  "type_annotation": "User",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "limit",
                  "type_annotation": "int",
                  "default_value": "20",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "offset",
                  "type_annotation": "int",
                  "default_value": "0",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "List[Article]",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 214,
              "line_end": 235,
              "complexity": 2,
              "local_variables": [
                "articles_rows"
              ],
              "calls": [
                "queries.get_articles_for_feed",
                "self._get_article_from_db_record"
              ]
            },
            {
              "name": "get_article_by_slug",
              "qualified_name": "app.db.repositories.articles.ArticlesRepository.get_article_by_slug",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "slug",
                  "type_annotation": "str",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "requested_user",
                  "type_annotation": "Optional[User]",
                  "default_value": "None",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "Article",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 237,
              "line_end": 252,
              "complexity": 2,
              "local_variables": [
                "article_row"
              ],
              "calls": [
                "queries.get_article_by_slug",
                "self._get_article_from_db_record",
                "EntityDoesNotExist",
                "format"
              ]
            },
            {
              "name": "get_tags_for_article_by_slug",
              "qualified_name": "app.db.repositories.articles.ArticlesRepository.get_tags_for_article_by_slug",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "slug",
                  "type_annotation": "str",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "List[str]",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 254,
              "line_end": 259,
              "complexity": 2,
              "local_variables": [
                "tag_rows"
              ],
              "calls": [
                "queries.get_tags_for_article_by_slug"
              ]
            },
            {
              "name": "get_favorites_count_for_article_by_slug",
              "qualified_name": "app.db.repositories.articles.ArticlesRepository.get_favorites_count_for_article_by_slug",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "slug",
                  "type_annotation": "str",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "int",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 261,
              "line_end": 264,
              "complexity": 1,
              "local_variables": [],
              "calls": [
                "queries.get_favorites_count_for_article"
              ]
            },
            {
              "name": "is_article_favorited_by_user",
              "qualified_name": "app.db.repositories.articles.ArticlesRepository.is_article_favorited_by_user",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "slug",
                  "type_annotation": "str",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "user",
                  "type_annotation": "User",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "bool",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 266,
              "line_end": 273,
              "complexity": 1,
              "local_variables": [],
              "calls": [
                "queries.is_article_in_favorites"
              ]
            },
            {
              "name": "add_article_into_favorites",
              "qualified_name": "app.db.repositories.articles.ArticlesRepository.add_article_into_favorites",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "article",
                  "type_annotation": "Article",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "user",
                  "type_annotation": "User",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "None",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 275,
              "line_end": 280,
              "complexity": 1,
              "local_variables": [],
              "calls": [
                "queries.add_article_to_favorites"
              ]
            },
            {
              "name": "remove_article_from_favorites",
              "qualified_name": "app.db.repositories.articles.ArticlesRepository.remove_article_from_favorites",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "article",
                  "type_annotation": "Article",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "user",
                  "type_annotation": "User",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "None",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 282,
              "line_end": 292,
              "complexity": 1,
              "local_variables": [],
              "calls": [
                "queries.remove_article_from_favorites"
              ]
            },
            {
              "name": "_get_article_from_db_record",
              "qualified_name": "app.db.repositories.articles.ArticlesRepository._get_article_from_db_record",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "article_row",
                  "type_annotation": "Record",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "slug",
                  "type_annotation": "str",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "author_username",
                  "type_annotation": "str",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "requested_user",
                  "type_annotation": "Optional[User]",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "Article",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 294,
              "line_end": 324,
              "complexity": 2,
              "local_variables": [],
              "calls": [
                "Article",
                "self._profiles_repo.get_profile_by_username",
                "self.get_tags_for_article_by_slug",
                "self.get_favorites_count_for_article_by_slug",
                "self.is_article_favorited_by_user"
              ]
            },
            {
              "name": "_link_article_with_tags",
              "qualified_name": "app.db.repositories.articles.ArticlesRepository._link_article_with_tags",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "slug",
                  "type_annotation": "str",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "tags",
                  "type_annotation": "Sequence[str]",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "None",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 326,
              "line_end": 330,
              "complexity": 2,
              "local_variables": [],
              "calls": [
                "queries.add_tags_to_article"
              ]
            }
          ],
          "attributes": [],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 28,
          "line_end": 330
        }
      ],
      "functions": [],
      "global_variables": [
        {
          "name": "AUTHOR_USERNAME_ALIAS",
          "type_annotation": null,
          "default_value": "author_username",
          "is_class_var": false,
          "line_number": 22
        },
        {
          "name": "SLUG_ALIAS",
          "type_annotation": null,
          "default_value": "slug",
          "is_class_var": false,
          "line_number": 23
        },
        {
          "name": "CAMEL_OR_SNAKE_CASE_TO_WORDS",
          "type_annotation": null,
          "default_value": "^[a-z\\d_\\-]+|[A-Z\\d_\\-][^A-Z\\d_\\-]*",
          "is_class_var": false,
          "line_number": 25
        }
      ],
      "routers": [],
      "endpoints": [],
      "line_count": 331,
      "blank_lines": 35,
      "comment_lines": 8,
      "code_lines": 288,
      "file_hash": "7d7bcd3a37e3d1e29f9d272b81d36bdb"
    },
    {
      "file_path": "app/db/repositories/base.py",
      "module_name": "app.db.repositories.base",
      "package": "app.db.repositories",
      "docstring": null,
      "imports": [
        {
          "module": "asyncpg.connection",
          "names": [
            "Connection"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        }
      ],
      "classes": [
        {
          "name": "BaseRepository",
          "qualified_name": "app.db.repositories.base.BaseRepository",
          "bases": [],
          "decorators": [],
          "docstring": null,
          "methods": [
            {
              "name": "__init__",
              "qualified_name": "app.db.repositories.base.BaseRepository.__init__",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "conn",
                  "type_annotation": "Connection",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "None",
              "decorators": [],
              "docstring": null,
              "is_async": false,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 5,
              "line_end": 6,
              "complexity": 1,
              "local_variables": [],
              "calls": []
            },
            {
              "name": "connection",
              "qualified_name": "app.db.repositories.base.BaseRepository.connection",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "Connection",
              "decorators": [
                {
                  "name": "property",
                  "arguments": [],
                  "keyword_arguments": {},
                  "line_number": 8
                }
              ],
              "docstring": null,
              "is_async": false,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": true,
              "line_start": 9,
              "line_end": 10,
              "complexity": 1,
              "local_variables": [],
              "calls": []
            }
          ],
          "attributes": [],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 4,
          "line_end": 10
        }
      ],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 11,
      "blank_lines": 4,
      "comment_lines": 0,
      "code_lines": 7,
      "file_hash": "9d6068971f2b1368ddf62f0221a8f880"
    },
    {
      "file_path": "app/db/repositories/comments.py",
      "module_name": "app.db.repositories.comments",
      "package": "app.db.repositories",
      "docstring": null,
      "imports": [
        {
          "module": "typing",
          "names": [
            "List",
            "Optional"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "asyncpg",
          "names": [
            "Connection",
            "Record"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "app.db.errors",
          "names": [
            "EntityDoesNotExist"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        },
        {
          "module": "app.db.queries.queries",
          "names": [
            "queries"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        },
        {
          "module": "app.db.repositories.base",
          "names": [
            "BaseRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        },
        {
          "module": "app.db.repositories.profiles",
          "names": [
            "ProfilesRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 8
        },
        {
          "module": "app.models.domain.articles",
          "names": [
            "Article"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 9
        },
        {
          "module": "app.models.domain.comments",
          "names": [
            "Comment"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 10
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "User"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 11
        }
      ],
      "classes": [
        {
          "name": "CommentsRepository",
          "qualified_name": "app.db.repositories.comments.CommentsRepository",
          "bases": [
            "BaseRepository"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [
            {
              "name": "__init__",
              "qualified_name": "app.db.repositories.comments.CommentsRepository.__init__",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "conn",
                  "type_annotation": "Connection",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "None",
              "decorators": [],
              "docstring": null,
              "is_async": false,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 15,
              "line_end": 17,
              "complexity": 1,
              "local_variables": [],
              "calls": [
                "__init__",
                "super",
                "ProfilesRepository"
              ]
            },
            {
              "name": "get_comment_by_id",
              "qualified_name": "app.db.repositories.comments.CommentsRepository.get_comment_by_id",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "comment_id",
                  "type_annotation": "int",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "article",
                  "type_annotation": "Article",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "user",
                  "type_annotation": "Optional[User]",
                  "default_value": "None",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "Comment",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 19,
              "line_end": 40,
              "complexity": 2,
              "local_variables": [
                "comment_row"
              ],
              "calls": [
                "queries.get_comment_by_id_and_slug",
                "self._get_comment_from_db_record",
                "EntityDoesNotExist",
                "format"
              ]
            },
            {
              "name": "get_comments_for_article",
              "qualified_name": "app.db.repositories.comments.CommentsRepository.get_comments_for_article",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "article",
                  "type_annotation": "Article",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "user",
                  "type_annotation": "Optional[User]",
                  "default_value": "None",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "List[Comment]",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 42,
              "line_end": 59,
              "complexity": 2,
              "local_variables": [
                "comments_rows"
              ],
              "calls": [
                "queries.get_comments_for_article_by_slug",
                "self._get_comment_from_db_record"
              ]
            },
            {
              "name": "create_comment_for_article",
              "qualified_name": "app.db.repositories.comments.CommentsRepository.create_comment_for_article",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "body",
                  "type_annotation": "str",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "article",
                  "type_annotation": "Article",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "user",
                  "type_annotation": "User",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "Comment",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 61,
              "line_end": 78,
              "complexity": 1,
              "local_variables": [
                "comment_row"
              ],
              "calls": [
                "queries.create_new_comment",
                "self._get_comment_from_db_record"
              ]
            },
            {
              "name": "delete_comment",
              "qualified_name": "app.db.repositories.comments.CommentsRepository.delete_comment",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "comment",
                  "type_annotation": "Comment",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "None",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 80,
              "line_end": 85,
              "complexity": 1,
              "local_variables": [],
              "calls": [
                "queries.delete_comment_by_id"
              ]
            },
            {
              "name": "_get_comment_from_db_record",
              "qualified_name": "app.db.repositories.comments.CommentsRepository._get_comment_from_db_record",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "comment_row",
                  "type_annotation": "Record",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "author_username",
                  "type_annotation": "str",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "requested_user",
                  "type_annotation": "Optional[User]",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "Comment",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 87,
              "line_end": 103,
              "complexity": 1,
              "local_variables": [],
              "calls": [
                "Comment",
                "self._profiles_repo.get_profile_by_username"
              ]
            }
          ],
          "attributes": [],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 14,
          "line_end": 103
        }
      ],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 104,
      "blank_lines": 11,
      "comment_lines": 0,
      "code_lines": 93,
      "file_hash": "1372d8279fe0513ebb79be911642ae55"
    },
    {
      "file_path": "app/db/repositories/profiles.py",
      "module_name": "app.db.repositories.profiles",
      "package": "app.db.repositories",
      "docstring": null,
      "imports": [
        {
          "module": "typing",
          "names": [
            "Optional",
            "Union"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "asyncpg",
          "names": [
            "Connection"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "app.db.queries.queries",
          "names": [
            "queries"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        },
        {
          "module": "app.db.repositories.base",
          "names": [
            "BaseRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        },
        {
          "module": "app.db.repositories.users",
          "names": [
            "UsersRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        },
        {
          "module": "app.models.domain.profiles",
          "names": [
            "Profile"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 8
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "User"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 9
        }
      ],
      "classes": [
        {
          "name": "ProfilesRepository",
          "qualified_name": "app.db.repositories.profiles.ProfilesRepository",
          "bases": [
            "BaseRepository"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [
            {
              "name": "__init__",
              "qualified_name": "app.db.repositories.profiles.ProfilesRepository.__init__",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "conn",
                  "type_annotation": "Connection",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": null,
              "decorators": [],
              "docstring": null,
              "is_async": false,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 15,
              "line_end": 17,
              "complexity": 1,
              "local_variables": [],
              "calls": [
                "__init__",
                "super",
                "UsersRepository"
              ]
            },
            {
              "name": "get_profile_by_username",
              "qualified_name": "app.db.repositories.profiles.ProfilesRepository.get_profile_by_username",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "username",
                  "type_annotation": "str",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "requested_user",
                  "type_annotation": "Optional[UserLike]",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "Profile",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 19,
              "line_end": 34,
              "complexity": 2,
              "local_variables": [
                "profile",
                "user"
              ],
              "calls": [
                "self._users_repo.get_user_by_username",
                "Profile",
                "self.is_user_following_for_another_user"
              ]
            },
            {
              "name": "is_user_following_for_another_user",
              "qualified_name": "app.db.repositories.profiles.ProfilesRepository.is_user_following_for_another_user",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "target_user",
                  "type_annotation": "UserLike",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "requested_user",
                  "type_annotation": "UserLike",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "bool",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 36,
              "line_end": 48,
              "complexity": 1,
              "local_variables": [],
              "calls": [
                "queries.is_user_following_for_another"
              ]
            },
            {
              "name": "add_user_into_followers",
              "qualified_name": "app.db.repositories.profiles.ProfilesRepository.add_user_into_followers",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "target_user",
                  "type_annotation": "UserLike",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "requested_user",
                  "type_annotation": "UserLike",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "None",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 50,
              "line_end": 61,
              "complexity": 1,
              "local_variables": [],
              "calls": [
                "self.connection.transaction",
                "queries.subscribe_user_to_another"
              ]
            },
            {
              "name": "remove_user_from_followers",
              "qualified_name": "app.db.repositories.profiles.ProfilesRepository.remove_user_from_followers",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "target_user",
                  "type_annotation": "UserLike",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "requested_user",
                  "type_annotation": "UserLike",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "None",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 63,
              "line_end": 74,
              "complexity": 1,
              "local_variables": [],
              "calls": [
                "self.connection.transaction",
                "queries.unsubscribe_user_from_another"
              ]
            }
          ],
          "attributes": [],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 14,
          "line_end": 74
        }
      ],
      "functions": [],
      "global_variables": [
        {
          "name": "UserLike",
          "type_annotation": null,
          "default_value": "Union[User, Profile]",
          "is_class_var": false,
          "line_number": 11
        }
      ],
      "routers": [],
      "endpoints": [],
      "line_count": 75,
      "blank_lines": 12,
      "comment_lines": 0,
      "code_lines": 63,
      "file_hash": "15d5fc4561d7acccb7b6d2b63e07617d"
    },
    {
      "file_path": "app/db/repositories/tags.py",
      "module_name": "app.db.repositories.tags",
      "package": "app.db.repositories",
      "docstring": null,
      "imports": [
        {
          "module": "typing",
          "names": [
            "List",
            "Sequence"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "app.db.queries.queries",
          "names": [
            "queries"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "app.db.repositories.base",
          "names": [
            "BaseRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        }
      ],
      "classes": [
        {
          "name": "TagsRepository",
          "qualified_name": "app.db.repositories.tags.TagsRepository",
          "bases": [
            "BaseRepository"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [
            {
              "name": "get_all_tags",
              "qualified_name": "app.db.repositories.tags.TagsRepository.get_all_tags",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "List[str]",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 8,
              "line_end": 10,
              "complexity": 2,
              "local_variables": [
                "tags_row"
              ],
              "calls": [
                "queries.get_all_tags"
              ]
            },
            {
              "name": "create_tags_that_dont_exist",
              "qualified_name": "app.db.repositories.tags.TagsRepository.create_tags_that_dont_exist",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "tags",
                  "type_annotation": "Sequence[str]",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "None",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 12,
              "line_end": 13,
              "complexity": 2,
              "local_variables": [],
              "calls": [
                "queries.create_new_tags"
              ]
            }
          ],
          "attributes": [],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 7,
          "line_end": 13
        }
      ],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 14,
      "blank_lines": 5,
      "comment_lines": 0,
      "code_lines": 9,
      "file_hash": "b0f455f288c03a81bf4e413a6ae80212"
    },
    {
      "file_path": "app/db/repositories/users.py",
      "module_name": "app.db.repositories.users",
      "package": "app.db.repositories",
      "docstring": null,
      "imports": [
        {
          "module": "typing",
          "names": [
            "Optional"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "app.db.errors",
          "names": [
            "EntityDoesNotExist"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "app.db.queries.queries",
          "names": [
            "queries"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "app.db.repositories.base",
          "names": [
            "BaseRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "User",
            "UserInDB"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        }
      ],
      "classes": [
        {
          "name": "UsersRepository",
          "qualified_name": "app.db.repositories.users.UsersRepository",
          "bases": [
            "BaseRepository"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [
            {
              "name": "get_user_by_email",
              "qualified_name": "app.db.repositories.users.UsersRepository.get_user_by_email",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "email",
                  "type_annotation": "str",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "UserInDB",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 10,
              "line_end": 15,
              "complexity": 2,
              "local_variables": [
                "user_row"
              ],
              "calls": [
                "queries.get_user_by_email",
                "UserInDB",
                "EntityDoesNotExist",
                "format"
              ]
            },
            {
              "name": "get_user_by_username",
              "qualified_name": "app.db.repositories.users.UsersRepository.get_user_by_username",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "username",
                  "type_annotation": "str",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "UserInDB",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 17,
              "line_end": 27,
              "complexity": 2,
              "local_variables": [
                "user_row"
              ],
              "calls": [
                "queries.get_user_by_username",
                "UserInDB",
                "EntityDoesNotExist",
                "format"
              ]
            },
            {
              "name": "create_user",
              "qualified_name": "app.db.repositories.users.UsersRepository.create_user",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "username",
                  "type_annotation": "str",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "email",
                  "type_annotation": "str",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "password",
                  "type_annotation": "str",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "UserInDB",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 29,
              "line_end": 48,
              "complexity": 1,
              "local_variables": [
                "user_row",
                "user"
              ],
              "calls": [
                "UserInDB",
                "user.change_password",
                "self.connection.transaction",
                "queries.create_new_user",
                "user.copy",
                "dict"
              ]
            },
            {
              "name": "update_user",
              "qualified_name": "app.db.repositories.users.UsersRepository.update_user",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "user",
                  "type_annotation": "User",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "username",
                  "type_annotation": "Optional[str]",
                  "default_value": "None",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "email",
                  "type_annotation": "Optional[str]",
                  "default_value": "None",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "password",
                  "type_annotation": "Optional[str]",
                  "default_value": "None",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "bio",
                  "type_annotation": "Optional[str]",
                  "default_value": "None",
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "image",
                  "type_annotation": "Optional[str]",
                  "default_value": "None",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "UserInDB",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 50,
              "line_end": 81,
              "complexity": 6,
              "local_variables": [
                "user_in_db"
              ],
              "calls": [
                "self.get_user_by_username",
                "user_in_db.change_password",
                "self.connection.transaction",
                "queries.update_user_by_username"
              ]
            }
          ],
          "attributes": [],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 9,
          "line_end": 81
        }
      ],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 82,
      "blank_lines": 14,
      "comment_lines": 0,
      "code_lines": 68,
      "file_hash": "ead05864b7237086f7997ee4740eba8b"
    },
    {
      "file_path": "app/main.py",
      "module_name": "app.main",
      "package": "app",
      "docstring": null,
      "imports": [
        {
          "module": "fastapi",
          "names": [
            "FastAPI"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "fastapi.exceptions",
          "names": [
            "RequestValidationError"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        },
        {
          "module": "starlette.exceptions",
          "names": [
            "HTTPException"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "starlette.middleware.cors",
          "names": [
            "CORSMiddleware"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "app.api.errors.http_error",
          "names": [
            "http_error_handler"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        },
        {
          "module": "app.api.errors.validation_error",
          "names": [
            "http422_error_handler"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        },
        {
          "module": "app.api.routes.api",
          "names": [
            "router"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 8
        },
        {
          "module": "app.core.config",
          "names": [
            "get_app_settings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 9
        },
        {
          "module": "app.core.events",
          "names": [
            "create_start_app_handler",
            "create_stop_app_handler"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 10
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "get_application",
          "qualified_name": "app.main.get_application",
          "parameters": [],
          "return_type": "FastAPI",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 13,
          "line_end": 42,
          "complexity": 1,
          "local_variables": [
            "settings",
            "application"
          ],
          "calls": [
            "get_app_settings",
            "settings.configure_logging",
            "FastAPI",
            "application.add_middleware",
            "application.add_event_handler",
            "create_start_app_handler",
            "application.add_event_handler",
            "create_stop_app_handler",
            "application.add_exception_handler",
            "application.add_exception_handler",
            "application.include_router"
          ]
        }
      ],
      "global_variables": [
        {
          "name": "app",
          "type_annotation": null,
          "default_value": "get_application()",
          "is_class_var": false,
          "line_number": 45
        }
      ],
      "routers": [
        {
          "variable_name": "application",
          "prefix": null,
          "tags": [],
          "included_routers": [
            {
              "router": "api_router",
              "prefix": "settings.api_prefix",
              "tags": []
            }
          ],
          "endpoints": []
        }
      ],
      "endpoints": [],
      "line_count": 46,
      "blank_lines": 13,
      "comment_lines": 0,
      "code_lines": 33,
      "file_hash": "b16064c55b7e0a9842162e9258b65277"
    },
    {
      "file_path": "app/models/__init__.py",
      "module_name": "app.models.__init__",
      "package": "app.models",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 1,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 0,
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e"
    },
    {
      "file_path": "app/models/common.py",
      "module_name": "app.models.common",
      "package": "app.models",
      "docstring": null,
      "imports": [
        {
          "module": "datetime",
          "names": [
            "datetime"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 1
        },
        {
          "module": "pydantic",
          "names": [
            "BaseModel",
            "Field",
            "validator"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        }
      ],
      "classes": [
        {
          "name": "DateTimeModelMixin",
          "qualified_name": "app.models.common.DateTimeModelMixin",
          "bases": [
            "BaseModel"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [
            {
              "name": "default_datetime",
              "qualified_name": "app.models.common.DateTimeModelMixin.default_datetime",
              "parameters": [
                {
                  "name": "cls",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "value",
                  "type_annotation": "datetime.datetime",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "datetime.datetime",
              "decorators": [
                {
                  "name": "validator",
                  "arguments": [
                    "created_at",
                    "updated_at"
                  ],
                  "keyword_arguments": {
                    "pre": "True"
                  },
                  "line_number": 10
                }
              ],
              "docstring": null,
              "is_async": false,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 11,
              "line_end": 15,
              "complexity": 2,
              "local_variables": [],
              "calls": [
                "datetime.datetime.now",
                "validator"
              ]
            }
          ],
          "attributes": [
            {
              "name": "created_at",
              "type_annotation": "datetime.datetime",
              "default_value": "None",
              "is_class_var": false,
              "line_number": 7
            },
            {
              "name": "updated_at",
              "type_annotation": "datetime.datetime",
              "default_value": "None",
              "is_class_var": false,
              "line_number": 8
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 6,
          "line_end": 15
        },
        {
          "name": "IDModelMixin",
          "qualified_name": "app.models.common.IDModelMixin",
          "bases": [
            "BaseModel"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "id_",
              "type_annotation": "int",
              "default_value": "Field(0)",
              "is_class_var": false,
              "line_number": 19
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 18,
          "line_end": 19
        }
      ],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 20,
      "blank_lines": 7,
      "comment_lines": 0,
      "code_lines": 13,
      "file_hash": "c5a89d5ebd111c9ca6dd589ec979be5f"
    },
    {
      "file_path": "app/models/domain/__init__.py",
      "module_name": "app.models.domain.__init__",
      "package": "app.models.domain",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 1,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 0,
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e"
    },
    {
      "file_path": "app/models/domain/articles.py",
      "module_name": "app.models.domain.articles",
      "package": "app.models.domain",
      "docstring": null,
      "imports": [
        {
          "module": "typing",
          "names": [
            "List"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "app.models.common",
          "names": [
            "DateTimeModelMixin",
            "IDModelMixin"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "app.models.domain.profiles",
          "names": [
            "Profile"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "app.models.domain.rwmodel",
          "names": [
            "RWModel"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        }
      ],
      "classes": [
        {
          "name": "Article",
          "qualified_name": "app.models.domain.articles.Article",
          "bases": [
            "IDModelMixin",
            "DateTimeModelMixin",
            "RWModel"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "slug",
              "type_annotation": "str",
              "default_value": null,
              "is_class_var": false,
              "line_number": 9
            },
            {
              "name": "title",
              "type_annotation": "str",
              "default_value": null,
              "is_class_var": false,
              "line_number": 10
            },
            {
              "name": "description",
              "type_annotation": "str",
              "default_value": null,
              "is_class_var": false,
              "line_number": 11
            },
            {
              "name": "body",
              "type_annotation": "str",
              "default_value": null,
              "is_class_var": false,
              "line_number": 12
            },
            {
              "name": "tags",
              "type_annotation": "List[str]",
              "default_value": null,
              "is_class_var": false,
              "line_number": 13
            },
            {
              "name": "author",
              "type_annotation": "Profile",
              "default_value": null,
              "is_class_var": false,
              "line_number": 14
            },
            {
              "name": "favorited",
              "type_annotation": "bool",
              "default_value": null,
              "is_class_var": false,
              "line_number": 15
            },
            {
              "name": "favorites_count",
              "type_annotation": "int",
              "default_value": null,
              "is_class_var": false,
              "line_number": 16
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 8,
          "line_end": 16
        }
      ],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 17,
      "blank_lines": 4,
      "comment_lines": 0,
      "code_lines": 13,
      "file_hash": "d34ba0212dd876bba7f04a23c9f78fe5"
    },
    {
      "file_path": "app/models/domain/comments.py",
      "module_name": "app.models.domain.comments",
      "package": "app.models.domain",
      "docstring": null,
      "imports": [
        {
          "module": "app.models.common",
          "names": [
            "DateTimeModelMixin",
            "IDModelMixin"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "app.models.domain.profiles",
          "names": [
            "Profile"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        },
        {
          "module": "app.models.domain.rwmodel",
          "names": [
            "RWModel"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        }
      ],
      "classes": [
        {
          "name": "Comment",
          "qualified_name": "app.models.domain.comments.Comment",
          "bases": [
            "IDModelMixin",
            "DateTimeModelMixin",
            "RWModel"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "body",
              "type_annotation": "str",
              "default_value": null,
              "is_class_var": false,
              "line_number": 7
            },
            {
              "name": "author",
              "type_annotation": "Profile",
              "default_value": null,
              "is_class_var": false,
              "line_number": 8
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 6,
          "line_end": 8
        }
      ],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 9,
      "blank_lines": 3,
      "comment_lines": 0,
      "code_lines": 6,
      "file_hash": "4d62600c9352f06eb8d0ee18c58511ef"
    },
    {
      "file_path": "app/models/domain/profiles.py",
      "module_name": "app.models.domain.profiles",
      "package": "app.models.domain",
      "docstring": null,
      "imports": [
        {
          "module": "typing",
          "names": [
            "Optional"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "app.models.domain.rwmodel",
          "names": [
            "RWModel"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        }
      ],
      "classes": [
        {
          "name": "Profile",
          "qualified_name": "app.models.domain.profiles.Profile",
          "bases": [
            "RWModel"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "username",
              "type_annotation": "str",
              "default_value": null,
              "is_class_var": false,
              "line_number": 7
            },
            {
              "name": "bio",
              "type_annotation": "str",
              "default_value": "",
              "is_class_var": false,
              "line_number": 8
            },
            {
              "name": "image",
              "type_annotation": "Optional[str]",
              "default_value": "None",
              "is_class_var": false,
              "line_number": 9
            },
            {
              "name": "following",
              "type_annotation": "bool",
              "default_value": "False",
              "is_class_var": false,
              "line_number": 10
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 6,
          "line_end": 10
        }
      ],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 11,
      "blank_lines": 4,
      "comment_lines": 0,
      "code_lines": 7,
      "file_hash": "0e2a2e94c20b8b0f7c0de980d08287c0"
    },
    {
      "file_path": "app/models/domain/rwmodel.py",
      "module_name": "app.models.domain.rwmodel",
      "package": "app.models.domain",
      "docstring": null,
      "imports": [
        {
          "module": "datetime",
          "names": [
            "datetime"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 1
        },
        {
          "module": "pydantic",
          "names": [
            "BaseConfig",
            "BaseModel"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        }
      ],
      "classes": [
        {
          "name": "RWModel",
          "qualified_name": "app.models.domain.rwmodel.RWModel",
          "bases": [
            "BaseModel"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [],
          "inner_classes": [
            {
              "name": "Config",
              "qualified_name": "app.models.domain.rwmodel.RWModel.Config",
              "bases": [
                "BaseConfig"
              ],
              "decorators": [],
              "docstring": null,
              "methods": [],
              "attributes": [
                {
                  "name": "allow_population_by_field_name",
                  "type_annotation": null,
                  "default_value": "True",
                  "is_class_var": false,
                  "line_number": 19
                },
                {
                  "name": "json_encoders",
                  "type_annotation": null,
                  "default_value": "{datetime.datetime: convert_datetime_to_realworld}",
                  "is_class_var": false,
                  "line_number": 20
                },
                {
                  "name": "alias_generator",
                  "type_annotation": null,
                  "default_value": "convert_field_to_camel_case",
                  "is_class_var": false,
                  "line_number": 21
                }
              ],
              "inner_classes": [],
              "is_dataclass": false,
              "is_pydantic_model": false,
              "line_start": 18,
              "line_end": 21
            }
          ],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 17,
          "line_end": 21
        }
      ],
      "functions": [
        {
          "name": "convert_datetime_to_realworld",
          "qualified_name": "app.models.domain.rwmodel.convert_datetime_to_realworld",
          "parameters": [
            {
              "name": "dt",
              "type_annotation": "datetime.datetime",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "str",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 6,
          "line_end": 7,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "replace",
            "isoformat",
            "dt.replace"
          ]
        },
        {
          "name": "convert_field_to_camel_case",
          "qualified_name": "app.models.domain.rwmodel.convert_field_to_camel_case",
          "parameters": [
            {
              "name": "string",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "str",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 10,
          "line_end": 14,
          "complexity": 3,
          "local_variables": [],
          "calls": [
            "join",
            "word.capitalize",
            "enumerate",
            "string.split"
          ]
        }
      ],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 22,
      "blank_lines": 8,
      "comment_lines": 0,
      "code_lines": 14,
      "file_hash": "d0ba17d5370e6568ccd419c29d584185"
    },
    {
      "file_path": "app/models/domain/users.py",
      "module_name": "app.models.domain.users",
      "package": "app.models.domain",
      "docstring": null,
      "imports": [
        {
          "module": "typing",
          "names": [
            "Optional"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "app.models.common",
          "names": [
            "DateTimeModelMixin",
            "IDModelMixin"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "app.models.domain.rwmodel",
          "names": [
            "RWModel"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "app.services",
          "names": [
            "security"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        }
      ],
      "classes": [
        {
          "name": "User",
          "qualified_name": "app.models.domain.users.User",
          "bases": [
            "RWModel"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "username",
              "type_annotation": "str",
              "default_value": null,
              "is_class_var": false,
              "line_number": 9
            },
            {
              "name": "email",
              "type_annotation": "str",
              "default_value": null,
              "is_class_var": false,
              "line_number": 10
            },
            {
              "name": "bio",
              "type_annotation": "str",
              "default_value": "",
              "is_class_var": false,
              "line_number": 11
            },
            {
              "name": "image",
              "type_annotation": "Optional[str]",
              "default_value": "None",
              "is_class_var": false,
              "line_number": 12
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 8,
          "line_end": 12
        },
        {
          "name": "UserInDB",
          "qualified_name": "app.models.domain.users.UserInDB",
          "bases": [
            "IDModelMixin",
            "DateTimeModelMixin",
            "User"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [
            {
              "name": "check_password",
              "qualified_name": "app.models.domain.users.UserInDB.check_password",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "password",
                  "type_annotation": "str",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "bool",
              "decorators": [],
              "docstring": null,
              "is_async": false,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 19,
              "line_end": 20,
              "complexity": 1,
              "local_variables": [],
              "calls": [
                "security.verify_password"
              ]
            },
            {
              "name": "change_password",
              "qualified_name": "app.models.domain.users.UserInDB.change_password",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "password",
                  "type_annotation": "str",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "None",
              "decorators": [],
              "docstring": null,
              "is_async": false,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 22,
              "line_end": 24,
              "complexity": 1,
              "local_variables": [],
              "calls": [
                "security.generate_salt",
                "security.get_password_hash"
              ]
            }
          ],
          "attributes": [
            {
              "name": "salt",
              "type_annotation": "str",
              "default_value": "",
              "is_class_var": false,
              "line_number": 16
            },
            {
              "name": "hashed_password",
              "type_annotation": "str",
              "default_value": "",
              "is_class_var": false,
              "line_number": 17
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 15,
          "line_end": 24
        }
      ],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 25,
      "blank_lines": 8,
      "comment_lines": 0,
      "code_lines": 17,
      "file_hash": "a1818497b3ec234714cfeb87f4f82b18"
    },
    {
      "file_path": "app/models/schemas/__init__.py",
      "module_name": "app.models.schemas.__init__",
      "package": "app.models.schemas",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 1,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 0,
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e"
    },
    {
      "file_path": "app/models/schemas/articles.py",
      "module_name": "app.models.schemas.articles",
      "package": "app.models.schemas",
      "docstring": null,
      "imports": [
        {
          "module": "typing",
          "names": [
            "List",
            "Optional"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "pydantic",
          "names": [
            "BaseModel",
            "Field"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "app.models.domain.articles",
          "names": [
            "Article"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        },
        {
          "module": "app.models.schemas.rwschema",
          "names": [
            "RWSchema"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        }
      ],
      "classes": [
        {
          "name": "ArticleForResponse",
          "qualified_name": "app.models.schemas.articles.ArticleForResponse",
          "bases": [
            "RWSchema",
            "Article"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "tags",
              "type_annotation": "List[str]",
              "default_value": "Field(Ellipsis)",
              "is_class_var": false,
              "line_number": 13
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 12,
          "line_end": 13
        },
        {
          "name": "ArticleInResponse",
          "qualified_name": "app.models.schemas.articles.ArticleInResponse",
          "bases": [
            "RWSchema"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "article",
              "type_annotation": "ArticleForResponse",
              "default_value": null,
              "is_class_var": false,
              "line_number": 17
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 16,
          "line_end": 17
        },
        {
          "name": "ArticleInCreate",
          "qualified_name": "app.models.schemas.articles.ArticleInCreate",
          "bases": [
            "RWSchema"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "title",
              "type_annotation": "str",
              "default_value": null,
              "is_class_var": false,
              "line_number": 21
            },
            {
              "name": "description",
              "type_annotation": "str",
              "default_value": null,
              "is_class_var": false,
              "line_number": 22
            },
            {
              "name": "body",
              "type_annotation": "str",
              "default_value": null,
              "is_class_var": false,
              "line_number": 23
            },
            {
              "name": "tags",
              "type_annotation": "List[str]",
              "default_value": "Field([])",
              "is_class_var": false,
              "line_number": 24
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 20,
          "line_end": 24
        },
        {
          "name": "ArticleInUpdate",
          "qualified_name": "app.models.schemas.articles.ArticleInUpdate",
          "bases": [
            "RWSchema"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "title",
              "type_annotation": "Optional[str]",
              "default_value": "None",
              "is_class_var": false,
              "line_number": 28
            },
            {
              "name": "description",
              "type_annotation": "Optional[str]",
              "default_value": "None",
              "is_class_var": false,
              "line_number": 29
            },
            {
              "name": "body",
              "type_annotation": "Optional[str]",
              "default_value": "None",
              "is_class_var": false,
              "line_number": 30
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 27,
          "line_end": 30
        },
        {
          "name": "ListOfArticlesInResponse",
          "qualified_name": "app.models.schemas.articles.ListOfArticlesInResponse",
          "bases": [
            "RWSchema"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "articles",
              "type_annotation": "List[ArticleForResponse]",
              "default_value": null,
              "is_class_var": false,
              "line_number": 34
            },
            {
              "name": "articles_count",
              "type_annotation": "int",
              "default_value": null,
              "is_class_var": false,
              "line_number": 35
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 33,
          "line_end": 35
        },
        {
          "name": "ArticlesFilters",
          "qualified_name": "app.models.schemas.articles.ArticlesFilters",
          "bases": [
            "BaseModel"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "tag",
              "type_annotation": "Optional[str]",
              "default_value": "None",
              "is_class_var": false,
              "line_number": 39
            },
            {
              "name": "author",
              "type_annotation": "Optional[str]",
              "default_value": "None",
              "is_class_var": false,
              "line_number": 40
            },
            {
              "name": "favorited",
              "type_annotation": "Optional[str]",
              "default_value": "None",
              "is_class_var": false,
              "line_number": 41
            },
            {
              "name": "limit",
              "type_annotation": "int",
              "default_value": "Field(DEFAULT_ARTICLES_LIMIT)",
              "is_class_var": false,
              "line_number": 42
            },
            {
              "name": "offset",
              "type_annotation": "int",
              "default_value": "Field(DEFAULT_ARTICLES_OFFSET)",
              "is_class_var": false,
              "line_number": 43
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 38,
          "line_end": 43
        }
      ],
      "functions": [],
      "global_variables": [
        {
          "name": "DEFAULT_ARTICLES_LIMIT",
          "type_annotation": null,
          "default_value": "20",
          "is_class_var": false,
          "line_number": 8
        },
        {
          "name": "DEFAULT_ARTICLES_OFFSET",
          "type_annotation": null,
          "default_value": "0",
          "is_class_var": false,
          "line_number": 9
        }
      ],
      "routers": [],
      "endpoints": [],
      "line_count": 44,
      "blank_lines": 16,
      "comment_lines": 0,
      "code_lines": 28,
      "file_hash": "bd32754817dc99f0902fc06b00b2afe5"
    },
    {
      "file_path": "app/models/schemas/comments.py",
      "module_name": "app.models.schemas.comments",
      "package": "app.models.schemas",
      "docstring": null,
      "imports": [
        {
          "module": "typing",
          "names": [
            "List"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "app.models.domain.comments",
          "names": [
            "Comment"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "app.models.schemas.rwschema",
          "names": [
            "RWSchema"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        }
      ],
      "classes": [
        {
          "name": "ListOfCommentsInResponse",
          "qualified_name": "app.models.schemas.comments.ListOfCommentsInResponse",
          "bases": [
            "RWSchema"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "comments",
              "type_annotation": "List[Comment]",
              "default_value": null,
              "is_class_var": false,
              "line_number": 8
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 7,
          "line_end": 8
        },
        {
          "name": "CommentInResponse",
          "qualified_name": "app.models.schemas.comments.CommentInResponse",
          "bases": [
            "RWSchema"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "comment",
              "type_annotation": "Comment",
              "default_value": null,
              "is_class_var": false,
              "line_number": 12
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 11,
          "line_end": 12
        },
        {
          "name": "CommentInCreate",
          "qualified_name": "app.models.schemas.comments.CommentInCreate",
          "bases": [
            "RWSchema"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "body",
              "type_annotation": "str",
              "default_value": null,
              "is_class_var": false,
              "line_number": 16
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 15,
          "line_end": 16
        }
      ],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 17,
      "blank_lines": 8,
      "comment_lines": 0,
      "code_lines": 9,
      "file_hash": "7a5d948a00dd5a2c33c4d41067f4c588"
    },
    {
      "file_path": "app/models/schemas/jwt.py",
      "module_name": "app.models.schemas.jwt",
      "package": "app.models.schemas",
      "docstring": null,
      "imports": [
        {
          "module": "datetime",
          "names": [
            "datetime"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "pydantic",
          "names": [
            "BaseModel"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        }
      ],
      "classes": [
        {
          "name": "JWTMeta",
          "qualified_name": "app.models.schemas.jwt.JWTMeta",
          "bases": [
            "BaseModel"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "exp",
              "type_annotation": "datetime",
              "default_value": null,
              "is_class_var": false,
              "line_number": 7
            },
            {
              "name": "sub",
              "type_annotation": "str",
              "default_value": null,
              "is_class_var": false,
              "line_number": 8
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 6,
          "line_end": 8
        },
        {
          "name": "JWTUser",
          "qualified_name": "app.models.schemas.jwt.JWTUser",
          "bases": [
            "BaseModel"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "username",
              "type_annotation": "str",
              "default_value": null,
              "is_class_var": false,
              "line_number": 12
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 11,
          "line_end": 12
        }
      ],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 13,
      "blank_lines": 6,
      "comment_lines": 0,
      "code_lines": 7,
      "file_hash": "2bc435edaac7cfd82e6ef6b15819e9b6"
    },
    {
      "file_path": "app/models/schemas/profiles.py",
      "module_name": "app.models.schemas.profiles",
      "package": "app.models.schemas",
      "docstring": null,
      "imports": [
        {
          "module": "pydantic",
          "names": [
            "BaseModel"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "app.models.domain.profiles",
          "names": [
            "Profile"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        }
      ],
      "classes": [
        {
          "name": "ProfileInResponse",
          "qualified_name": "app.models.schemas.profiles.ProfileInResponse",
          "bases": [
            "BaseModel"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "profile",
              "type_annotation": "Profile",
              "default_value": null,
              "is_class_var": false,
              "line_number": 7
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 6,
          "line_end": 7
        }
      ],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 8,
      "blank_lines": 4,
      "comment_lines": 0,
      "code_lines": 4,
      "file_hash": "20e824577a9ba47cd6235d8f7a11e4e6"
    },
    {
      "file_path": "app/models/schemas/rwschema.py",
      "module_name": "app.models.schemas.rwschema",
      "package": "app.models.schemas",
      "docstring": null,
      "imports": [
        {
          "module": "app.models.domain.rwmodel",
          "names": [
            "RWModel"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        }
      ],
      "classes": [
        {
          "name": "RWSchema",
          "qualified_name": "app.models.schemas.rwschema.RWSchema",
          "bases": [
            "RWModel"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [],
          "inner_classes": [
            {
              "name": "Config",
              "qualified_name": "app.models.schemas.rwschema.RWSchema.Config",
              "bases": [
                "RWModel.Config"
              ],
              "decorators": [],
              "docstring": null,
              "methods": [],
              "attributes": [
                {
                  "name": "orm_mode",
                  "type_annotation": null,
                  "default_value": "True",
                  "is_class_var": false,
                  "line_number": 6
                }
              ],
              "inner_classes": [],
              "is_dataclass": false,
              "is_pydantic_model": false,
              "line_start": 5,
              "line_end": 6
            }
          ],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 4,
          "line_end": 6
        }
      ],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 7,
      "blank_lines": 3,
      "comment_lines": 0,
      "code_lines": 4,
      "file_hash": "ceada038b9aae2b27845ddd44c55f23d"
    },
    {
      "file_path": "app/models/schemas/tags.py",
      "module_name": "app.models.schemas.tags",
      "package": "app.models.schemas",
      "docstring": null,
      "imports": [
        {
          "module": "typing",
          "names": [
            "List"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "pydantic",
          "names": [
            "BaseModel"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        }
      ],
      "classes": [
        {
          "name": "TagsInList",
          "qualified_name": "app.models.schemas.tags.TagsInList",
          "bases": [
            "BaseModel"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "tags",
              "type_annotation": "List[str]",
              "default_value": null,
              "is_class_var": false,
              "line_number": 7
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 6,
          "line_end": 7
        }
      ],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 8,
      "blank_lines": 4,
      "comment_lines": 0,
      "code_lines": 4,
      "file_hash": "97e1f89cdb4e8b389bcf870d08d1f5f8"
    },
    {
      "file_path": "app/models/schemas/users.py",
      "module_name": "app.models.schemas.users",
      "package": "app.models.schemas",
      "docstring": null,
      "imports": [
        {
          "module": "typing",
          "names": [
            "Optional"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "pydantic",
          "names": [
            "BaseModel",
            "EmailStr",
            "HttpUrl"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "User"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        },
        {
          "module": "app.models.schemas.rwschema",
          "names": [
            "RWSchema"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        }
      ],
      "classes": [
        {
          "name": "UserInLogin",
          "qualified_name": "app.models.schemas.users.UserInLogin",
          "bases": [
            "RWSchema"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "email",
              "type_annotation": "EmailStr",
              "default_value": null,
              "is_class_var": false,
              "line_number": 10
            },
            {
              "name": "password",
              "type_annotation": "str",
              "default_value": null,
              "is_class_var": false,
              "line_number": 11
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 9,
          "line_end": 11
        },
        {
          "name": "UserInCreate",
          "qualified_name": "app.models.schemas.users.UserInCreate",
          "bases": [
            "UserInLogin"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "username",
              "type_annotation": "str",
              "default_value": null,
              "is_class_var": false,
              "line_number": 15
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 14,
          "line_end": 15
        },
        {
          "name": "UserInUpdate",
          "qualified_name": "app.models.schemas.users.UserInUpdate",
          "bases": [
            "BaseModel"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "username",
              "type_annotation": "Optional[str]",
              "default_value": "None",
              "is_class_var": false,
              "line_number": 19
            },
            {
              "name": "email",
              "type_annotation": "Optional[EmailStr]",
              "default_value": "None",
              "is_class_var": false,
              "line_number": 20
            },
            {
              "name": "password",
              "type_annotation": "Optional[str]",
              "default_value": "None",
              "is_class_var": false,
              "line_number": 21
            },
            {
              "name": "bio",
              "type_annotation": "Optional[str]",
              "default_value": "None",
              "is_class_var": false,
              "line_number": 22
            },
            {
              "name": "image",
              "type_annotation": "Optional[HttpUrl]",
              "default_value": "None",
              "is_class_var": false,
              "line_number": 23
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 18,
          "line_end": 23
        },
        {
          "name": "UserWithToken",
          "qualified_name": "app.models.schemas.users.UserWithToken",
          "bases": [
            "User"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "token",
              "type_annotation": "str",
              "default_value": null,
              "is_class_var": false,
              "line_number": 27
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 26,
          "line_end": 27
        },
        {
          "name": "UserInResponse",
          "qualified_name": "app.models.schemas.users.UserInResponse",
          "bases": [
            "RWSchema"
          ],
          "decorators": [],
          "docstring": null,
          "methods": [],
          "attributes": [
            {
              "name": "user",
              "type_annotation": "UserWithToken",
              "default_value": null,
              "is_class_var": false,
              "line_number": 31
            }
          ],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": true,
          "line_start": 30,
          "line_end": 31
        }
      ],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 32,
      "blank_lines": 13,
      "comment_lines": 0,
      "code_lines": 19,
      "file_hash": "023326f8be7a42d6929a85e3d35990fe"
    },
    {
      "file_path": "app/resources/__init__.py",
      "module_name": "app.resources.__init__",
      "package": "app.resources",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 1,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 0,
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e"
    },
    {
      "file_path": "app/resources/strings.py",
      "module_name": "app.resources.strings",
      "package": "app.resources",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [
        {
          "name": "USER_DOES_NOT_EXIST_ERROR",
          "type_annotation": null,
          "default_value": "user does not exist",
          "is_class_var": false,
          "line_number": 3
        },
        {
          "name": "ARTICLE_DOES_NOT_EXIST_ERROR",
          "type_annotation": null,
          "default_value": "article does not exist",
          "is_class_var": false,
          "line_number": 4
        },
        {
          "name": "ARTICLE_ALREADY_EXISTS",
          "type_annotation": null,
          "default_value": "article already exists",
          "is_class_var": false,
          "line_number": 5
        },
        {
          "name": "USER_IS_NOT_AUTHOR_OF_ARTICLE",
          "type_annotation": null,
          "default_value": "you are not an author of this article",
          "is_class_var": false,
          "line_number": 6
        },
        {
          "name": "INCORRECT_LOGIN_INPUT",
          "type_annotation": null,
          "default_value": "incorrect email or password",
          "is_class_var": false,
          "line_number": 8
        },
        {
          "name": "USERNAME_TAKEN",
          "type_annotation": null,
          "default_value": "user with this username already exists",
          "is_class_var": false,
          "line_number": 9
        },
        {
          "name": "EMAIL_TAKEN",
          "type_annotation": null,
          "default_value": "user with this email already exists",
          "is_class_var": false,
          "line_number": 10
        },
        {
          "name": "UNABLE_TO_FOLLOW_YOURSELF",
          "type_annotation": null,
          "default_value": "user can not follow him self",
          "is_class_var": false,
          "line_number": 12
        },
        {
          "name": "UNABLE_TO_UNSUBSCRIBE_FROM_YOURSELF",
          "type_annotation": null,
          "default_value": "user can not unsubscribe from him self",
          "is_class_var": false,
          "line_number": 13
        },
        {
          "name": "USER_IS_NOT_FOLLOWED",
          "type_annotation": null,
          "default_value": "you don't follow this user",
          "is_class_var": false,
          "line_number": 14
        },
        {
          "name": "USER_IS_ALREADY_FOLLOWED",
          "type_annotation": null,
          "default_value": "you follow this user already",
          "is_class_var": false,
          "line_number": 15
        },
        {
          "name": "WRONG_TOKEN_PREFIX",
          "type_annotation": null,
          "default_value": "unsupported authorization type",
          "is_class_var": false,
          "line_number": 17
        },
        {
          "name": "MALFORMED_PAYLOAD",
          "type_annotation": null,
          "default_value": "could not validate credentials",
          "is_class_var": false,
          "line_number": 18
        },
        {
          "name": "ARTICLE_IS_ALREADY_FAVORITED",
          "type_annotation": null,
          "default_value": "you are already marked this articles as favorite",
          "is_class_var": false,
          "line_number": 20
        },
        {
          "name": "ARTICLE_IS_NOT_FAVORITED",
          "type_annotation": null,
          "default_value": "article is not favorited",
          "is_class_var": false,
          "line_number": 21
        },
        {
          "name": "COMMENT_DOES_NOT_EXIST",
          "type_annotation": null,
          "default_value": "comment does not exist",
          "is_class_var": false,
          "line_number": 23
        },
        {
          "name": "AUTHENTICATION_REQUIRED",
          "type_annotation": null,
          "default_value": "authentication required",
          "is_class_var": false,
          "line_number": 25
        }
      ],
      "routers": [],
      "endpoints": [],
      "line_count": 26,
      "blank_lines": 8,
      "comment_lines": 1,
      "code_lines": 17,
      "file_hash": "520d0542a649cc085e84accfb4e99cd8"
    },
    {
      "file_path": "app/services/__init__.py",
      "module_name": "app.services.__init__",
      "package": "app.services",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 1,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 0,
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e"
    },
    {
      "file_path": "app/services/articles.py",
      "module_name": "app.services.articles",
      "package": "app.services",
      "docstring": null,
      "imports": [
        {
          "module": "slugify",
          "names": [
            "slugify"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "app.db.errors",
          "names": [
            "EntityDoesNotExist"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "app.db.repositories.articles",
          "names": [
            "ArticlesRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "app.models.domain.articles",
          "names": [
            "Article"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "User"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "check_article_exists",
          "qualified_name": "app.services.articles.check_article_exists",
          "parameters": [
            {
              "name": "articles_repo",
              "type_annotation": "ArticlesRepository",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "slug",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "bool",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 9,
          "line_end": 15,
          "complexity": 2,
          "local_variables": [],
          "calls": [
            "articles_repo.get_article_by_slug"
          ]
        },
        {
          "name": "get_slug_for_article",
          "qualified_name": "app.services.articles.get_slug_for_article",
          "parameters": [
            {
              "name": "title",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "str",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 18,
          "line_end": 19,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "slugify"
          ]
        },
        {
          "name": "check_user_can_modify_article",
          "qualified_name": "app.services.articles.check_user_can_modify_article",
          "parameters": [
            {
              "name": "article",
              "type_annotation": "Article",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "User",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "bool",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 22,
          "line_end": 23,
          "complexity": 1,
          "local_variables": [],
          "calls": []
        }
      ],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 24,
      "blank_lines": 9,
      "comment_lines": 0,
      "code_lines": 15,
      "file_hash": "7f5c48b22915887ef8ecb77035811077"
    },
    {
      "file_path": "app/services/authentication.py",
      "module_name": "app.services.authentication",
      "package": "app.services",
      "docstring": null,
      "imports": [
        {
          "module": "app.db.errors",
          "names": [
            "EntityDoesNotExist"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "app.db.repositories.users",
          "names": [
            "UsersRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "check_username_is_taken",
          "qualified_name": "app.services.authentication.check_username_is_taken",
          "parameters": [
            {
              "name": "repo",
              "type_annotation": "UsersRepository",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "username",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "bool",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 5,
          "line_end": 11,
          "complexity": 2,
          "local_variables": [],
          "calls": [
            "repo.get_user_by_username"
          ]
        },
        {
          "name": "check_email_is_taken",
          "qualified_name": "app.services.authentication.check_email_is_taken",
          "parameters": [
            {
              "name": "repo",
              "type_annotation": "UsersRepository",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "email",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "bool",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 14,
          "line_end": 20,
          "complexity": 2,
          "local_variables": [],
          "calls": [
            "repo.get_user_by_email"
          ]
        }
      ],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 21,
      "blank_lines": 7,
      "comment_lines": 0,
      "code_lines": 14,
      "file_hash": "a0512b21741988d782f8053ec24026d6"
    },
    {
      "file_path": "app/services/comments.py",
      "module_name": "app.services.comments",
      "package": "app.services",
      "docstring": null,
      "imports": [
        {
          "module": "app.models.domain.comments",
          "names": [
            "Comment"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "User"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "check_user_can_modify_comment",
          "qualified_name": "app.services.comments.check_user_can_modify_comment",
          "parameters": [
            {
              "name": "comment",
              "type_annotation": "Comment",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "user",
              "type_annotation": "User",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "bool",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 5,
          "line_end": 6,
          "complexity": 1,
          "local_variables": [],
          "calls": []
        }
      ],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 7,
      "blank_lines": 3,
      "comment_lines": 0,
      "code_lines": 4,
      "file_hash": "e8f3d9ff929ceeea4f06a4721d7ab15a"
    },
    {
      "file_path": "app/services/jwt.py",
      "module_name": "app.services.jwt",
      "package": "app.services",
      "docstring": null,
      "imports": [
        {
          "module": "datetime",
          "names": [
            "datetime",
            "timedelta"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "typing",
          "names": [
            "Dict"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        },
        {
          "module": "jwt",
          "names": [
            "jwt"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 4
        },
        {
          "module": "pydantic",
          "names": [
            "ValidationError"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "User"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        },
        {
          "module": "app.models.schemas.jwt",
          "names": [
            "JWTMeta",
            "JWTUser"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 8
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "create_jwt_token",
          "qualified_name": "app.services.jwt.create_jwt_token",
          "parameters": [
            {
              "name": "jwt_content",
              "type_annotation": "Dict[str, str]",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "secret_key",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "expires_delta",
              "type_annotation": "timedelta",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "str",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 15,
          "line_end": 24,
          "complexity": 1,
          "local_variables": [
            "expire",
            "to_encode"
          ],
          "calls": [
            "jwt_content.copy",
            "datetime.utcnow",
            "to_encode.update",
            "dict",
            "JWTMeta",
            "jwt.encode"
          ]
        },
        {
          "name": "create_access_token_for_user",
          "qualified_name": "app.services.jwt.create_access_token_for_user",
          "parameters": [
            {
              "name": "user",
              "type_annotation": "User",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "secret_key",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "str",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 27,
          "line_end": 32,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "create_jwt_token",
            "dict",
            "JWTUser",
            "timedelta"
          ]
        },
        {
          "name": "get_username_from_token",
          "qualified_name": "app.services.jwt.get_username_from_token",
          "parameters": [
            {
              "name": "token",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "secret_key",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "str",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 35,
          "line_end": 41,
          "complexity": 3,
          "local_variables": [],
          "calls": [
            "JWTUser",
            "jwt.decode",
            "ValueError",
            "ValueError"
          ]
        }
      ],
      "global_variables": [
        {
          "name": "JWT_SUBJECT",
          "type_annotation": null,
          "default_value": "access",
          "is_class_var": false,
          "line_number": 10
        },
        {
          "name": "ALGORITHM",
          "type_annotation": null,
          "default_value": "HS256",
          "is_class_var": false,
          "line_number": 11
        },
        {
          "name": "ACCESS_TOKEN_EXPIRE_MINUTES",
          "type_annotation": null,
          "default_value": "60 * 24 * 7",
          "is_class_var": false,
          "line_number": 12
        }
      ],
      "routers": [],
      "endpoints": [],
      "line_count": 42,
      "blank_lines": 10,
      "comment_lines": 0,
      "code_lines": 32,
      "file_hash": "b8bc2a46b6c43d2467a0d73d9e77631b"
    },
    {
      "file_path": "app/services/security.py",
      "module_name": "app.services.security",
      "package": "app.services",
      "docstring": null,
      "imports": [
        {
          "module": "bcrypt",
          "names": [
            "bcrypt"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 1
        },
        {
          "module": "passlib.context",
          "names": [
            "CryptContext"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "generate_salt",
          "qualified_name": "app.services.security.generate_salt",
          "parameters": [],
          "return_type": "str",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 7,
          "line_end": 8,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "decode",
            "bcrypt.gensalt"
          ]
        },
        {
          "name": "verify_password",
          "qualified_name": "app.services.security.verify_password",
          "parameters": [
            {
              "name": "plain_password",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "hashed_password",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "bool",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 11,
          "line_end": 12,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "pwd_context.verify"
          ]
        },
        {
          "name": "get_password_hash",
          "qualified_name": "app.services.security.get_password_hash",
          "parameters": [
            {
              "name": "password",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "str",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 15,
          "line_end": 16,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "pwd_context.hash"
          ]
        }
      ],
      "global_variables": [
        {
          "name": "pwd_context",
          "type_annotation": null,
          "default_value": "CryptContext()",
          "is_class_var": false,
          "line_number": 4
        }
      ],
      "routers": [],
      "endpoints": [],
      "line_count": 17,
      "blank_lines": 8,
      "comment_lines": 0,
      "code_lines": 9,
      "file_hash": "fca32b2ea7dc7080216944151ceb12af"
    },
    {
      "file_path": "tests/__init__.py",
      "module_name": "tests.__init__",
      "package": "tests",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 1,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 0,
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e"
    },
    {
      "file_path": "tests/conftest.py",
      "module_name": "tests.conftest",
      "package": "tests",
      "docstring": null,
      "imports": [
        {
          "module": "os",
          "names": [
            "environ"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "pytest",
          "names": [
            "pytest"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 3
        },
        {
          "module": "asgi_lifespan",
          "names": [
            "LifespanManager"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "asyncpg.pool",
          "names": [
            "Pool"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        },
        {
          "module": "fastapi",
          "names": [
            "FastAPI"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        },
        {
          "module": "httpx",
          "names": [
            "AsyncClient"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        },
        {
          "module": "app.db.repositories.articles",
          "names": [
            "ArticlesRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 9
        },
        {
          "module": "app.db.repositories.users",
          "names": [
            "UsersRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 10
        },
        {
          "module": "app.models.domain.articles",
          "names": [
            "Article"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 11
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "UserInDB"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 12
        },
        {
          "module": "app.services",
          "names": [
            "jwt"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 13
        },
        {
          "module": "tests.fake_asyncpg_pool",
          "names": [
            "FakeAsyncPGPool"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 14
        },
        {
          "module": "app.main",
          "names": [
            "get_application"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 21
        },
        {
          "module": "app.core.config",
          "names": [
            "get_app_settings"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 50
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "app",
          "qualified_name": "tests.conftest.app",
          "parameters": [],
          "return_type": "FastAPI",
          "decorators": [
            {
              "name": "pytest.fixture",
              "arguments": [],
              "keyword_arguments": {},
              "line_number": 19
            }
          ],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 20,
          "line_end": 23,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "get_application"
          ]
        },
        {
          "name": "initialized_app",
          "qualified_name": "tests.conftest.initialized_app",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "FastAPI",
          "decorators": [
            {
              "name": "pytest.fixture",
              "arguments": [],
              "keyword_arguments": {},
              "line_number": 26
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 27,
          "line_end": 30,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "LifespanManager",
            "FakeAsyncPGPool.create_pool"
          ]
        },
        {
          "name": "pool",
          "qualified_name": "tests.conftest.pool",
          "parameters": [
            {
              "name": "initialized_app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "Pool",
          "decorators": [
            {
              "name": "pytest.fixture",
              "arguments": [],
              "keyword_arguments": {},
              "line_number": 33
            }
          ],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 34,
          "line_end": 35,
          "complexity": 1,
          "local_variables": [],
          "calls": []
        },
        {
          "name": "client",
          "qualified_name": "tests.conftest.client",
          "parameters": [
            {
              "name": "initialized_app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "AsyncClient",
          "decorators": [
            {
              "name": "pytest.fixture",
              "arguments": [],
              "keyword_arguments": {},
              "line_number": 38
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 39,
          "line_end": 45,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "AsyncClient"
          ]
        },
        {
          "name": "authorization_prefix",
          "qualified_name": "tests.conftest.authorization_prefix",
          "parameters": [],
          "return_type": "str",
          "decorators": [
            {
              "name": "pytest.fixture",
              "arguments": [],
              "keyword_arguments": {},
              "line_number": 48
            }
          ],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 49,
          "line_end": 55,
          "complexity": 1,
          "local_variables": [
            "jwt_token_prefix",
            "settings"
          ],
          "calls": [
            "get_app_settings"
          ]
        },
        {
          "name": "test_user",
          "qualified_name": "tests.conftest.test_user",
          "parameters": [
            {
              "name": "pool",
              "type_annotation": "Pool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "UserInDB",
          "decorators": [
            {
              "name": "pytest.fixture",
              "arguments": [],
              "keyword_arguments": {},
              "line_number": 58
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 59,
          "line_end": 63,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "pool.acquire",
            "create_user",
            "UsersRepository"
          ]
        },
        {
          "name": "test_article",
          "qualified_name": "tests.conftest.test_article",
          "parameters": [
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "pool",
              "type_annotation": "Pool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "Article",
          "decorators": [
            {
              "name": "pytest.fixture",
              "arguments": [],
              "keyword_arguments": {},
              "line_number": 66
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 67,
          "line_end": 77,
          "complexity": 1,
          "local_variables": [
            "articles_repo"
          ],
          "calls": [
            "pool.acquire",
            "ArticlesRepository",
            "articles_repo.create_article"
          ]
        },
        {
          "name": "token",
          "qualified_name": "tests.conftest.token",
          "parameters": [
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "str",
          "decorators": [
            {
              "name": "pytest.fixture",
              "arguments": [],
              "keyword_arguments": {},
              "line_number": 80
            }
          ],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 81,
          "line_end": 82,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "jwt.create_access_token_for_user"
          ]
        },
        {
          "name": "authorized_client",
          "qualified_name": "tests.conftest.authorized_client",
          "parameters": [
            {
              "name": "client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "token",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorization_prefix",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "AsyncClient",
          "decorators": [
            {
              "name": "pytest.fixture",
              "arguments": [],
              "keyword_arguments": {},
              "line_number": 85
            }
          ],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 86,
          "line_end": 93,
          "complexity": 1,
          "local_variables": [],
          "calls": []
        }
      ],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 94,
      "blank_lines": 25,
      "comment_lines": 0,
      "code_lines": 69,
      "file_hash": "565fa3212bf4bf251d68b0f1c77f6412"
    },
    {
      "file_path": "tests/fake_asyncpg_pool.py",
      "module_name": "tests.fake_asyncpg_pool",
      "package": "tests",
      "docstring": null,
      "imports": [
        {
          "module": "types",
          "names": [
            "TracebackType"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "typing",
          "names": [
            "Optional",
            "Type"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        },
        {
          "module": "asyncpg",
          "names": [
            "Connection"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "asyncpg.pool",
          "names": [
            "Pool"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        }
      ],
      "classes": [
        {
          "name": "FakeAsyncPGPool",
          "qualified_name": "tests.fake_asyncpg_pool.FakeAsyncPGPool",
          "bases": [],
          "decorators": [],
          "docstring": null,
          "methods": [
            {
              "name": "__init__",
              "qualified_name": "tests.fake_asyncpg_pool.FakeAsyncPGPool.__init__",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "pool",
                  "type_annotation": "Pool",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "None",
              "decorators": [],
              "docstring": null,
              "is_async": false,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 9,
              "line_end": 12,
              "complexity": 1,
              "local_variables": [],
              "calls": []
            },
            {
              "name": "create_pool",
              "qualified_name": "tests.fake_asyncpg_pool.FakeAsyncPGPool.create_pool",
              "parameters": [
                {
                  "name": "cls",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "pool",
                  "type_annotation": "Pool",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "'FakeAsyncPGPool'",
              "decorators": [
                {
                  "name": "classmethod",
                  "arguments": [],
                  "keyword_arguments": {},
                  "line_number": 14
                }
              ],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": true,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 15,
              "line_end": 22,
              "complexity": 1,
              "local_variables": [
                "pool",
                "tx",
                "conn"
              ],
              "calls": [
                "cls",
                "pool._pool.acquire",
                "conn.transaction",
                "tx.start"
              ]
            },
            {
              "name": "close",
              "qualified_name": "tests.fake_asyncpg_pool.FakeAsyncPGPool.close",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "None",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 24,
              "line_end": 27,
              "complexity": 1,
              "local_variables": [],
              "calls": [
                "self._tx.rollback",
                "self._pool.release",
                "self._pool.close"
              ]
            },
            {
              "name": "acquire",
              "qualified_name": "tests.fake_asyncpg_pool.FakeAsyncPGPool.acquire",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "timeout",
                  "type_annotation": "Optional[float]",
                  "default_value": "None",
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "'FakePoolAcquireContent'",
              "decorators": [],
              "docstring": null,
              "is_async": false,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 29,
              "line_end": 30,
              "complexity": 1,
              "local_variables": [],
              "calls": [
                "FakePoolAcquireContent"
              ]
            }
          ],
          "attributes": [],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 8,
          "line_end": 30
        },
        {
          "name": "FakePoolAcquireContent",
          "qualified_name": "tests.fake_asyncpg_pool.FakePoolAcquireContent",
          "bases": [],
          "decorators": [],
          "docstring": null,
          "methods": [
            {
              "name": "__init__",
              "qualified_name": "tests.fake_asyncpg_pool.FakePoolAcquireContent.__init__",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "pool",
                  "type_annotation": "FakeAsyncPGPool",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "None",
              "decorators": [],
              "docstring": null,
              "is_async": false,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 34,
              "line_end": 35,
              "complexity": 1,
              "local_variables": [],
              "calls": []
            },
            {
              "name": "__aenter__",
              "qualified_name": "tests.fake_asyncpg_pool.FakePoolAcquireContent.__aenter__",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "Connection",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 37,
              "line_end": 38,
              "complexity": 1,
              "local_variables": [],
              "calls": []
            },
            {
              "name": "__aexit__",
              "qualified_name": "tests.fake_asyncpg_pool.FakePoolAcquireContent.__aexit__",
              "parameters": [
                {
                  "name": "self",
                  "type_annotation": null,
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "exc_type",
                  "type_annotation": "Optional[Type[Exception]]",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "exc",
                  "type_annotation": "Optional[Exception]",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                },
                {
                  "name": "tb",
                  "type_annotation": "Optional[TracebackType]",
                  "default_value": null,
                  "is_args": false,
                  "is_kwargs": false
                }
              ],
              "return_type": "None",
              "decorators": [],
              "docstring": null,
              "is_async": true,
              "is_method": true,
              "is_classmethod": false,
              "is_staticmethod": false,
              "is_property": false,
              "line_start": 40,
              "line_end": 46,
              "complexity": 1,
              "local_variables": [],
              "calls": []
            }
          ],
          "attributes": [],
          "inner_classes": [],
          "is_dataclass": false,
          "is_pydantic_model": false,
          "line_start": 33,
          "line_end": 46
        }
      ],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 47,
      "blank_lines": 11,
      "comment_lines": 0,
      "code_lines": 36,
      "file_hash": "14385545083be701f3a01da1acc31e16"
    },
    {
      "file_path": "tests/test_api/__init__.py",
      "module_name": "tests.test_api.__init__",
      "package": "tests.test_api",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 1,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 0,
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e"
    },
    {
      "file_path": "tests/test_api/test_errors/__init__.py",
      "module_name": "tests.test_api.test_errors.__init__",
      "package": "tests.test_api.test_errors",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 1,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 0,
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e"
    },
    {
      "file_path": "tests/test_api/test_errors/test_422_error.py",
      "module_name": "tests.test_api.test_errors.test_422_error",
      "package": "tests.test_api.test_errors",
      "docstring": null,
      "imports": [
        {
          "module": "pytest",
          "names": [
            "pytest"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 1
        },
        {
          "module": "fastapi",
          "names": [
            "FastAPI"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        },
        {
          "module": "httpx",
          "names": [
            "AsyncClient"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "starlette.status",
          "names": [
            "HTTP_422_UNPROCESSABLE_ENTITY"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "test_frw_validation_error_format",
          "qualified_name": "tests.test_api.test_errors.test_422_error.test_frw_validation_error_format",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": null,
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 9,
          "line_end": 20,
          "complexity": 1,
          "local_variables": [
            "response",
            "error_data"
          ],
          "calls": [
            "app.get",
            "AsyncClient",
            "client.get",
            "response.json"
          ]
        }
      ],
      "global_variables": [
        {
          "name": "pytestmark",
          "type_annotation": null,
          "default_value": "pytest.mark.asyncio",
          "is_class_var": false,
          "line_number": 6
        }
      ],
      "routers": [],
      "endpoints": [
        {
          "path": "/wrong_path/{param}",
          "http_method": "GET",
          "function_name": "route_for_test",
          "response_model": null,
          "status_code": null,
          "tags": [],
          "dependencies": [],
          "parameters": [
            {
              "name": "param",
              "type_annotation": "int",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "docstring": null,
          "line_number": 11,
          "name": null
        }
      ],
      "line_count": 21,
      "blank_lines": 7,
      "comment_lines": 0,
      "code_lines": 14,
      "file_hash": "90bdfdac06a9086caf440493953bd9a9"
    },
    {
      "file_path": "tests/test_api/test_errors/test_error.py",
      "module_name": "tests.test_api.test_errors.test_error",
      "package": "tests.test_api.test_errors",
      "docstring": null,
      "imports": [
        {
          "module": "pytest",
          "names": [
            "pytest"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 1
        },
        {
          "module": "fastapi",
          "names": [
            "FastAPI"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        },
        {
          "module": "httpx",
          "names": [
            "AsyncClient"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "starlette.status",
          "names": [
            "HTTP_404_NOT_FOUND"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "test_frw_validation_error_format",
          "qualified_name": "tests.test_api.test_errors.test_error.test_frw_validation_error_format",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": null,
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 9,
          "line_end": 16,
          "complexity": 1,
          "local_variables": [
            "response",
            "error_data"
          ],
          "calls": [
            "AsyncClient",
            "client.get",
            "response.json"
          ]
        }
      ],
      "global_variables": [
        {
          "name": "pytestmark",
          "type_annotation": null,
          "default_value": "pytest.mark.asyncio",
          "is_class_var": false,
          "line_number": 6
        }
      ],
      "routers": [],
      "endpoints": [],
      "line_count": 17,
      "blank_lines": 6,
      "comment_lines": 0,
      "code_lines": 11,
      "file_hash": "19dbf721461af102e49bf93b0d887fb2"
    },
    {
      "file_path": "tests/test_api/test_routes/__init__.py",
      "module_name": "tests.test_api.test_routes.__init__",
      "package": "tests.test_api.test_routes",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 1,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 0,
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e"
    },
    {
      "file_path": "tests/test_api/test_routes/test_articles.py",
      "module_name": "tests.test_api.test_routes.test_articles",
      "package": "tests.test_api.test_routes",
      "docstring": null,
      "imports": [
        {
          "module": "pytest",
          "names": [
            "pytest"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 1
        },
        {
          "module": "asyncpg.pool",
          "names": [
            "Pool"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        },
        {
          "module": "fastapi",
          "names": [
            "FastAPI"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "httpx",
          "names": [
            "AsyncClient"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "starlette",
          "names": [
            "status"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        },
        {
          "module": "app.db.errors",
          "names": [
            "EntityDoesNotExist"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        },
        {
          "module": "app.db.repositories.articles",
          "names": [
            "ArticlesRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 8
        },
        {
          "module": "app.db.repositories.profiles",
          "names": [
            "ProfilesRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 9
        },
        {
          "module": "app.db.repositories.users",
          "names": [
            "UsersRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 10
        },
        {
          "module": "app.models.domain.articles",
          "names": [
            "Article"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 11
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "UserInDB"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 12
        },
        {
          "module": "app.models.schemas.articles",
          "names": [
            "ArticleInResponse",
            "ListOfArticlesInResponse"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 13
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "test_user_can_not_create_article_with_duplicated_slug",
          "qualified_name": "tests.test_api.test_routes.test_articles.test_user_can_not_create_article_with_duplicated_slug",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_article",
              "type_annotation": "Article",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 18,
          "line_end": 29,
          "complexity": 1,
          "local_variables": [
            "response",
            "article_data"
          ],
          "calls": [
            "authorized_client.post",
            "app.url_path_for"
          ]
        },
        {
          "name": "test_user_can_create_article",
          "qualified_name": "tests.test_api.test_routes.test_articles.test_user_can_create_article",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 32,
          "line_end": 45,
          "complexity": 1,
          "local_variables": [
            "response",
            "article_data",
            "article"
          ],
          "calls": [
            "authorized_client.post",
            "app.url_path_for",
            "ArticleInResponse",
            "response.json"
          ]
        },
        {
          "name": "test_not_existing_tags_will_be_created_without_duplication",
          "qualified_name": "tests.test_api.test_routes.test_articles.test_not_existing_tags_will_be_created_without_duplication",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 48,
          "line_end": 61,
          "complexity": 1,
          "local_variables": [
            "response",
            "article_data",
            "article"
          ],
          "calls": [
            "authorized_client.post",
            "app.url_path_for",
            "ArticleInResponse",
            "response.json",
            "set"
          ]
        },
        {
          "name": "test_user_can_not_retrieve_not_existing_article",
          "qualified_name": "tests.test_api.test_routes.test_articles.test_user_can_not_retrieve_not_existing_article",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_article",
              "type_annotation": "Article",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "api_method",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "route_name",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [
            {
              "name": "pytest.mark.parametrize",
              "arguments": [
                "api_method, route_name",
                "((GET, articles:get-article), (PUT, articles:update-article))"
              ],
              "keyword_arguments": {},
              "line_number": 64
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 68,
          "line_end": 78,
          "complexity": 1,
          "local_variables": [
            "response"
          ],
          "calls": [
            "authorized_client.request",
            "app.url_path_for",
            "pytest.mark.parametrize"
          ]
        },
        {
          "name": "test_user_can_retrieve_article_if_exists",
          "qualified_name": "tests.test_api.test_routes.test_articles.test_user_can_retrieve_article_if_exists",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_article",
              "type_annotation": "Article",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 81,
          "line_end": 88,
          "complexity": 1,
          "local_variables": [
            "response",
            "article"
          ],
          "calls": [
            "authorized_client.get",
            "app.url_path_for",
            "ArticleInResponse",
            "response.json"
          ]
        },
        {
          "name": "test_user_can_update_article",
          "qualified_name": "tests.test_api.test_routes.test_articles.test_user_can_update_article",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_article",
              "type_annotation": "Article",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "update_field",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "update_value",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "extra_updates",
              "type_annotation": "dict",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [
            {
              "name": "pytest.mark.parametrize",
              "arguments": [
                "update_field, update_value, extra_updates",
                "((title, New Title, {slug: new-title}), (description, new description, {}), (body, new body, {}))"
              ],
              "keyword_arguments": {},
              "line_number": 91
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 99,
          "line_end": 124,
          "complexity": 2,
          "local_variables": [
            "response",
            "exclude_fields",
            "article",
            "article_as_dict"
          ],
          "calls": [
            "authorized_client.put",
            "app.url_path_for",
            "ArticleInResponse",
            "response.json",
            "article.dict",
            "extra_updates.items",
            "extra_updates.keys",
            "article.dict",
            "test_article.dict",
            "pytest.mark.parametrize"
          ]
        },
        {
          "name": "test_user_can_not_modify_article_that_is_not_authored_by_him",
          "qualified_name": "tests.test_api.test_routes.test_articles.test_user_can_not_modify_article_that_is_not_authored_by_him",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "pool",
              "type_annotation": "Pool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "api_method",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "route_name",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [
            {
              "name": "pytest.mark.parametrize",
              "arguments": [
                "api_method, route_name",
                "((PUT, articles:update-article), (DELETE, articles:delete-article))"
              ],
              "keyword_arguments": {},
              "line_number": 127
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 131,
          "line_end": 158,
          "complexity": 1,
          "local_variables": [
            "response",
            "users_repo",
            "user",
            "articles_repo"
          ],
          "calls": [
            "pool.acquire",
            "UsersRepository",
            "users_repo.create_user",
            "ArticlesRepository",
            "articles_repo.create_article",
            "authorized_client.request",
            "app.url_path_for",
            "pytest.mark.parametrize"
          ]
        },
        {
          "name": "test_user_can_delete_his_article",
          "qualified_name": "tests.test_api.test_routes.test_articles.test_user_can_delete_his_article",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_article",
              "type_annotation": "Article",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "pool",
              "type_annotation": "Pool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 161,
          "line_end": 174,
          "complexity": 2,
          "local_variables": [
            "articles_repo"
          ],
          "calls": [
            "authorized_client.delete",
            "app.url_path_for",
            "pool.acquire",
            "ArticlesRepository",
            "pytest.raises",
            "articles_repo.get_article_by_slug"
          ]
        },
        {
          "name": "test_user_can_change_favorite_state",
          "qualified_name": "tests.test_api.test_routes.test_articles.test_user_can_change_favorite_state",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_article",
              "type_annotation": "Article",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "pool",
              "type_annotation": "Pool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "api_method",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "route_name",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "favorite_state",
              "type_annotation": "bool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [
            {
              "name": "pytest.mark.parametrize",
              "arguments": [
                "api_method, route_name, favorite_state",
                "((POST, articles:mark-article-favorite, True), (DELETE, articles:unmark-article-favorite, False))"
              ],
              "keyword_arguments": {},
              "line_number": 177
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 184,
          "line_end": 212,
          "complexity": 2,
          "local_variables": [
            "response",
            "articles_repo",
            "article"
          ],
          "calls": [
            "pool.acquire",
            "ArticlesRepository",
            "articles_repo.add_article_into_favorites",
            "authorized_client.request",
            "app.url_path_for",
            "authorized_client.get",
            "app.url_path_for",
            "ArticleInResponse",
            "response.json",
            "int",
            "pytest.mark.parametrize"
          ]
        },
        {
          "name": "test_user_can_not_change_article_state_twice",
          "qualified_name": "tests.test_api.test_routes.test_articles.test_user_can_not_change_article_state_twice",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_article",
              "type_annotation": "Article",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "pool",
              "type_annotation": "Pool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "api_method",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "route_name",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "favorite_state",
              "type_annotation": "bool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [
            {
              "name": "pytest.mark.parametrize",
              "arguments": [
                "api_method, route_name, favorite_state",
                "((POST, articles:mark-article-favorite, True), (DELETE, articles:unmark-article-favorite, False))"
              ],
              "keyword_arguments": {},
              "line_number": 215
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 222,
          "line_end": 243,
          "complexity": 2,
          "local_variables": [
            "response",
            "articles_repo"
          ],
          "calls": [
            "pool.acquire",
            "ArticlesRepository",
            "articles_repo.add_article_into_favorites",
            "authorized_client.request",
            "app.url_path_for",
            "pytest.mark.parametrize"
          ]
        },
        {
          "name": "test_empty_feed_if_user_has_not_followings",
          "qualified_name": "tests.test_api.test_routes.test_articles.test_empty_feed_if_user_has_not_followings",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_article",
              "type_annotation": "Article",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "pool",
              "type_annotation": "Pool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 246,
          "line_end": 276,
          "complexity": 3,
          "local_variables": [
            "users_repo",
            "articles",
            "articles_repo",
            "response",
            "user"
          ],
          "calls": [
            "pool.acquire",
            "UsersRepository",
            "ArticlesRepository",
            "range",
            "users_repo.create_user",
            "range",
            "articles_repo.create_article",
            "authorized_client.get",
            "app.url_path_for",
            "ListOfArticlesInResponse",
            "response.json"
          ]
        },
        {
          "name": "test_user_will_receive_only_following_articles",
          "qualified_name": "tests.test_api.test_routes.test_articles.test_user_will_receive_only_following_articles",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_article",
              "type_annotation": "Article",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "pool",
              "type_annotation": "Pool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 279,
          "line_end": 322,
          "complexity": 5,
          "local_variables": [
            "articles_from_response",
            "users_repo",
            "profiles_repo",
            "all_from_following",
            "articles_repo",
            "following_author_username",
            "response",
            "user"
          ],
          "calls": [
            "pool.acquire",
            "UsersRepository",
            "ProfilesRepository",
            "ArticlesRepository",
            "range",
            "users_repo.create_user",
            "profiles_repo.add_user_into_followers",
            "range",
            "articles_repo.create_article",
            "authorized_client.get",
            "app.url_path_for",
            "ListOfArticlesInResponse",
            "response.json",
            "len",
            "all"
          ]
        },
        {
          "name": "test_user_receiving_feed_with_limit_and_offset",
          "qualified_name": "tests.test_api.test_routes.test_articles.test_user_receiving_feed_with_limit_and_offset",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_article",
              "type_annotation": "Article",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "pool",
              "type_annotation": "Pool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 325,
          "line_end": 367,
          "complexity": 4,
          "local_variables": [
            "full_articles",
            "articles_from_response",
            "users_repo",
            "profiles_repo",
            "full_response",
            "articles_repo",
            "response",
            "user"
          ],
          "calls": [
            "pool.acquire",
            "UsersRepository",
            "ProfilesRepository",
            "ArticlesRepository",
            "range",
            "users_repo.create_user",
            "profiles_repo.add_user_into_followers",
            "range",
            "articles_repo.create_article",
            "authorized_client.get",
            "app.url_path_for",
            "ListOfArticlesInResponse",
            "full_response.json",
            "authorized_client.get",
            "app.url_path_for",
            "ListOfArticlesInResponse",
            "response.json"
          ]
        },
        {
          "name": "test_article_will_contain_only_attached_tags",
          "qualified_name": "tests.test_api.test_routes.test_articles.test_article_will_contain_only_attached_tags",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "pool",
              "type_annotation": "Pool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 370,
          "line_end": 402,
          "complexity": 2,
          "local_variables": [
            "response",
            "articles_repo",
            "attached_tags",
            "article"
          ],
          "calls": [
            "pool.acquire",
            "ArticlesRepository",
            "articles_repo.create_article",
            "range",
            "articles_repo.create_article",
            "authorized_client.get",
            "app.url_path_for",
            "ArticleInResponse",
            "response.json",
            "len",
            "len",
            "set",
            "set"
          ]
        },
        {
          "name": "test_filtering_by_tags",
          "qualified_name": "tests.test_api.test_routes.test_articles.test_filtering_by_tags",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "pool",
              "type_annotation": "Pool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "tag",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "result",
              "type_annotation": "int",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [
            {
              "name": "pytest.mark.parametrize",
              "arguments": [
                "tag, result",
                "((, 7), (tag1, 1), (tag2, 2), (wrong, 0))"
              ],
              "keyword_arguments": {},
              "line_number": 405
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 408,
          "line_end": 450,
          "complexity": 2,
          "local_variables": [
            "response",
            "articles_repo",
            "articles"
          ],
          "calls": [
            "pool.acquire",
            "ArticlesRepository",
            "articles_repo.create_article",
            "articles_repo.create_article",
            "range",
            "articles_repo.create_article",
            "authorized_client.get",
            "app.url_path_for",
            "ListOfArticlesInResponse",
            "response.json",
            "pytest.mark.parametrize"
          ]
        },
        {
          "name": "test_filtering_by_authors",
          "qualified_name": "tests.test_api.test_routes.test_articles.test_filtering_by_authors",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "pool",
              "type_annotation": "Pool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "author",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "result",
              "type_annotation": "int",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [
            {
              "name": "pytest.mark.parametrize",
              "arguments": [
                "author, result",
                "((, 8), (author1, 1), (author2, 2), (wrong, 0))"
              ],
              "keyword_arguments": {},
              "line_number": 453
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 456,
          "line_end": 498,
          "complexity": 2,
          "local_variables": [
            "author2",
            "users_repo",
            "articles",
            "articles_repo",
            "response",
            "author1"
          ],
          "calls": [
            "pool.acquire",
            "UsersRepository",
            "ArticlesRepository",
            "users_repo.create_user",
            "users_repo.create_user",
            "articles_repo.create_article",
            "articles_repo.create_article",
            "articles_repo.create_article",
            "range",
            "articles_repo.create_article",
            "authorized_client.get",
            "app.url_path_for",
            "ListOfArticlesInResponse",
            "response.json",
            "pytest.mark.parametrize"
          ]
        },
        {
          "name": "test_filtering_by_favorited",
          "qualified_name": "tests.test_api.test_routes.test_articles.test_filtering_by_favorited",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "pool",
              "type_annotation": "Pool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "favorited",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "result",
              "type_annotation": "int",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [
            {
              "name": "pytest.mark.parametrize",
              "arguments": [
                "favorited, result",
                "((, 7), (fan1, 1), (fan2, 2), (wrong, 0))"
              ],
              "keyword_arguments": {},
              "line_number": 501
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 504,
          "line_end": 547,
          "complexity": 2,
          "local_variables": [
            "fan1",
            "article1",
            "users_repo",
            "articles",
            "fan2",
            "articles_repo",
            "article2",
            "response"
          ],
          "calls": [
            "pool.acquire",
            "UsersRepository",
            "ArticlesRepository",
            "users_repo.create_user",
            "users_repo.create_user",
            "articles_repo.create_article",
            "articles_repo.create_article",
            "articles_repo.add_article_into_favorites",
            "articles_repo.add_article_into_favorites",
            "articles_repo.add_article_into_favorites",
            "range",
            "articles_repo.create_article",
            "authorized_client.get",
            "app.url_path_for",
            "ListOfArticlesInResponse",
            "response.json",
            "pytest.mark.parametrize"
          ]
        },
        {
          "name": "test_filtering_with_limit_and_offset",
          "qualified_name": "tests.test_api.test_routes.test_articles.test_filtering_with_limit_and_offset",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "pool",
              "type_annotation": "Pool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 550,
          "line_end": 575,
          "complexity": 2,
          "local_variables": [
            "full_articles",
            "articles_from_response",
            "full_response",
            "articles_repo",
            "response"
          ],
          "calls": [
            "pool.acquire",
            "ArticlesRepository",
            "range",
            "articles_repo.create_article",
            "authorized_client.get",
            "app.url_path_for",
            "ListOfArticlesInResponse",
            "full_response.json",
            "authorized_client.get",
            "app.url_path_for",
            "ListOfArticlesInResponse",
            "response.json"
          ]
        }
      ],
      "global_variables": [
        {
          "name": "pytestmark",
          "type_annotation": null,
          "default_value": "pytest.mark.asyncio",
          "is_class_var": false,
          "line_number": 15
        }
      ],
      "routers": [],
      "endpoints": [],
      "line_count": 576,
      "blank_lines": 84,
      "comment_lines": 0,
      "code_lines": 492,
      "file_hash": "0524b60cd6f2458c335d2ec916201845"
    },
    {
      "file_path": "tests/test_api/test_routes/test_authentication.py",
      "module_name": "tests.test_api.test_routes.test_authentication",
      "package": "tests.test_api.test_routes",
      "docstring": null,
      "imports": [
        {
          "module": "pytest",
          "names": [
            "pytest"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 1
        },
        {
          "module": "fastapi",
          "names": [
            "FastAPI"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        },
        {
          "module": "httpx",
          "names": [
            "AsyncClient"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "starlette.status",
          "names": [
            "HTTP_403_FORBIDDEN"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "User"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        },
        {
          "module": "app.services.jwt",
          "names": [
            "create_access_token_for_user"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "test_unable_to_login_with_wrong_jwt_prefix",
          "qualified_name": "tests.test_api.test_routes.test_authentication.test_unable_to_login_with_wrong_jwt_prefix",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "token",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 12,
          "line_end": 19,
          "complexity": 1,
          "local_variables": [
            "response"
          ],
          "calls": [
            "client.get",
            "app.url_path_for"
          ]
        },
        {
          "name": "test_unable_to_login_when_user_does_not_exist_any_more",
          "qualified_name": "tests.test_api.test_routes.test_authentication.test_unable_to_login_when_user_does_not_exist_any_more",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorization_prefix",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 22,
          "line_end": 32,
          "complexity": 1,
          "local_variables": [
            "token",
            "response"
          ],
          "calls": [
            "create_access_token_for_user",
            "User",
            "client.get",
            "app.url_path_for"
          ]
        }
      ],
      "global_variables": [
        {
          "name": "pytestmark",
          "type_annotation": null,
          "default_value": "pytest.mark.asyncio",
          "is_class_var": false,
          "line_number": 9
        }
      ],
      "routers": [],
      "endpoints": [],
      "line_count": 33,
      "blank_lines": 7,
      "comment_lines": 0,
      "code_lines": 26,
      "file_hash": "8d78abf19d3f5972f43af4d845b95a98"
    },
    {
      "file_path": "tests/test_api/test_routes/test_comments.py",
      "module_name": "tests.test_api.test_routes.test_comments",
      "package": "tests.test_api.test_routes",
      "docstring": null,
      "imports": [
        {
          "module": "pytest",
          "names": [
            "pytest"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 1
        },
        {
          "module": "asyncpg.pool",
          "names": [
            "Pool"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        },
        {
          "module": "fastapi",
          "names": [
            "FastAPI"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "httpx",
          "names": [
            "AsyncClient"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "starlette",
          "names": [
            "status"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        },
        {
          "module": "app.db.repositories.comments",
          "names": [
            "CommentsRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        },
        {
          "module": "app.db.repositories.users",
          "names": [
            "UsersRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 8
        },
        {
          "module": "app.models.domain.articles",
          "names": [
            "Article"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 9
        },
        {
          "module": "app.models.schemas.comments",
          "names": [
            "CommentInResponse",
            "ListOfCommentsInResponse"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 10
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "test_user_can_add_comment_for_article",
          "qualified_name": "tests.test_api.test_routes.test_comments.test_user_can_add_comment_for_article",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_article",
              "type_annotation": "Article",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 15,
          "line_end": 31,
          "complexity": 1,
          "local_variables": [
            "created_comment",
            "comments",
            "comments_for_article_response",
            "created_comment_response"
          ],
          "calls": [
            "authorized_client.post",
            "app.url_path_for",
            "CommentInResponse",
            "created_comment_response.json",
            "authorized_client.get",
            "app.url_path_for",
            "ListOfCommentsInResponse",
            "comments_for_article_response.json"
          ]
        },
        {
          "name": "test_user_can_delete_own_comment",
          "qualified_name": "tests.test_api.test_routes.test_comments.test_user_can_delete_own_comment",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_article",
              "type_annotation": "Article",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 34,
          "line_end": 58,
          "complexity": 1,
          "local_variables": [
            "created_comment",
            "comments",
            "comments_for_article_response",
            "created_comment_response"
          ],
          "calls": [
            "authorized_client.post",
            "app.url_path_for",
            "CommentInResponse",
            "created_comment_response.json",
            "authorized_client.delete",
            "app.url_path_for",
            "str",
            "authorized_client.get",
            "app.url_path_for",
            "ListOfCommentsInResponse",
            "comments_for_article_response.json",
            "len"
          ]
        },
        {
          "name": "test_user_can_not_delete_not_authored_comment",
          "qualified_name": "tests.test_api.test_routes.test_comments.test_user_can_not_delete_not_authored_comment",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_article",
              "type_annotation": "Article",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "pool",
              "type_annotation": "Pool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 61,
          "line_end": 82,
          "complexity": 1,
          "local_variables": [
            "forbidden_response",
            "users_repo",
            "comments_repo",
            "comment",
            "user"
          ],
          "calls": [
            "pool.acquire",
            "UsersRepository",
            "users_repo.create_user",
            "CommentsRepository",
            "comments_repo.create_comment_for_article",
            "authorized_client.delete",
            "app.url_path_for",
            "str"
          ]
        },
        {
          "name": "test_user_will_receive_error_for_not_existing_comment",
          "qualified_name": "tests.test_api.test_routes.test_comments.test_user_will_receive_error_for_not_existing_comment",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_article",
              "type_annotation": "Article",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 85,
          "line_end": 96,
          "complexity": 1,
          "local_variables": [
            "not_found_response"
          ],
          "calls": [
            "authorized_client.delete",
            "app.url_path_for"
          ]
        }
      ],
      "global_variables": [
        {
          "name": "pytestmark",
          "type_annotation": null,
          "default_value": "pytest.mark.asyncio",
          "is_class_var": false,
          "line_number": 12
        }
      ],
      "routers": [],
      "endpoints": [],
      "line_count": 97,
      "blank_lines": 23,
      "comment_lines": 0,
      "code_lines": 74,
      "file_hash": "16fba018a996128e03c6eed098924ebd"
    },
    {
      "file_path": "tests/test_api/test_routes/test_login.py",
      "module_name": "tests.test_api.test_routes.test_login",
      "package": "tests.test_api.test_routes",
      "docstring": null,
      "imports": [
        {
          "module": "pytest",
          "names": [
            "pytest"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 1
        },
        {
          "module": "fastapi",
          "names": [
            "FastAPI"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        },
        {
          "module": "httpx",
          "names": [
            "AsyncClient"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "starlette.status",
          "names": [
            "HTTP_200_OK",
            "HTTP_400_BAD_REQUEST"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "UserInDB"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "test_user_successful_login",
          "qualified_name": "tests.test_api.test_routes.test_login.test_user_successful_login",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 11,
          "line_end": 17,
          "complexity": 1,
          "local_variables": [
            "response",
            "login_json"
          ],
          "calls": [
            "client.post",
            "app.url_path_for"
          ]
        },
        {
          "name": "test_user_login_when_credential_part_does_not_match",
          "qualified_name": "tests.test_api.test_routes.test_login.test_user_login_when_credential_part_does_not_match",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "credentials_part",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "credentials_value",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [
            {
              "name": "pytest.mark.parametrize",
              "arguments": [
                "credentials_part, credentials_value",
                "((email, wrong@test.com), (password, wrong))"
              ],
              "keyword_arguments": {},
              "line_number": 20
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 24,
          "line_end": 34,
          "complexity": 1,
          "local_variables": [
            "response",
            "login_json"
          ],
          "calls": [
            "client.post",
            "app.url_path_for",
            "pytest.mark.parametrize"
          ]
        }
      ],
      "global_variables": [
        {
          "name": "pytestmark",
          "type_annotation": null,
          "default_value": "pytest.mark.asyncio",
          "is_class_var": false,
          "line_number": 8
        }
      ],
      "routers": [],
      "endpoints": [],
      "line_count": 35,
      "blank_lines": 8,
      "comment_lines": 0,
      "code_lines": 27,
      "file_hash": "721d0cd679071be894fe6106835da567"
    },
    {
      "file_path": "tests/test_api/test_routes/test_profiles.py",
      "module_name": "tests.test_api.test_routes.test_profiles",
      "package": "tests.test_api.test_routes",
      "docstring": null,
      "imports": [
        {
          "module": "pytest",
          "names": [
            "pytest"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 1
        },
        {
          "module": "asyncpg.pool",
          "names": [
            "Pool"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        },
        {
          "module": "fastapi",
          "names": [
            "FastAPI"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "httpx",
          "names": [
            "AsyncClient"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "starlette",
          "names": [
            "status"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        },
        {
          "module": "app.db.repositories.profiles",
          "names": [
            "ProfilesRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        },
        {
          "module": "app.db.repositories.users",
          "names": [
            "UsersRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 8
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "UserInDB"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 9
        },
        {
          "module": "app.models.schemas.profiles",
          "names": [
            "ProfileInResponse"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 10
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "test_unregistered_user_will_receive_profile_without_following",
          "qualified_name": "tests.test_api.test_routes.test_profiles.test_unregistered_user_will_receive_profile_without_following",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 15,
          "line_end": 23,
          "complexity": 1,
          "local_variables": [
            "response",
            "profile"
          ],
          "calls": [
            "client.get",
            "app.url_path_for",
            "ProfileInResponse",
            "response.json"
          ]
        },
        {
          "name": "test_user_that_does_not_follows_another_will_receive_profile_without_follow",
          "qualified_name": "tests.test_api.test_routes.test_profiles.test_user_that_does_not_follows_another_will_receive_profile_without_follow",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "pool",
              "type_annotation": "Pool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 26,
          "line_end": 42,
          "complexity": 1,
          "local_variables": [
            "response",
            "users_repo",
            "profile",
            "user"
          ],
          "calls": [
            "pool.acquire",
            "UsersRepository",
            "users_repo.create_user",
            "authorized_client.get",
            "app.url_path_for",
            "ProfileInResponse",
            "response.json"
          ]
        },
        {
          "name": "test_user_that_follows_another_will_receive_profile_with_follow",
          "qualified_name": "tests.test_api.test_routes.test_profiles.test_user_that_follows_another_will_receive_profile_with_follow",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "pool",
              "type_annotation": "Pool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 45,
          "line_end": 66,
          "complexity": 1,
          "local_variables": [
            "profiles_repo",
            "users_repo",
            "profile",
            "response",
            "user"
          ],
          "calls": [
            "pool.acquire",
            "UsersRepository",
            "users_repo.create_user",
            "ProfilesRepository",
            "profiles_repo.add_user_into_followers",
            "authorized_client.get",
            "app.url_path_for",
            "ProfileInResponse",
            "response.json"
          ]
        },
        {
          "name": "test_user_can_not_retrieve_not_existing_profile",
          "qualified_name": "tests.test_api.test_routes.test_profiles.test_user_can_not_retrieve_not_existing_profile",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "api_method",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "route_name",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [
            {
              "name": "pytest.mark.parametrize",
              "arguments": [
                "api_method, route_name",
                "((GET, profiles:get-profile), (POST, profiles:follow-user), (DELETE, profiles:unsubscribe-from-user))"
              ],
              "keyword_arguments": {},
              "line_number": 69
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 77,
          "line_end": 83,
          "complexity": 1,
          "local_variables": [
            "response"
          ],
          "calls": [
            "authorized_client.request",
            "app.url_path_for",
            "pytest.mark.parametrize"
          ]
        },
        {
          "name": "test_user_can_change_following_for_another_user",
          "qualified_name": "tests.test_api.test_routes.test_profiles.test_user_can_change_following_for_another_user",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "pool",
              "type_annotation": "Pool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "api_method",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "route_name",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "following",
              "type_annotation": "bool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [
            {
              "name": "pytest.mark.parametrize",
              "arguments": [
                "api_method, route_name, following",
                "((POST, profiles:follow-user, True), (DELETE, profiles:unsubscribe-from-user, False))"
              ],
              "keyword_arguments": {},
              "line_number": 86
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 93,
          "line_end": 126,
          "complexity": 2,
          "local_variables": [
            "profiles_repo",
            "users_repo",
            "change_following_response",
            "profile",
            "response",
            "user"
          ],
          "calls": [
            "pool.acquire",
            "UsersRepository",
            "users_repo.create_user",
            "ProfilesRepository",
            "profiles_repo.add_user_into_followers",
            "authorized_client.request",
            "app.url_path_for",
            "authorized_client.get",
            "app.url_path_for",
            "ProfileInResponse",
            "response.json",
            "pytest.mark.parametrize"
          ]
        },
        {
          "name": "test_user_can_not_change_following_state_to_the_same_twice",
          "qualified_name": "tests.test_api.test_routes.test_profiles.test_user_can_not_change_following_state_to_the_same_twice",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "pool",
              "type_annotation": "Pool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "api_method",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "route_name",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "following",
              "type_annotation": "bool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [
            {
              "name": "pytest.mark.parametrize",
              "arguments": [
                "api_method, route_name, following",
                "((POST, profiles:follow-user, True), (DELETE, profiles:unsubscribe-from-user, False))"
              ],
              "keyword_arguments": {},
              "line_number": 129
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 136,
          "line_end": 163,
          "complexity": 2,
          "local_variables": [
            "response",
            "profiles_repo",
            "users_repo",
            "user"
          ],
          "calls": [
            "pool.acquire",
            "UsersRepository",
            "users_repo.create_user",
            "ProfilesRepository",
            "profiles_repo.add_user_into_followers",
            "authorized_client.request",
            "app.url_path_for",
            "pytest.mark.parametrize"
          ]
        },
        {
          "name": "test_user_can_not_change_following_state_for_him_self",
          "qualified_name": "tests.test_api.test_routes.test_profiles.test_user_can_not_change_following_state_for_him_self",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "api_method",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "route_name",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [
            {
              "name": "pytest.mark.parametrize",
              "arguments": [
                "api_method, route_name",
                "((POST, profiles:follow-user), (DELETE, profiles:unsubscribe-from-user))"
              ],
              "keyword_arguments": {},
              "line_number": 166
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 170,
          "line_end": 181,
          "complexity": 1,
          "local_variables": [
            "response"
          ],
          "calls": [
            "authorized_client.request",
            "app.url_path_for",
            "pytest.mark.parametrize"
          ]
        }
      ],
      "global_variables": [
        {
          "name": "pytestmark",
          "type_annotation": null,
          "default_value": "pytest.mark.asyncio",
          "is_class_var": false,
          "line_number": 12
        }
      ],
      "routers": [],
      "endpoints": [],
      "line_count": 182,
      "blank_lines": 27,
      "comment_lines": 0,
      "code_lines": 155,
      "file_hash": "44c2cae8a029a8af9ff7b8cde70282de"
    },
    {
      "file_path": "tests/test_api/test_routes/test_registration.py",
      "module_name": "tests.test_api.test_routes.test_registration",
      "package": "tests.test_api.test_routes",
      "docstring": null,
      "imports": [
        {
          "module": "pytest",
          "names": [
            "pytest"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 1
        },
        {
          "module": "asyncpg.pool",
          "names": [
            "Pool"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        },
        {
          "module": "fastapi",
          "names": [
            "FastAPI"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "httpx",
          "names": [
            "AsyncClient"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "starlette.status",
          "names": [
            "HTTP_201_CREATED",
            "HTTP_400_BAD_REQUEST"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        },
        {
          "module": "app.db.repositories.users",
          "names": [
            "UsersRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "UserInDB"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 8
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "test_user_success_registration",
          "qualified_name": "tests.test_api.test_routes.test_registration.test_user_success_registration",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "pool",
              "type_annotation": "Pool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 13,
          "line_end": 30,
          "complexity": 1,
          "local_variables": [
            "registration_json",
            "repo",
            "response",
            "user"
          ],
          "calls": [
            "client.post",
            "app.url_path_for",
            "pool.acquire",
            "UsersRepository",
            "repo.get_user_by_email",
            "user.check_password"
          ]
        },
        {
          "name": "test_failed_user_registration_when_some_credentials_are_taken",
          "qualified_name": "tests.test_api.test_routes.test_registration.test_failed_user_registration_when_some_credentials_are_taken",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "credentials_part",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "credentials_value",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [
            {
              "name": "pytest.mark.parametrize",
              "arguments": [
                "credentials_part, credentials_value",
                "((username, free_username), (email, free-email@tset.com))"
              ],
              "keyword_arguments": {},
              "line_number": 33
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 37,
          "line_end": 56,
          "complexity": 1,
          "local_variables": [
            "registration_json",
            "response"
          ],
          "calls": [
            "client.post",
            "app.url_path_for",
            "pytest.mark.parametrize"
          ]
        }
      ],
      "global_variables": [
        {
          "name": "pytestmark",
          "type_annotation": null,
          "default_value": "pytest.mark.asyncio",
          "is_class_var": false,
          "line_number": 10
        }
      ],
      "routers": [],
      "endpoints": [],
      "line_count": 57,
      "blank_lines": 9,
      "comment_lines": 0,
      "code_lines": 48,
      "file_hash": "f0127919f09ed8953a216bbe05322636"
    },
    {
      "file_path": "tests/test_api/test_routes/test_tags.py",
      "module_name": "tests.test_api.test_routes.test_tags",
      "package": "tests.test_api.test_routes",
      "docstring": null,
      "imports": [
        {
          "module": "pytest",
          "names": [
            "pytest"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 1
        },
        {
          "module": "asyncpg.pool",
          "names": [
            "Pool"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        },
        {
          "module": "fastapi",
          "names": [
            "FastAPI"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "httpx",
          "names": [
            "AsyncClient"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "app.db.repositories.tags",
          "names": [
            "TagsRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "test_empty_list_when_no_tags_exist",
          "qualified_name": "tests.test_api.test_routes.test_tags.test_empty_list_when_no_tags_exist",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 11,
          "line_end": 13,
          "complexity": 1,
          "local_variables": [
            "response"
          ],
          "calls": [
            "client.get",
            "app.url_path_for",
            "response.json"
          ]
        },
        {
          "name": "test_list_of_tags_when_tags_exist",
          "qualified_name": "tests.test_api.test_routes.test_tags.test_list_of_tags_when_tags_exist",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "pool",
              "type_annotation": "Pool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 16,
          "line_end": 28,
          "complexity": 2,
          "local_variables": [
            "response",
            "tags",
            "tags_repo",
            "tags_from_response"
          ],
          "calls": [
            "pool.acquire",
            "TagsRepository",
            "tags_repo.create_tags_that_dont_exist",
            "client.get",
            "app.url_path_for",
            "response.json",
            "len",
            "len",
            "set",
            "all"
          ]
        }
      ],
      "global_variables": [
        {
          "name": "pytestmark",
          "type_annotation": null,
          "default_value": "pytest.mark.asyncio",
          "is_class_var": false,
          "line_number": 8
        }
      ],
      "routers": [],
      "endpoints": [],
      "line_count": 29,
      "blank_lines": 9,
      "comment_lines": 0,
      "code_lines": 20,
      "file_hash": "d2a439f8008a37a238421c817caf2d51"
    },
    {
      "file_path": "tests/test_api/test_routes/test_users.py",
      "module_name": "tests.test_api.test_routes.test_users",
      "package": "tests.test_api.test_routes",
      "docstring": null,
      "imports": [
        {
          "module": "pytest",
          "names": [
            "pytest"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 1
        },
        {
          "module": "asyncpg.pool",
          "names": [
            "Pool"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 2
        },
        {
          "module": "fastapi",
          "names": [
            "FastAPI"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        },
        {
          "module": "httpx",
          "names": [
            "AsyncClient"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 4
        },
        {
          "module": "starlette",
          "names": [
            "status"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 5
        },
        {
          "module": "app.db.repositories.users",
          "names": [
            "UsersRepository"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "UserInDB"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 8
        },
        {
          "module": "app.models.schemas.users",
          "names": [
            "UserInResponse"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 9
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "wrong_authorization_header",
          "qualified_name": "tests.test_api.test_routes.test_users.wrong_authorization_header",
          "parameters": [
            {
              "name": "request",
              "type_annotation": null,
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "str",
          "decorators": [
            {
              "name": "pytest.fixture",
              "arguments": [],
              "keyword_arguments": {
                "params": "(, value, Token value, JWT value, Bearer value)"
              },
              "line_number": 14
            }
          ],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 15,
          "line_end": 16,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "pytest.fixture"
          ]
        },
        {
          "name": "test_user_can_not_access_own_profile_if_not_logged_in",
          "qualified_name": "tests.test_api.test_routes.test_users.test_user_can_not_access_own_profile_if_not_logged_in",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "api_method",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "route_name",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [
            {
              "name": "pytest.mark.parametrize",
              "arguments": [
                "api_method, route_name",
                "((GET, users:get-current-user), (PUT, users:update-current-user))"
              ],
              "keyword_arguments": {},
              "line_number": 19
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 23,
          "line_end": 31,
          "complexity": 1,
          "local_variables": [
            "response"
          ],
          "calls": [
            "client.request",
            "app.url_path_for",
            "pytest.mark.parametrize"
          ]
        },
        {
          "name": "test_user_can_not_retrieve_own_profile_if_wrong_token",
          "qualified_name": "tests.test_api.test_routes.test_users.test_user_can_not_retrieve_own_profile_if_wrong_token",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "api_method",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "route_name",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "wrong_authorization_header",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [
            {
              "name": "pytest.mark.parametrize",
              "arguments": [
                "api_method, route_name",
                "((GET, users:get-current-user), (PUT, users:update-current-user))"
              ],
              "keyword_arguments": {},
              "line_number": 34
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 38,
          "line_end": 51,
          "complexity": 1,
          "local_variables": [
            "response"
          ],
          "calls": [
            "client.request",
            "app.url_path_for",
            "pytest.mark.parametrize"
          ]
        },
        {
          "name": "test_user_can_retrieve_own_profile",
          "qualified_name": "tests.test_api.test_routes.test_users.test_user_can_retrieve_own_profile",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "token",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 54,
          "line_end": 61,
          "complexity": 1,
          "local_variables": [
            "response",
            "user_profile"
          ],
          "calls": [
            "authorized_client.get",
            "app.url_path_for",
            "UserInResponse",
            "response.json"
          ]
        },
        {
          "name": "test_user_can_update_own_profile",
          "qualified_name": "tests.test_api.test_routes.test_users.test_user_can_update_own_profile",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "token",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "update_value",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "update_field",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [
            {
              "name": "pytest.mark.parametrize",
              "arguments": [
                "update_field, update_value",
                "((username, new_username), (email, new_email@email.com), (bio, new bio), (image, http://testhost.com/imageurl))"
              ],
              "keyword_arguments": {},
              "line_number": 64
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 73,
          "line_end": 88,
          "complexity": 1,
          "local_variables": [
            "response",
            "user_profile"
          ],
          "calls": [
            "authorized_client.put",
            "app.url_path_for",
            "dict",
            "UserInResponse",
            "response.json",
            "pytest.mark.parametrize"
          ]
        },
        {
          "name": "test_user_can_change_password",
          "qualified_name": "tests.test_api.test_routes.test_users.test_user_can_change_password",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "token",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "pool",
              "type_annotation": "Pool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 91,
          "line_end": 111,
          "complexity": 1,
          "local_variables": [
            "response",
            "users_repo",
            "user",
            "user_profile"
          ],
          "calls": [
            "authorized_client.put",
            "app.url_path_for",
            "UserInResponse",
            "response.json",
            "pool.acquire",
            "UsersRepository",
            "users_repo.get_user_by_username",
            "user.check_password"
          ]
        },
        {
          "name": "test_user_can_not_take_already_used_credentials",
          "qualified_name": "tests.test_api.test_routes.test_users.test_user_can_not_take_already_used_credentials",
          "parameters": [
            {
              "name": "app",
              "type_annotation": "FastAPI",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "authorized_client",
              "type_annotation": "AsyncClient",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "pool",
              "type_annotation": "Pool",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "token",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "credentials_part",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            },
            {
              "name": "credentials_value",
              "type_annotation": "str",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [
            {
              "name": "pytest.mark.parametrize",
              "arguments": [
                "credentials_part, credentials_value",
                "((username, taken_username), (email, taken@email.com))"
              ],
              "keyword_arguments": {},
              "line_number": 114
            }
          ],
          "docstring": null,
          "is_async": true,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 118,
          "line_end": 140,
          "complexity": 1,
          "local_variables": [
            "response",
            "user_dict",
            "users_repo"
          ],
          "calls": [
            "user_dict.update",
            "pool.acquire",
            "UsersRepository",
            "users_repo.create_user",
            "authorized_client.put",
            "app.url_path_for",
            "pytest.mark.parametrize"
          ]
        }
      ],
      "global_variables": [
        {
          "name": "pytestmark",
          "type_annotation": null,
          "default_value": "pytest.mark.asyncio",
          "is_class_var": false,
          "line_number": 11
        }
      ],
      "routers": [],
      "endpoints": [],
      "line_count": 141,
      "blank_lines": 22,
      "comment_lines": 0,
      "code_lines": 119,
      "file_hash": "97905f89addf853192a37436d7455482"
    },
    {
      "file_path": "tests/test_db/__init__.py",
      "module_name": "tests.test_db.__init__",
      "package": "tests.test_db",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 1,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 0,
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e"
    },
    {
      "file_path": "tests/test_db/test_queries/__init__.py",
      "module_name": "tests.test_db.test_queries.__init__",
      "package": "tests.test_db.test_queries",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 1,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 0,
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e"
    },
    {
      "file_path": "tests/test_db/test_queries/test_tables.py",
      "module_name": "tests.test_db.test_queries.test_tables",
      "package": "tests.test_db.test_queries",
      "docstring": null,
      "imports": [
        {
          "module": "app.db.queries.tables",
          "names": [
            "TypedTable"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "test_typed_table_uses_explicit_name",
          "qualified_name": "tests.test_db.test_queries.test_tables.test_typed_table_uses_explicit_name",
          "parameters": [],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 4,
          "line_end": 5,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "get_sql",
            "TypedTable"
          ]
        },
        {
          "name": "test_typed_table_use_class_attribute_as_table_name",
          "qualified_name": "tests.test_db.test_queries.test_tables.test_typed_table_use_class_attribute_as_table_name",
          "parameters": [],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 8,
          "line_end": 12,
          "complexity": 1,
          "local_variables": [
            "__table__"
          ],
          "calls": [
            "get_table_name",
            "NewTable"
          ]
        },
        {
          "name": "test_typed_table_use_class_name_as_table_name",
          "qualified_name": "tests.test_db.test_queries.test_tables.test_typed_table_use_class_name_as_table_name",
          "parameters": [],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 15,
          "line_end": 19,
          "complexity": 1,
          "local_variables": [],
          "calls": [
            "get_table_name",
            "NewTable"
          ]
        }
      ],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 20,
      "blank_lines": 9,
      "comment_lines": 0,
      "code_lines": 11,
      "file_hash": "ffe4209d8a39efae062f85dce70966c5"
    },
    {
      "file_path": "tests/test_schemas/__init__.py",
      "module_name": "tests.test_schemas.__init__",
      "package": "tests.test_schemas",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 1,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 0,
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e"
    },
    {
      "file_path": "tests/test_schemas/test_rw_model.py",
      "module_name": "tests.test_schemas.test_rw_model",
      "package": "tests.test_schemas",
      "docstring": null,
      "imports": [
        {
          "module": "datetime",
          "names": [
            "datetime"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "app.models.domain.rwmodel",
          "names": [
            "convert_datetime_to_realworld"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 3
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "test_api_datetime_is_in_realworld_format",
          "qualified_name": "tests.test_schemas.test_rw_model.test_api_datetime_is_in_realworld_format",
          "parameters": [],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 6,
          "line_end": 8,
          "complexity": 1,
          "local_variables": [
            "dt"
          ],
          "calls": [
            "datetime.fromisoformat",
            "convert_datetime_to_realworld"
          ]
        }
      ],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 9,
      "blank_lines": 4,
      "comment_lines": 0,
      "code_lines": 5,
      "file_hash": "ae0bdfa3320c68eb766a4a315b02bde9"
    },
    {
      "file_path": "tests/test_services/__init__.py",
      "module_name": "tests.test_services.__init__",
      "package": "tests.test_services",
      "docstring": null,
      "imports": [],
      "classes": [],
      "functions": [],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 1,
      "blank_lines": 1,
      "comment_lines": 0,
      "code_lines": 0,
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e"
    },
    {
      "file_path": "tests/test_services/test_jwt.py",
      "module_name": "tests.test_services.test_jwt",
      "package": "tests.test_services",
      "docstring": null,
      "imports": [
        {
          "module": "datetime",
          "names": [
            "timedelta"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 1
        },
        {
          "module": "jwt",
          "names": [
            "jwt"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 3
        },
        {
          "module": "pytest",
          "names": [
            "pytest"
          ],
          "alias": null,
          "is_from_import": false,
          "line_number": 4
        },
        {
          "module": "app.models.domain.users",
          "names": [
            "UserInDB"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 6
        },
        {
          "module": "app.services.jwt",
          "names": [
            "ALGORITHM",
            "create_access_token_for_user",
            "create_jwt_token",
            "get_username_from_token"
          ],
          "alias": null,
          "is_from_import": true,
          "line_number": 7
        }
      ],
      "classes": [],
      "functions": [
        {
          "name": "test_creating_jwt_token",
          "qualified_name": "tests.test_services.test_jwt.test_creating_jwt_token",
          "parameters": [],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 15,
          "line_end": 23,
          "complexity": 1,
          "local_variables": [
            "token",
            "parsed_payload"
          ],
          "calls": [
            "create_jwt_token",
            "timedelta",
            "jwt.decode"
          ]
        },
        {
          "name": "test_creating_token_for_user",
          "qualified_name": "tests.test_services.test_jwt.test_creating_token_for_user",
          "parameters": [
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 26,
          "line_end": 30,
          "complexity": 1,
          "local_variables": [
            "token",
            "parsed_payload"
          ],
          "calls": [
            "create_access_token_for_user",
            "jwt.decode"
          ]
        },
        {
          "name": "test_retrieving_token_from_user",
          "qualified_name": "tests.test_services.test_jwt.test_retrieving_token_from_user",
          "parameters": [
            {
              "name": "test_user",
              "type_annotation": "UserInDB",
              "default_value": null,
              "is_args": false,
              "is_kwargs": false
            }
          ],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 33,
          "line_end": 36,
          "complexity": 1,
          "local_variables": [
            "token",
            "username"
          ],
          "calls": [
            "create_access_token_for_user",
            "get_username_from_token"
          ]
        },
        {
          "name": "test_error_when_wrong_token",
          "qualified_name": "tests.test_services.test_jwt.test_error_when_wrong_token",
          "parameters": [],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 39,
          "line_end": 41,
          "complexity": 2,
          "local_variables": [],
          "calls": [
            "pytest.raises",
            "get_username_from_token"
          ]
        },
        {
          "name": "test_error_when_wrong_token_shape",
          "qualified_name": "tests.test_services.test_jwt.test_error_when_wrong_token_shape",
          "parameters": [],
          "return_type": "None",
          "decorators": [],
          "docstring": null,
          "is_async": false,
          "is_method": false,
          "is_classmethod": false,
          "is_staticmethod": false,
          "is_property": false,
          "line_start": 44,
          "line_end": 51,
          "complexity": 2,
          "local_variables": [
            "token"
          ],
          "calls": [
            "create_jwt_token",
            "timedelta",
            "pytest.raises",
            "get_username_from_token"
          ]
        }
      ],
      "global_variables": [],
      "routers": [],
      "endpoints": [],
      "line_count": 52,
      "blank_lines": 15,
      "comment_lines": 0,
      "code_lines": 37,
      "file_hash": "7cfbbbe1d8970b10a85b47bc063bd1ac"
    }
  ],
  "metrics": {
    "total_files": 95,
    "total_lines": 3936,
    "total_code_lines": 3115,
    "total_blank_lines": 809,
    "total_comment_lines": 12,
    "total_classes": 51,
    "total_functions": 132,
    "total_methods": 49,
    "total_endpoints": 20,
    "average_complexity": 1.54,
    "max_complexity": 7,
    "type_hint_coverage": 99.33,
    "docstring_coverage": 0.43
  },
  "dependency_graph": {
    "internal_dependencies": {
      "app.api.dependencies.articles": [
        "app.api.dependencies.authentication",
        "app.api.dependencies.database",
        "app.db.errors",
        "app.db.repositories.articles",
        "app.models.domain.articles",
        "app.models.domain.users",
        "app.models.schemas.articles",
        "app.resources",
        "app.services.articles"
      ],
      "app.api.dependencies.authentication": [
        "app.api.dependencies.database",
        "app.core.config",
        "app.core.settings.app",
        "app.db.errors",
        "app.db.repositories.users",
        "app.models.domain.users",
        "app.resources",
        "app.services"
      ],
      "app.api.dependencies.comments": [
        "app.api.dependencies",
        "app.db.errors",
        "app.db.repositories.comments",
        "app.models.domain.articles",
        "app.models.domain.comments",
        "app.models.domain.users",
        "app.resources",
        "app.services.comments"
      ],
      "app.api.dependencies.database": [
        "app.db.repositories.base"
      ],
      "app.api.dependencies.profiles": [
        "app.api.dependencies.authentication",
        "app.api.dependencies.database",
        "app.db.errors",
        "app.db.repositories.profiles",
        "app.models.domain.profiles",
        "app.models.domain.users",
        "app.resources"
      ],
      "app.api.routes.api": [
        "app.api.routes",
        "app.api.routes.articles"
      ],
      "app.api.routes.articles.api": [
        "app.api.routes.articles"
      ],
      "app.api.routes.articles.articles_common": [
        "app.api.dependencies.articles",
        "app.api.dependencies.authentication",
        "app.api.dependencies.database",
        "app.db.repositories.articles",
        "app.models.domain.articles",
        "app.models.domain.users",
        "app.models.schemas.articles",
        "app.resources"
      ],
      "app.api.routes.articles.articles_resource": [
        "app.api.dependencies.articles",
        "app.api.dependencies.authentication",
        "app.api.dependencies.database",
        "app.db.repositories.articles",
        "app.models.domain.articles",
        "app.models.domain.users",
        "app.models.schemas.articles",
        "app.resources",
        "app.services.articles"
      ],
      "app.api.routes.authentication": [
        "app.api.dependencies.database",
        "app.core.config",
        "app.core.settings.app",
        "app.db.errors",
        "app.db.repositories.users",
        "app.models.schemas.users",
        "app.resources",
        "app.services",
        "app.services.authentication"
      ],
      "app.api.routes.comments": [
        "app.api.dependencies.articles",
        "app.api.dependencies.authentication",
        "app.api.dependencies.comments",
        "app.api.dependencies.database",
        "app.db.repositories.comments",
        "app.models.domain.articles",
        "app.models.domain.comments",
        "app.models.domain.users",
        "app.models.schemas.comments"
      ],
      "app.api.routes.profiles": [
        "app.api.dependencies.authentication",
        "app.api.dependencies.database",
        "app.api.dependencies.profiles",
        "app.db.repositories.profiles",
        "app.models.domain.profiles",
        "app.models.domain.users",
        "app.models.schemas.profiles",
        "app.resources"
      ],
      "app.api.routes.tags": [
        "app.api.dependencies.database",
        "app.db.repositories.tags",
        "app.models.schemas.tags"
      ],
      "app.api.routes.users": [
        "app.api.dependencies.authentication",
        "app.api.dependencies.database",
        "app.core.config",
        "app.core.settings.app",
        "app.db.repositories.users",
        "app.models.domain.users",
        "app.models.schemas.users",
        "app.resources",
        "app.services",
        "app.services.authentication"
      ],
      "app.core.config": [
        "app.core.settings.app",
        "app.core.settings.base",
        "app.core.settings.development",
        "app.core.settings.production",
        "app.core.settings.test"
      ],
      "app.core.events": [
        "app.core.settings.app",
        "app.db.events"
      ],
      "app.core.settings.app": [
        "app.core.logging",
        "app.core.settings.base"
      ],
      "app.core.settings.development": [
        "app.core.settings.app"
      ],
      "app.core.settings.production": [
        "app.core.settings.app"
      ],
      "app.core.settings.test": [
        "app.core.settings.app"
      ],
      "app.db.events": [
        "app.core.settings.app"
      ],
      "app.db.migrations.env": [
        "app.core.config"
      ],
      "app.db.repositories.articles": [
        "app.db.errors",
        "app.db.queries.queries",
        "app.db.queries.tables",
        "app.db.repositories.base",
        "app.db.repositories.profiles",
        "app.db.repositories.tags",
        "app.models.domain.articles",
        "app.models.domain.users"
      ],
      "app.db.repositories.comments": [
        "app.db.errors",
        "app.db.queries.queries",
        "app.db.repositories.base",
        "app.db.repositories.profiles",
        "app.models.domain.articles",
        "app.models.domain.comments",
        "app.models.domain.users"
      ],
      "app.db.repositories.profiles": [
        "app.db.queries.queries",
        "app.db.repositories.base",
        "app.db.repositories.users",
        "app.models.domain.profiles",
        "app.models.domain.users"
      ],
      "app.db.repositories.tags": [
        "app.db.queries.queries",
        "app.db.repositories.base"
      ],
      "app.db.repositories.users": [
        "app.db.errors",
        "app.db.queries.queries",
        "app.db.repositories.base",
        "app.models.domain.users"
      ],
      "app.main": [
        "app.api.errors.http_error",
        "app.api.errors.validation_error",
        "app.api.routes.api",
        "app.core.config",
        "app.core.events"
      ],
      "app.models.domain.articles": [
        "app.models.common",
        "app.models.domain.profiles",
        "app.models.domain.rwmodel"
      ],
      "app.models.domain.comments": [
        "app.models.common",
        "app.models.domain.profiles",
        "app.models.domain.rwmodel"
      ],
      "app.models.domain.profiles": [
        "app.models.domain.rwmodel"
      ],
      "app.models.domain.users": [
        "app.models.common",
        "app.models.domain.rwmodel",
        "app.services"
      ],
      "app.models.schemas.articles": [
        "app.models.domain.articles",
        "app.models.schemas.rwschema"
      ],
      "app.models.schemas.comments": [
        "app.models.domain.comments",
        "app.models.schemas.rwschema"
      ],
      "app.models.schemas.profiles": [
        "app.models.domain.profiles"
      ],
      "app.models.schemas.rwschema": [
        "app.models.domain.rwmodel"
      ],
      "app.models.schemas.users": [
        "app.models.domain.users",
        "app.models.schemas.rwschema"
      ],
      "app.services.articles": [
        "app.db.errors",
        "app.db.repositories.articles",
        "app.models.domain.articles",
        "app.models.domain.users"
      ],
      "app.services.authentication": [
        "app.db.errors",
        "app.db.repositories.users"
      ],
      "app.services.comments": [
        "app.models.domain.comments",
        "app.models.domain.users"
      ],
      "app.services.jwt": [
        "app.models.domain.users",
        "app.models.schemas.jwt"
      ],
      "tests.conftest": [
        "app.db.repositories.articles",
        "app.db.repositories.users",
        "app.models.domain.articles",
        "app.models.domain.users",
        "app.services",
        "tests.fake_asyncpg_pool",
        "app.main",
        "app.core.config"
      ],
      "tests.test_api.test_routes.test_articles": [
        "app.db.errors",
        "app.db.repositories.articles",
        "app.db.repositories.profiles",
        "app.db.repositories.users",
        "app.models.domain.articles",
        "app.models.domain.users",
        "app.models.schemas.articles"
      ],
      "tests.test_api.test_routes.test_authentication": [
        "app.models.domain.users",
        "app.services.jwt"
      ],
      "tests.test_api.test_routes.test_comments": [
        "app.db.repositories.comments",
        "app.db.repositories.users",
        "app.models.domain.articles",
        "app.models.schemas.comments"
      ],
      "tests.test_api.test_routes.test_login": [
        "app.models.domain.users"
      ],
      "tests.test_api.test_routes.test_profiles": [
        "app.db.repositories.profiles",
        "app.db.repositories.users",
        "app.models.domain.users",
        "app.models.schemas.profiles"
      ],
      "tests.test_api.test_routes.test_registration": [
        "app.db.repositories.users",
        "app.models.domain.users"
      ],
      "tests.test_api.test_routes.test_tags": [
        "app.db.repositories.tags"
      ],
      "tests.test_api.test_routes.test_users": [
        "app.db.repositories.users",
        "app.models.domain.users",
        "app.models.schemas.users"
      ],
      "tests.test_db.test_queries.test_tables": [
        "app.db.queries.tables"
      ],
      "tests.test_schemas.test_rw_model": [
        "app.models.domain.rwmodel"
      ],
      "tests.test_services.test_jwt": [
        "app.models.domain.users",
        "app.services.jwt"
      ]
    },
    "external_dependencies": [
      "loguru",
      "sqlalchemy",
      "alembic",
      "pathlib",
      "starlette",
      "asyncpg",
      "logging",
      "aiosql",
      "httpx",
      "pydantic",
      "pytest",
      "enum",
      "datetime",
      "os",
      "fastapi",
      "pypika",
      "jwt",
      "bcrypt",
      "types",
      "typing",
      "functools",
      "sys",
      "slugify",
      "passlib",
      "asgi_lifespan"
    ],
    "dependency_matrix": {
      "app.__init__": [],
      "app.api.__init__": [],
      "app.api.dependencies.__init__": [],
      "app.api.dependencies.articles": [
        "app.resources",
        "app.models.domain.users",
        "app.api.dependencies.authentication",
        "app.api.dependencies.database",
        "app.models.domain.articles",
        "app.models.schemas.articles",
        "app.services.articles",
        "app.db.errors",
        "app.db.repositories.articles"
      ],
      "app.api.dependencies.authentication": [
        "app.resources",
        "app.core.config",
        "app.models.domain.users",
        "app.api.dependencies.database",
        "app.db.repositories.users",
        "app.db.errors",
        "app.core.settings.app",
        "app.services"
      ],
      "app.api.dependencies.comments": [
        "app.resources",
        "app.models.domain.users",
        "app.db.repositories.comments",
        "app.models.domain.articles",
        "app.models.domain.comments",
        "app.api.dependencies",
        "app.services.comments",
        "app.db.errors"
      ],
      "app.api.dependencies.database": [
        "app.db.repositories.base"
      ],
      "app.api.dependencies.profiles": [
        "app.resources",
        "app.db.repositories.profiles",
        "app.models.domain.profiles",
        "app.models.domain.users",
        "app.api.dependencies.authentication",
        "app.api.dependencies.database",
        "app.db.errors"
      ],
      "app.api.errors.__init__": [],
      "app.api.errors.http_error": [],
      "app.api.errors.validation_error": [],
      "app.api.routes.__init__": [],
      "app.api.routes.api": [
        "app.api.routes.articles",
        "app.api.routes"
      ],
      "app.api.routes.articles.__init__": [],
      "app.api.routes.articles.api": [
        "app.api.routes.articles"
      ],
      "app.api.routes.articles.articles_common": [
        "app.resources",
        "app.api.dependencies.articles",
        "app.models.domain.users",
        "app.api.dependencies.authentication",
        "app.api.dependencies.database",
        "app.models.domain.articles",
        "app.models.schemas.articles",
        "app.db.repositories.articles"
      ],
      "app.api.routes.articles.articles_resource": [
        "app.resources",
        "app.api.dependencies.articles",
        "app.models.domain.users",
        "app.api.dependencies.authentication",
        "app.api.dependencies.database",
        "app.models.domain.articles",
        "app.models.schemas.articles",
        "app.services.articles",
        "app.db.repositories.articles"
      ],
      "app.api.routes.authentication": [
        "app.resources",
        "app.services.authentication",
        "app.core.config",
        "app.models.schemas.users",
        "app.api.dependencies.database",
        "app.db.repositories.users",
        "app.db.errors",
        "app.core.settings.app",
        "app.services"
      ],
      "app.api.routes.comments": [
        "app.api.dependencies.articles",
        "app.api.dependencies.comments",
        "app.db.repositories.comments",
        "app.models.domain.users",
        "app.api.dependencies.authentication",
        "app.api.dependencies.database",
        "app.models.domain.articles",
        "app.models.domain.comments",
        "app.models.schemas.comments"
      ],
      "app.api.routes.profiles": [
        "app.api.dependencies.profiles",
        "app.resources",
        "app.models.schemas.profiles",
        "app.models.domain.profiles",
        "app.db.repositories.profiles",
        "app.models.domain.users",
        "app.api.dependencies.authentication",
        "app.api.dependencies.database"
      ],
      "app.api.routes.tags": [
        "app.api.dependencies.database",
        "app.db.repositories.tags",
        "app.models.schemas.tags"
      ],
      "app.api.routes.users": [
        "app.resources",
        "app.services.authentication",
        "app.core.config",
        "app.models.domain.users",
        "app.models.schemas.users",
        "app.api.dependencies.authentication",
        "app.api.dependencies.database",
        "app.db.repositories.users",
        "app.core.settings.app",
        "app.services"
      ],
      "app.core.__init__": [],
      "app.core.config": [
        "app.core.settings.test",
        "app.core.settings.production",
        "app.core.settings.development",
        "app.core.settings.app",
        "app.core.settings.base"
      ],
      "app.core.events": [
        "app.core.settings.app",
        "app.db.events"
      ],
      "app.core.logging": [],
      "app.core.settings.__init__": [],
      "app.core.settings.app": [
        "app.core.logging",
        "app.core.settings.base"
      ],
      "app.core.settings.base": [],
      "app.core.settings.development": [
        "app.core.settings.app"
      ],
      "app.core.settings.production": [
        "app.core.settings.app"
      ],
      "app.core.settings.test": [
        "app.core.settings.app"
      ],
      "app.db.__init__": [],
      "app.db.errors": [],
      "app.db.events": [
        "app.core.settings.app"
      ],
      "app.db.migrations.env": [
        "app.core.config"
      ],
      "app.db.migrations.versions.fdf8821871d7_main_tables": [],
      "app.db.queries.__init__": [],
      "app.db.queries.queries": [],
      "app.db.queries.tables": [],
      "app.db.repositories.__init__": [],
      "app.db.repositories.articles": [
        "app.db.repositories.profiles",
        "app.db.queries.tables",
        "app.db.queries.queries",
        "app.models.domain.users",
        "app.db.repositories.tags",
        "app.db.repositories.base",
        "app.models.domain.articles",
        "app.db.errors"
      ],
      "app.db.repositories.base": [],
      "app.db.repositories.comments": [
        "app.db.repositories.profiles",
        "app.db.queries.queries",
        "app.models.domain.users",
        "app.db.repositories.base",
        "app.models.domain.articles",
        "app.models.domain.comments",
        "app.db.errors"
      ],
      "app.db.repositories.profiles": [
        "app.models.domain.profiles",
        "app.db.queries.queries",
        "app.models.domain.users",
        "app.db.repositories.base",
        "app.db.repositories.users"
      ],
      "app.db.repositories.tags": [
        "app.db.repositories.base",
        "app.db.queries.queries"
      ],
      "app.db.repositories.users": [
        "app.db.errors",
        "app.models.domain.users",
        "app.db.repositories.base",
        "app.db.queries.queries"
      ],
      "app.main": [
        "app.api.routes.api",
        "app.api.errors.validation_error",
        "app.core.config",
        "app.api.errors.http_error",
        "app.core.events"
      ],
      "app.models.__init__": [],
      "app.models.common": [],
      "app.models.domain.__init__": [],
      "app.models.domain.articles": [
        "app.models.common",
        "app.models.domain.profiles",
        "app.models.domain.rwmodel"
      ],
      "app.models.domain.comments": [
        "app.models.common",
        "app.models.domain.profiles",
        "app.models.domain.rwmodel"
      ],
      "app.models.domain.profiles": [
        "app.models.domain.rwmodel"
      ],
      "app.models.domain.rwmodel": [],
      "app.models.domain.users": [
        "app.models.common",
        "app.services",
        "app.models.domain.rwmodel"
      ],
      "app.models.schemas.__init__": [],
      "app.models.schemas.articles": [
        "app.models.domain.articles",
        "app.models.schemas.rwschema"
      ],
      "app.models.schemas.comments": [
        "app.models.domain.comments",
        "app.models.schemas.rwschema"
      ],
      "app.models.schemas.jwt": [],
      "app.models.schemas.profiles": [
        "app.models.domain.profiles"
      ],
      "app.models.schemas.rwschema": [
        "app.models.domain.rwmodel"
      ],
      "app.models.schemas.tags": [],
      "app.models.schemas.users": [
        "app.models.domain.users",
        "app.models.schemas.rwschema"
      ],
      "app.resources.__init__": [],
      "app.resources.strings": [],
      "app.services.__init__": [],
      "app.services.articles": [
        "app.db.errors",
        "app.models.domain.users",
        "app.models.domain.articles",
        "app.db.repositories.articles"
      ],
      "app.services.authentication": [
        "app.db.errors",
        "app.db.repositories.users"
      ],
      "app.services.comments": [
        "app.models.domain.users",
        "app.models.domain.comments"
      ],
      "app.services.jwt": [
        "app.models.domain.users",
        "app.models.schemas.jwt"
      ],
      "app.services.security": [],
      "tests.__init__": [],
      "tests.conftest": [
        "tests.fake_asyncpg_pool",
        "app.core.config",
        "app.models.domain.users",
        "app.models.domain.articles",
        "app.db.repositories.users",
        "app.db.repositories.articles",
        "app.services",
        "app.main"
      ],
      "tests.fake_asyncpg_pool": [],
      "tests.test_api.__init__": [],
      "tests.test_api.test_errors.__init__": [],
      "tests.test_api.test_errors.test_422_error": [],
      "tests.test_api.test_errors.test_error": [],
      "tests.test_api.test_routes.__init__": [],
      "tests.test_api.test_routes.test_articles": [
        "app.db.repositories.profiles",
        "app.models.domain.users",
        "app.models.domain.articles",
        "app.db.repositories.users",
        "app.models.schemas.articles",
        "app.db.repositories.articles",
        "app.db.errors"
      ],
      "tests.test_api.test_routes.test_authentication": [
        "app.models.domain.users",
        "app.services.jwt"
      ],
      "tests.test_api.test_routes.test_comments": [
        "app.db.repositories.comments",
        "app.models.schemas.comments",
        "app.db.repositories.users",
        "app.models.domain.articles"
      ],
      "tests.test_api.test_routes.test_login": [
        "app.models.domain.users"
      ],
      "tests.test_api.test_routes.test_profiles": [
        "app.models.domain.users",
        "app.models.schemas.profiles",
        "app.db.repositories.profiles",
        "app.db.repositories.users"
      ],
      "tests.test_api.test_routes.test_registration": [
        "app.models.domain.users",
        "app.db.repositories.users"
      ],
      "tests.test_api.test_routes.test_tags": [
        "app.db.repositories.tags"
      ],
      "tests.test_api.test_routes.test_users": [
        "app.models.domain.users",
        "app.models.schemas.users",
        "app.db.repositories.users"
      ],
      "tests.test_db.__init__": [],
      "tests.test_db.test_queries.__init__": [],
      "tests.test_db.test_queries.test_tables": [
        "app.db.queries.tables"
      ],
      "tests.test_schemas.__init__": [],
      "tests.test_schemas.test_rw_model": [
        "app.models.domain.rwmodel"
      ],
      "tests.test_services.__init__": [],
      "tests.test_services.test_jwt": [
        "app.models.domain.users",
        "app.services.jwt"
      ]
    }
  },
  "api_summary": {
    "total_endpoints": 20,
    "endpoints_by_method": {
      "GET": 8,
      "POST": 6,
      "DELETE": 4,
      "PUT": 2
    },
    "endpoints_by_tag": {},
    "routes": [
      {
        "method": "GET",
        "path": "/feed",
        "function": "get_articles_for_user_feed",
        "response_model": "ListOfArticlesInResponse",
        "file": "app/api/routes/articles/articles_common.py"
      },
      {
        "method": "POST",
        "path": "/{slug}/favorite",
        "function": "mark_article_as_favorite",
        "response_model": "ArticleInResponse",
        "file": "app/api/routes/articles/articles_common.py"
      },
      {
        "method": "DELETE",
        "path": "/{slug}/favorite",
        "function": "remove_article_from_favorites",
        "response_model": "ArticleInResponse",
        "file": "app/api/routes/articles/articles_common.py"
      },
      {
        "method": "GET",
        "path": "",
        "function": "list_articles",
        "response_model": "ListOfArticlesInResponse",
        "file": "app/api/routes/articles/articles_resource.py"
      },
      {
        "method": "POST",
        "path": "",
        "function": "create_new_article",
        "response_model": "ArticleInResponse",
        "file": "app/api/routes/articles/articles_resource.py"
      },
      {
        "method": "GET",
        "path": "/{slug}",
        "function": "retrieve_article_by_slug",
        "response_model": "ArticleInResponse",
        "file": "app/api/routes/articles/articles_resource.py"
      },
      {
        "method": "PUT",
        "path": "/{slug}",
        "function": "update_article_by_slug",
        "response_model": "ArticleInResponse",
        "file": "app/api/routes/articles/articles_resource.py"
      },
      {
        "method": "DELETE",
        "path": "/{slug}",
        "function": "delete_article_by_slug",
        "response_model": null,
        "file": "app/api/routes/articles/articles_resource.py"
      },
      {
        "method": "POST",
        "path": "/login",
        "function": "login",
        "response_model": "UserInResponse",
        "file": "app/api/routes/authentication.py"
      },
      {
        "method": "POST",
        "path": "",
        "function": "register",
        "response_model": "UserInResponse",
        "file": "app/api/routes/authentication.py"
      },
      {
        "method": "GET",
        "path": "",
        "function": "list_comments_for_article",
        "response_model": "ListOfCommentsInResponse",
        "file": "app/api/routes/comments.py"
      },
      {
        "method": "POST",
        "path": "",
        "function": "create_comment_for_article",
        "response_model": "CommentInResponse",
        "file": "app/api/routes/comments.py"
      },
      {
        "method": "DELETE",
        "path": "/{comment_id}",
        "function": "delete_comment_from_article",
        "response_model": null,
        "file": "app/api/routes/comments.py"
      },
      {
        "method": "GET",
        "path": "/{username}",
        "function": "retrieve_profile_by_username",
        "response_model": "ProfileInResponse",
        "file": "app/api/routes/profiles.py"
      },
      {
        "method": "POST",
        "path": "/{username}/follow",
        "function": "follow_for_user",
        "response_model": "ProfileInResponse",
        "file": "app/api/routes/profiles.py"
      },
      {
        "method": "DELETE",
        "path": "/{username}/follow",
        "function": "unsubscribe_from_user",
        "response_model": "ProfileInResponse",
        "file": "app/api/routes/profiles.py"
      },
      {
        "method": "GET",
        "path": "",
        "function": "get_all_tags",
        "response_model": "TagsInList",
        "file": "app/api/routes/tags.py"
      },
      {
        "method": "GET",
        "path": "",
        "function": "retrieve_current_user",
        "response_model": "UserInResponse",
        "file": "app/api/routes/users.py"
      },
      {
        "method": "PUT",
        "path": "",
        "function": "update_current_user",
        "response_model": "UserInResponse",
        "file": "app/api/routes/users.py"
      },
      {
        "method": "GET",
        "path": "/wrong_path/{param}",
        "function": "route_for_test",
        "response_model": null,
        "file": "tests/test_api/test_errors/test_422_error.py"
      }
    ]
  },
  "issues": []
}